module.exports=[48754,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(46271),e=a.i(62036),f=a.i(97895),g=a.i(85085),h=a.i(38867),i=a.i(43335),j=a.i(83103),k=a.i(53250);let l=[{id:0,label:"BASIC INFO"},{id:1,label:"ENDPOINTS"},{id:2,label:"SKILLS"},{id:3,label:"CONFIG"},{id:4,label:"REVIEW"},{id:5,label:"DEPLOY"},{id:6,label:"DONE"}],m=Object.keys(j.CONTRACTS).length;function n(){let[a,f]=(0,c.useState)(0),[h,i]=(0,c.useState)({...j.DEFAULT_FORM_DATA}),[k,l]=(0,c.useState)(null),[m,n]=(0,c.useState)(null),[p,q]=(0,c.useState)(!1),[r,s]=(0,c.useState)(!1),[u,w]=(0,c.useState)(!1),{walletAddress:A,signer:B}=(0,g.useWallet)(),E=(0,c.useCallback)(a=>{i(b=>({...b,...a})),void 0!==a.name&&q(!1),void 0!==a.url&&s(!1)},[]),F=(0,c.useCallback)(()=>{switch(a){case 0:return""!==h.name.trim()&&h.url.trim().startsWith("http")&&""!==h.description.trim()&&!p&&!r&&!u;case 1:case 2:case 3:return!0;case 4:return!!A;default:return!1}},[a,h,A,p,r,u]);return(0,b.jsx)("div",{className:"h-full w-full relative flex flex-col overflow-y-auto no-scrollbar",children:(0,b.jsxs)("div",{className:"flex-1 flex flex-col items-center pt-24 pb-16 px-4 md:px-8",children:[a<6&&(0,b.jsx)(o,{currentStep:a}),(0,b.jsxs)("div",{className:"w-full max-w-2xl mt-8",children:[(0,b.jsx)(e.AnimatePresence,{mode:"wait",children:(0,b.jsxs)(d.motion.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},exit:{opacity:0,y:-12},transition:{duration:.25},children:[0===a&&(0,b.jsx)(t,{form:h,updateForm:E,nameTaken:p,setNameTaken:q,urlTaken:r,setUrlTaken:s,checking:u,setChecking:w}),1===a&&(0,b.jsx)(v,{form:h,updateForm:E}),2===a&&(0,b.jsx)(x,{form:h,updateForm:E}),3===a&&(0,b.jsx)(y,{form:h,updateForm:E}),4===a&&(0,b.jsx)(z,{form:h,walletAddress:A}),5===a&&(0,b.jsx)(C,{form:h,walletAddress:A,signer:B,setResult:l,setError:n,onComplete:()=>f(6)}),6===a&&(0,b.jsx)(D,{result:k,error:m,form:h})]},a)}),a<5&&(0,b.jsxs)("div",{className:"flex items-center justify-between mt-8 pt-6 border-t border-border",children:[(0,b.jsx)("button",{onClick:()=>f(a=>Math.max(0,a-1)),disabled:0===a,className:"font-mono text-xs uppercase tracking-widest text-muted-foreground hover:text-foreground transition-colors disabled:opacity-30",children:"[BACK]"}),a<4?(0,b.jsx)("button",{onClick:()=>f(a=>a+1),disabled:!F(),className:"font-mono text-xs uppercase tracking-widest bg-foreground text-background px-6 py-2.5 hover:opacity-90 transition-opacity disabled:opacity-30",children:"NEXT →"}):(0,b.jsx)("button",{onClick:()=>f(5),disabled:!A,className:"font-mono text-xs uppercase tracking-widest bg-foreground text-background px-6 py-2.5 hover:opacity-90 transition-opacity disabled:opacity-30",children:"SIGN & DEPLOY"})]})]})]})})}function o({currentStep:a}){return(0,b.jsx)("div",{className:"flex items-center gap-1 md:gap-2 w-full max-w-2xl",children:l.slice(0,6).map(c=>(0,b.jsxs)("div",{className:"flex-1 flex flex-col items-center gap-2",children:[(0,b.jsx)("div",{className:(0,f.cn)("w-full h-1 rounded-full transition-colors duration-300",c.id<=a?"bg-foreground":"bg-border")}),(0,b.jsx)("span",{className:(0,f.cn)("font-mono text-[9px] tracking-widest uppercase transition-colors duration-300 hidden md:block",c.id===a?"text-foreground":"text-muted-foreground/50"),children:c.label})]},c.id))})}function p({children:a}){return(0,b.jsx)("label",{className:"font-mono text-[10px] uppercase tracking-widest text-muted-foreground mb-1.5 block",children:a})}function q({value:a,onChange:c,placeholder:d,required:e,error:g}){return(0,b.jsx)("input",{type:"text",value:a,onChange:a=>c(a.target.value),placeholder:d,required:e,className:(0,f.cn)("w-full bg-transparent border px-4 py-2.5 font-mono text-sm text-foreground placeholder:text-muted-foreground/40 focus:outline-none transition-colors",g?"border-error-red focus:border-error-red":"border-border focus:border-foreground/40")})}function r({value:a,onChange:c,placeholder:d,rows:e=3}){return(0,b.jsx)("textarea",{value:a,onChange:a=>c(a.target.value),placeholder:d,rows:e,className:"w-full bg-transparent border border-border px-4 py-2.5 font-mono text-sm text-foreground placeholder:text-muted-foreground/40 focus:outline-none focus:border-foreground/40 transition-colors resize-none no-scrollbar"})}function s({step:a,title:c}){return(0,b.jsxs)("div",{className:"mb-6",children:[(0,b.jsx)("span",{className:"font-mono text-[10px] text-muted-foreground/60 uppercase tracking-widest",children:a}),(0,b.jsx)("h2",{className:"font-mono text-2xl md:text-3xl font-bold tracking-tight uppercase text-foreground mt-1",children:c})]})}function t({form:a,updateForm:d,nameTaken:e,setNameTaken:f,urlTaken:g,setUrlTaken:h,checking:i,setChecking:j}){let l=(0,c.useRef)(null),m=(0,c.useRef)(null),n=(0,c.useCallback)(a=>{(l.current&&clearTimeout(l.current),a.trim())?(j(!0),l.current=setTimeout(async()=>{try{let b=await (0,k.apiCheckAgent)(a.trim(),void 0);f(b.nameTaken)}catch{}j(!1)},500)):f(!1)},[f,j]),o=(0,c.useCallback)(a=>{(m.current&&clearTimeout(m.current),a.trim())?(j(!0),m.current=setTimeout(async()=>{try{let b=await (0,k.apiCheckAgent)(void 0,a.trim());h(b.urlTaken)}catch{}j(!1)},500)):h(!1)},[h,j]);return(0,b.jsxs)("div",{className:"flex flex-col gap-5",children:[(0,b.jsx)(s,{step:"Step 01",title:"Basic Information"}),(0,b.jsxs)("div",{children:[(0,b.jsx)(p,{children:"Agent Name *"}),(0,b.jsx)(q,{value:a.name,onChange:a=>{d({name:a}),n(a)},placeholder:"My AI Agent",required:!0,error:e}),e&&(0,b.jsx)("span",{className:"font-mono text-[10px] uppercase tracking-wider text-error-red mt-1 block",children:"This name is already taken — an agent with this name is already live"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(p,{children:"Agent URL *"}),(0,b.jsx)(q,{value:a.url,onChange:a=>{d({url:a}),o(a)},placeholder:"https://my-agent.vercel.app",required:!0,error:g}),g&&(0,b.jsx)("span",{className:"font-mono text-[10px] uppercase tracking-wider text-error-red mt-1 block",children:"This URL is already registered — an agent at this URL is already live"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(p,{children:"Image URL (optional)"}),(0,b.jsx)(q,{value:a.imageUrl,onChange:a=>d({imageUrl:a}),placeholder:"https://..."})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(p,{children:"Description *"}),(0,b.jsx)(r,{value:a.description,onChange:a=>d({description:a}),placeholder:"What does your agent do?"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(p,{children:"Version"}),(0,b.jsx)(q,{value:a.version,onChange:a=>d({version:a}),placeholder:"1.0.0"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(p,{children:"Author"}),(0,b.jsx)(q,{value:a.author,onChange:a=>d({author:a}),placeholder:"Name"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(p,{children:"License"}),(0,b.jsx)(q,{value:a.license,onChange:a=>d({license:a}),placeholder:"MIT"})]})]})]})}function u({url:a,protocol:d}){let[e,g]=(0,c.useState)("idle"),[h,i]=(0,c.useState)(""),j=(0,c.useRef)(null);return((0,c.useEffect)(()=>{if(j.current&&clearTimeout(j.current),!a||!a.startsWith("http")){g("idle"),i("");return}return g("checking"),j.current=setTimeout(async()=>{try{let b="A2A"===d?{jsonrpc:"2.0",method:"agent/info",id:1}:{jsonrpc:"2.0",method:"tools/list",id:1},c=new AbortController,e=setTimeout(()=>c.abort(),5e3),f=await fetch(a,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(b),signal:c.signal});if(clearTimeout(e),f.ok)try{let a=await f.json();void 0!==a.result||a.jsonrpc||a.error?(g("ok"),i(`Responding to ${d} protocol`)):(g("partial"),i("Reachable but not responding to protocol"))}catch{g("partial"),i("Reachable but response is not JSON")}else g("partial"),i(`Reachable (HTTP ${f.status}) but not 2xx`)}catch{g("error"),i("Unreachable or CORS blocked")}},1500),()=>{j.current&&clearTimeout(j.current)}},[a,d]),"idle"===e)?null:(0,b.jsxs)("div",{className:"flex items-center gap-2 mt-1.5",children:[(0,b.jsx)("span",{className:(0,f.cn)("h-2 w-2 rounded-full shrink-0","ok"===e?"bg-system-green":"partial"===e?"bg-warning-amber":"checking"===e?"bg-muted-foreground/30 animate-pulse":"bg-error-red")}),(0,b.jsx)("span",{className:(0,f.cn)("font-mono text-[9px] uppercase tracking-wider","ok"===e?"text-system-green":"partial"===e?"text-warning-amber":"checking"===e?"text-muted-foreground/50":"text-error-red"),children:"checking"===e?"Checking...":h})]})}function v({form:a,updateForm:c}){return(0,b.jsxs)("div",{className:"flex flex-col gap-5",children:[(0,b.jsx)(s,{step:"Step 02",title:"Endpoints"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground -mt-3",children:"Optional protocol endpoints for your agent."}),(0,b.jsxs)("div",{children:[(0,b.jsx)(p,{children:"MCP Endpoint URL"}),(0,b.jsx)(q,{value:a.mcpEndpoint,onChange:a=>c({mcpEndpoint:a}),placeholder:"https://my-agent.com/mcp"}),(0,b.jsx)(u,{url:a.mcpEndpoint,protocol:"MCP"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(p,{children:"A2A Endpoint URL"}),(0,b.jsx)(q,{value:a.a2aEndpoint,onChange:a=>c({a2aEndpoint:a}),placeholder:"https://my-agent.com/a2a"}),(0,b.jsx)(u,{url:a.a2aEndpoint,protocol:"A2A"})]}),(0,b.jsx)("div",{className:"border border-border/40 px-3 py-2",children:(0,b.jsx)("span",{className:"font-mono text-[9px] text-muted-foreground/40 uppercase tracking-wider",children:"Validation is advisory only and does not block deployment"})})]})}function w({label:a,items:c,selected:d,onChange:e}){return(0,b.jsxs)("div",{children:[(0,b.jsx)(p,{children:a}),(0,b.jsx)("div",{className:"border border-border p-4 max-h-56 overflow-y-auto no-scrollbar flex flex-col gap-3",children:Object.entries(c).map(([a,c])=>(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"font-mono text-[9px] uppercase tracking-widest text-muted-foreground/60 mb-1 block",children:a}),(0,b.jsx)("div",{className:"flex flex-wrap gap-2",children:c.map(a=>(0,b.jsx)("button",{type:"button",onClick:()=>{e(d.includes(a)?d.filter(b=>b!==a):[...d,a])},className:(0,f.cn)("font-mono text-[10px] uppercase tracking-wider px-3 py-1.5 border transition-colors",d.includes(a)?"border-foreground bg-foreground text-background":"border-border text-muted-foreground hover:border-foreground/30 hover:text-foreground"),children:a},a))})]},a))})]})}function x({form:a,updateForm:c}){return(0,b.jsxs)("div",{className:"flex flex-col gap-5",children:[(0,b.jsx)(s,{step:"Step 03",title:"Skills & Domains"}),(0,b.jsx)(w,{label:"OASF Skills",items:j.OASF_SKILLS,selected:a.skills,onChange:a=>c({skills:a})}),(0,b.jsxs)("div",{children:[(0,b.jsx)(p,{children:"Custom Skills (comma-separated)"}),(0,b.jsx)(q,{value:a.customSkills,onChange:a=>c({customSkills:a}),placeholder:"Custom Skill 1, Custom Skill 2"})]}),(0,b.jsx)(w,{label:"Application Domains",items:j.APPLICATION_DOMAINS,selected:a.domains,onChange:a=>c({domains:a})}),(0,b.jsxs)("div",{children:[(0,b.jsx)(p,{children:"Custom Domains (comma-separated)"}),(0,b.jsx)(q,{value:a.customDomains,onChange:a=>c({customDomains:a}),placeholder:"Custom Domain 1, Custom Domain 2"})]})]})}function y({form:a,updateForm:c}){return(0,b.jsxs)("div",{className:"flex flex-col gap-5",children:[(0,b.jsx)(s,{step:"Step 04",title:"Advanced Configuration"}),(0,b.jsxs)("div",{children:[(0,b.jsx)(p,{children:"Metadata Storage"}),(0,b.jsx)("div",{className:"flex gap-3",children:["on-chain","ipfs"].map(d=>(0,b.jsx)("button",{type:"button",onClick:()=>c({metadataStorage:d}),className:(0,f.cn)("flex-1 font-mono text-xs uppercase tracking-wider px-4 py-3 border transition-colors text-center",a.metadataStorage===d?"border-foreground bg-foreground text-background":"border-border text-muted-foreground hover:border-foreground/30"),children:"on-chain"===d?"ON-CHAIN (PERMANENT)":"IPFS (UPDATEABLE)"},d))})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(p,{children:"Trust Models (optional)"}),(0,b.jsx)("div",{className:"flex flex-wrap gap-2",children:j.TRUST_MODELS.map(d=>(0,b.jsx)("button",{type:"button",onClick:()=>{var b;return b=d.value,void c({trustModels:a.trustModels.includes(b)?a.trustModels.filter(a=>a!==b):[...a.trustModels,b]})},className:(0,f.cn)("font-mono text-[10px] uppercase tracking-wider px-3 py-1.5 border transition-colors",a.trustModels.includes(d.value)?"border-foreground bg-foreground text-background":"border-border text-muted-foreground hover:border-foreground/30"),children:d.name},d.value))})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(p,{children:"X402 Payment Support"}),(0,b.jsx)("button",{type:"button",onClick:()=>c({x402Payment:!a.x402Payment}),className:(0,f.cn)("font-mono text-xs uppercase tracking-wider px-4 py-2.5 border transition-colors",a.x402Payment?"border-foreground bg-foreground text-background":"border-border text-muted-foreground"),children:a.x402Payment?"ENABLED":"DISABLED"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(p,{children:"Activation Status"}),(0,b.jsx)("div",{className:"flex gap-3",children:["active","inactive"].map(d=>(0,b.jsx)("button",{type:"button",onClick:()=>c({activationStatus:d}),className:(0,f.cn)("flex-1 font-mono text-xs uppercase tracking-wider px-4 py-2.5 border transition-colors text-center",a.activationStatus===d?"border-foreground bg-foreground text-background":"border-border text-muted-foreground hover:border-foreground/30"),children:d},d))})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(p,{children:"Hire Price (USDC, 0 = free)"}),(0,b.jsx)(q,{value:a.hirePrice,onChange:a=>{(""===a||/^\d*\.?\d*$/.test(a))&&c({hirePrice:a})},placeholder:"0"})]})]})}function z({form:a,walletAddress:c}){let d=[...a.skills,...a.customSkills.split(",").map(a=>a.trim()).filter(Boolean)],e=[...a.domains,...a.customDomains.split(",").map(a=>a.trim()).filter(Boolean)],f=parseFloat(a.hirePrice||"0"),g=Object.values(j.CONTRACTS).map(a=>a.name).join(", ");return(0,b.jsxs)("div",{className:"flex flex-col gap-5",children:[(0,b.jsx)(s,{step:"Step 05",title:"Review & Deploy"}),c?(0,b.jsxs)("div",{className:"border border-system-green/40 bg-system-green/5 px-4 py-3 flex items-center gap-2",children:[(0,b.jsx)("span",{className:"h-2 w-2 rounded-full bg-system-green"}),(0,b.jsxs)("span",{className:"font-mono text-xs uppercase tracking-wider text-system-green",children:["Owner: ",c]})]}):(0,b.jsx)("div",{className:"border border-warning-amber/40 bg-warning-amber/5 px-4 py-3",children:(0,b.jsx)("span",{className:"font-mono text-xs uppercase tracking-wider text-warning-amber",children:"Connect wallet from navbar to proceed"})}),(0,b.jsxs)("div",{className:"border border-border p-5 relative",children:[(0,b.jsx)("div",{className:"absolute top-2 left-2 w-3 h-3 border-t border-l border-foreground/20"}),(0,b.jsx)("div",{className:"absolute top-2 right-2 w-3 h-3 border-t border-r border-foreground/20"}),(0,b.jsx)("div",{className:"absolute bottom-2 left-2 w-3 h-3 border-b border-l border-foreground/20"}),(0,b.jsx)("div",{className:"absolute bottom-2 right-2 w-3 h-3 border-b border-r border-foreground/20"}),(0,b.jsxs)("div",{className:"space-y-2 text-sm font-mono",children:[(0,b.jsx)(A,{label:"NAME",value:a.name}),(0,b.jsx)(A,{label:"URL",value:a.url}),a.imageUrl&&(0,b.jsx)(A,{label:"IMAGE",value:a.imageUrl}),(0,b.jsx)(A,{label:"DESCRIPTION",value:a.description}),(0,b.jsx)(A,{label:"VERSION",value:a.version}),a.author&&(0,b.jsx)(A,{label:"AUTHOR",value:a.author}),(0,b.jsx)(A,{label:"LICENSE",value:a.license}),a.mcpEndpoint&&(0,b.jsx)(A,{label:"MCP",value:a.mcpEndpoint}),a.a2aEndpoint&&(0,b.jsx)(A,{label:"A2A",value:a.a2aEndpoint}),d.length>0&&(0,b.jsx)(A,{label:"SKILLS",value:d.join(", ")}),e.length>0&&(0,b.jsx)(A,{label:"DOMAINS",value:e.join(", ")}),(0,b.jsx)(A,{label:"METADATA",value:a.metadataStorage.toUpperCase()}),a.trustModels.length>0&&(0,b.jsx)(A,{label:"TRUST",value:a.trustModels.join(", ")}),(0,b.jsx)(A,{label:"X402",value:a.x402Payment?"ENABLED":"DISABLED"}),(0,b.jsx)(A,{label:"STATUS",value:a.activationStatus.toUpperCase()}),(0,b.jsx)(A,{label:"HIRE PRICE",value:f>0?`$${f.toFixed(2)} USDC`:"FREE"})]})]}),(0,b.jsxs)("div",{className:"border border-border bg-muted/5 p-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{className:"font-mono text-xs uppercase tracking-widest text-muted-foreground",children:"Cost"}),(0,b.jsx)("span",{className:"font-mono text-lg font-bold text-system-green",children:"FREE"})]}),(0,b.jsxs)("p",{className:"font-mono text-[10px] text-muted-foreground/60 mt-2 uppercase tracking-wider",children:["You will sign a message to prove ownership. All gas fees are covered by Facinet facilitators. Agent will be registered on ",m," networks: ",g,"."]})]})]})}function A({label:a,value:c}){return(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsx)("span",{className:"text-[10px] uppercase tracking-widest text-muted-foreground/60 w-24 shrink-0 pt-0.5",children:a}),(0,b.jsx)("span",{className:"text-xs text-foreground break-all",children:c})]})}async function B(a,b){let c=new h.ethers.JsonRpcProvider(b),d=await c.waitForTransaction(a,1,6e4);if(!d)return null;let e=new h.ethers.Interface(j.IDENTITY_REGISTRY_ABI);for(let a of d.logs)try{let b=e.parseLog({topics:a.topics,data:a.data});if(b?.name==="Registered")return b.args.agentId.toString()}catch{}return null}function C({form:a,walletAddress:d,signer:e,setResult:g,setError:h,onComplete:l}){let[m,n]=(0,c.useState)([]),o=(0,c.useRef)(!1),p=(0,c.useCallback)((a,b="running")=>{n(c=>[...c,{message:a,status:b}])},[]),q=(0,c.useCallback)((a,b)=>{n(c=>{let d=[...c];return d.length>0&&(d[d.length-1]={...d[d.length-1],status:a,...b?{message:b}:{}}),d})},[]);async function r(){let b={agentWalletAddress:null,circleWalletId:null,networkResults:[]};try{if(!e)throw Error("Wallet not connected");p("Requesting ownership signature...");let c=Math.floor(Date.now()/1e3),f=`I am registering agent "${a.name}" at ${a.url} as owner ${d} on 8004agent.network

Timestamp: ${c}`;await e.signMessage(f),q("done","Ownership verified!"),p("Creating Circle Agent Wallet...");try{let a=await (0,k.apiCreateCircleWallet)("pending");b.agentWalletAddress=a.address||null,b.circleWalletId=a.walletId||null,q("done",`Wallet: ${a.address?.slice(0,10)}...`)}catch(b){let a=b instanceof Error?b.message:String(b);q("error",`Wallet skipped: ${a}`)}let h=[...a.skills,...a.customSkills.split(",").map(a=>a.trim()).filter(Boolean)],m=[...a.domains,...a.customDomains.split(",").map(a=>a.trim()).filter(Boolean)];for(let c of Object.keys(j.CONTRACTS)){let e=j.CONTRACTS[c],f={network:e.name,networkKey:c,agentId:null,registrationTx:null,transferTx:null,blockExplorer:e.blockExplorer};try{let g={network:e.facinetNetwork,chainId:e.chainId};p(`Selecting facilitator on ${e.name}...`);let l=await (0,i.selectFacilitator)(g);q("done",`${e.name}: Using ${l.name}`),p(`Registering on ${e.name} via Facinet...`);let n=await (0,i.facinetExecuteContract)(g,{contractAddress:e.identityRegistry,functionName:"register",functionArgs:[a.url],abi:j.IDENTITY_REGISTRY_ABI},l);f.registrationTx=n.txHash,q("done",`${e.name}: Tx ${n.txHash.slice(0,14)}...`),p(`Parsing agent ID on ${e.name}...`);try{let a=await B(n.txHash,e.rpc);f.agentId=a,a?q("done",`${e.name}: Agent #${a}`):q("done",`${e.name}: Registered (ID pending)`)}catch{q("done",`${e.name}: Registered (ID will resolve)`)}if(f.agentId){p(`Transferring NFT #${f.agentId} to owner on ${e.name}...`);try{let a=await (0,i.facinetExecuteContract)(g,{contractAddress:e.identityRegistry,functionName:"transferFrom",functionArgs:[l.wallet,d,f.agentId],abi:j.IDENTITY_REGISTRY_ABI},l);f.transferTx=a.txHash,q("done",`NFT transferred on ${e.name}`)}catch(b){let a=b instanceof Error?b.message:String(b);q("error",`NFT transfer pending: ${a}`)}}try{await (0,k.apiStoreAgent)({agentId:f.agentId||"pending",name:a.name,url:a.url,imageUrl:a.imageUrl||"",description:a.description,version:a.version,author:a.author,license:a.license,mcpEndpoint:a.mcpEndpoint||"",a2aEndpoint:a.a2aEndpoint||"",skills:h,domains:m,metadataStorage:a.metadataStorage,trustModels:a.trustModels,x402Payment:a.x402Payment,status:a.activationStatus,hirePrice:a.hirePrice,network:c,ownerAddress:d,registrationTx:f.registrationTx||"",registeredAt:new Date().toISOString(),agentWalletAddress:b.agentWalletAddress||"",circleWalletId:b.circleWalletId||""})}catch{}}catch(b){let a=b instanceof Error?b.message:String(b);q("error",`${e.name} failed: ${a}`)}b.networkResults.push(f)}p("Registration complete!"),q("done"),g(b),setTimeout(()=>l(),1500)}catch(c){let a=c instanceof Error?c.message:String(c);q("error",a),h(a),g(b),setTimeout(()=>l(),2e3)}}return(0,c.useEffect)(()=>{o.current||(o.current=!0,r())},[]),(0,b.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,b.jsx)(s,{step:"Step 06",title:"Deploying..."}),(0,b.jsxs)("div",{className:"border border-border p-5 relative min-h-[300px]",children:[(0,b.jsx)("div",{className:"absolute top-2 left-2 w-3 h-3 border-t border-l border-foreground/20"}),(0,b.jsx)("div",{className:"absolute top-2 right-2 w-3 h-3 border-t border-r border-foreground/20"}),(0,b.jsx)("div",{className:"absolute bottom-2 left-2 w-3 h-3 border-b border-l border-foreground/20"}),(0,b.jsx)("div",{className:"absolute bottom-2 right-2 w-3 h-3 border-b border-r border-foreground/20"}),(0,b.jsxs)("div",{className:"space-y-2 font-mono text-xs",children:[m.map((a,c)=>(0,b.jsxs)("div",{className:"flex items-start gap-3",children:[(0,b.jsx)("span",{className:(0,f.cn)("shrink-0 mt-0.5","running"===a.status&&"text-info-blue animate-pulse","done"===a.status&&"text-system-green","error"===a.status&&"text-error-red","pending"===a.status&&"text-muted-foreground/40"),children:"running"===a.status?">":"done"===a.status?"+":"error"===a.status?"x":"-"}),(0,b.jsx)("span",{className:(0,f.cn)("break-all","error"===a.status&&"text-error-red","done"===a.status&&"text-foreground/80","running"===a.status&&"text-foreground","pending"===a.status&&"text-muted-foreground/40"),children:a.message})]},c)),m.length>0&&"running"===m[m.length-1].status&&(0,b.jsx)("span",{className:"text-muted-foreground/40 animate-pulse",children:"_"})]})]})]})}function D({result:a,error:d,form:e}){let{signedFetch:h}=(0,g.useWallet)(),[i,j]=(0,c.useState)(!1),[l,m]=(0,c.useState)(null),[n,o]=(0,c.useState)(null);if(!a)return null;let p=a.networkResults.some(a=>null!==a.registrationTx),q=a.networkResults.find(a=>null!==a.registrationTx);async function r(){if(q?.agentId){j(!0),o(null);try{let a=await (0,k.apiVerifyAgent)(q.network,q.agentId,h);m(a)}catch(a){o(a instanceof Error?a.message:String(a))}finally{j(!1)}}}return(0,b.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("h2",{className:"font-mono text-3xl md:text-4xl font-bold tracking-tight uppercase text-foreground",children:p?"DEPLOYMENT COMPLETE":"DEPLOYMENT FAILED"}),d&&!p&&(0,b.jsx)("p",{className:"font-mono text-xs text-error-red mt-2 uppercase tracking-wider",children:d})]}),p&&(0,b.jsxs)("div",{className:"border border-border p-5 relative",children:[(0,b.jsx)("div",{className:"absolute top-2 left-2 w-3 h-3 border-t border-l border-foreground/20"}),(0,b.jsx)("div",{className:"absolute top-2 right-2 w-3 h-3 border-t border-r border-foreground/20"}),(0,b.jsx)("div",{className:"absolute bottom-2 left-2 w-3 h-3 border-b border-l border-foreground/20"}),(0,b.jsx)("div",{className:"absolute bottom-2 right-2 w-3 h-3 border-b border-r border-foreground/20"}),(0,b.jsxs)("div",{className:"space-y-2 font-mono text-sm",children:[(0,b.jsx)(A,{label:"NAME",value:e.name}),(0,b.jsx)(A,{label:"URL",value:e.url}),a.agentWalletAddress&&(0,b.jsx)(A,{label:"WALLET",value:a.agentWalletAddress}),a.circleWalletId&&(0,b.jsx)(A,{label:"CIRCLE ID",value:a.circleWalletId})]})]}),(0,b.jsx)("div",{className:"space-y-3",children:a.networkResults.map((a,c)=>(0,b.jsxs)("div",{className:"border border-border p-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,b.jsx)("span",{className:(0,f.cn)("h-2 w-2 rounded-full",a.registrationTx?"bg-system-green":"bg-error-red")}),(0,b.jsx)("span",{className:"font-mono text-xs font-bold uppercase tracking-widest text-foreground",children:a.network})]}),(0,b.jsxs)("div",{className:"space-y-1 font-mono text-xs",children:[(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)("span",{className:"text-muted-foreground/60 w-20 shrink-0",children:"AGENT ID"}),(0,b.jsx)("span",{className:"text-foreground",children:a.agentId||"Pending"})]}),a.registrationTx&&(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)("span",{className:"text-muted-foreground/60 w-20 shrink-0",children:"REG TX"}),(0,b.jsx)("a",{href:`${a.blockExplorer}/tx/${a.registrationTx}`,target:"_blank",rel:"noopener noreferrer",className:"text-info-blue hover:underline break-all",children:a.registrationTx})]}),a.transferTx&&(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)("span",{className:"text-muted-foreground/60 w-20 shrink-0",children:"XFER TX"}),(0,b.jsx)("a",{href:`${a.blockExplorer}/tx/${a.transferTx}`,target:"_blank",rel:"noopener noreferrer",className:"text-info-blue hover:underline break-all",children:a.transferTx})]})]})]},c))}),a.agentWalletAddress&&(0,b.jsxs)("div",{className:"border border-border bg-muted/5 p-4",children:[(0,b.jsx)("span",{className:"font-mono text-[10px] uppercase tracking-widest text-muted-foreground/60 block mb-2",children:"Agent Wallet (Circle Managed)"}),(0,b.jsx)("p",{className:"font-mono text-xs text-muted-foreground",children:"This wallet works on all EVM networks. Private key is securely managed by Circle. Hire payments will be sent to this address."})]}),l&&(0,b.jsx)("div",{className:"border border-border p-4",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsxs)("span",{className:(0,f.cn)("font-mono text-sm font-bold px-3 py-1 border",{MINIMAL:"text-green-500 border-green-500/60",LOW:"text-cyan-500 border-cyan-500/60",MEDIUM:"text-yellow-500 border-yellow-500/60",HIGH:"text-red-400 border-red-400/60",CRITICAL:"text-red-600 border-red-600/60"}[l.riskTier]||"text-muted-foreground border-border"),children:[l.overallScore>=80?"✓ VERIFIED":l.overallScore>=60?"VERIFIED":l.overallScore>=40?"PARTIAL":l.overallScore>=20?"LOW":"RISK"," ",l.overallScore]}),(0,b.jsxs)("span",{className:"font-mono text-[10px] uppercase tracking-widest text-muted-foreground/60",children:["ERC-8126 Verification — ",l.riskTier," Risk"]})]})}),n&&(0,b.jsx)("div",{className:"border border-error-red/40 bg-error-red/5 px-4 py-2",children:(0,b.jsx)("span",{className:"font-mono text-xs text-error-red",children:n})}),(0,b.jsxs)("div",{className:"flex justify-center gap-4 pt-4",children:[p&&q?.agentId&&!l&&(0,b.jsx)("button",{onClick:r,disabled:i,className:"font-mono text-xs uppercase tracking-widest border border-system-green/40 text-system-green px-8 py-3 hover:bg-system-green/5 transition-colors disabled:opacity-40",children:i?"VERIFYING...":"VERIFY THIS AGENT"}),(0,b.jsx)("button",{onClick:()=>window.location.reload(),className:"font-mono text-xs uppercase tracking-widest bg-foreground text-background px-8 py-3 hover:opacity-90 transition-opacity",children:"DEPLOY ANOTHER AGENT"})]})]})}a.s(["default",()=>n])}];

//# sourceMappingURL=app_deploy_page_tsx_14825bef._.js.map