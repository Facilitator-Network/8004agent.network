{"version":3,"sources":["../../../../app/agents/page.tsx"],"sourcesContent":["\"use client\"\n\nimport { useState, useEffect, useCallback, useRef } from \"react\"\nimport { motion, AnimatePresence } from \"motion/react\"\nimport { cn } from \"@/lib/utils\"\nimport { ethers } from \"ethers\"\nimport { CONTRACTS, REPUTATION_REGISTRY_ABI } from \"@/lib/deploy-constants\"\nimport { apiListAgents } from \"@/lib/api\"\nimport { selectFacilitator, facinetExecuteContract } from \"@/lib/facinet\"\nimport { useWallet } from \"@/components/wallet-provider\"\n\n// ---- Types ----\ninterface Agent {\n  agentId: string\n  name: string\n  url: string\n  imageUrl: string\n  description: string\n  version: string\n  author: string\n  license: string\n  mcpEndpoint: string\n  a2aEndpoint: string\n  skills: string[]\n  domains: string[]\n  trustModels: string[]\n  x402Payment: string\n  metadataStorage: string\n  status: string\n  hirePrice: string\n  network: string\n  ownerAddress: string\n  registrationTx: string\n  registeredAt: string\n  agentWalletAddress: string\n  circleWalletId: string\n}\n\ninterface FeedbackEntry {\n  clientAddress: string\n  index: number\n  value: number\n  tag1: string\n  tag2: string\n  isRevoked: boolean\n}\n\nconst NETWORK_FILTERS = [\n  { key: \"all\", label: \"ALL\" },\n  ...Object.entries(CONTRACTS).map(([key, c]) => ({ key, label: c.name })),\n]\n\nconst PAGE_SIZE = 18\n\nexport default function AgentsPage() {\n  const [agents, setAgents] = useState<Agent[]>([])\n  const [loading, setLoading] = useState(true)\n  const [error, setError] = useState<string | null>(null)\n  const [filter, setFilter] = useState(\"all\")\n  const [selected, setSelected] = useState<Agent | null>(null)\n  const [page, setPage] = useState(1)\n\n  useEffect(() => {\n    apiListAgents()\n      .then((data) => setAgents((data.agents || []) as unknown as Agent[]))\n      .catch((e) => setError(e.message))\n      .finally(() => setLoading(false))\n  }, [])\n\n  const filtered = filter === \"all\" ? agents : agents.filter((a) => a.network === filter)\n  const totalPages = Math.max(1, Math.ceil(filtered.length / PAGE_SIZE))\n  const paged = filtered.slice((page - 1) * PAGE_SIZE, page * PAGE_SIZE)\n\n  const handleBack = useCallback(() => setSelected(null), [])\n\n  return (\n    <div className=\"h-full w-full relative flex flex-col overflow-y-auto no-scrollbar\">\n      <div className=\"flex-1 flex flex-col items-center pt-24 pb-16 px-4 md:px-8\">\n        <div className=\"w-full max-w-5xl\">\n          {/* Header */}\n          <div className=\"mb-6\">\n            <h1 className=\"font-mono text-3xl md:text-4xl font-bold tracking-tight uppercase text-foreground\">\n              AGENTS\n            </h1>\n            <p className=\"font-mono text-[10px] uppercase tracking-widest text-muted-foreground/60 mt-2\">\n              Deployed on 8004agent.network\n            </p>\n          </div>\n\n          {/* Network Filter */}\n          {!selected && (\n            <div className=\"flex flex-wrap gap-2 mb-6\">\n              {NETWORK_FILTERS.map((nf) => (\n                <button\n                  key={nf.key}\n                  onClick={() => { setFilter(nf.key); setSelected(null); setPage(1) }}\n                  className={cn(\n                    \"font-mono text-[10px] uppercase tracking-wider px-3 py-1.5 border transition-colors\",\n                    filter === nf.key\n                      ? \"border-foreground bg-foreground text-background\"\n                      : \"border-border text-muted-foreground hover:border-foreground/30 hover:text-foreground\"\n                  )}\n                >\n                  {nf.label}\n                </button>\n              ))}\n            </div>\n          )}\n\n          {/* Count */}\n          {!loading && !error && !selected && (\n            <div className=\"mb-4 flex items-center gap-3\">\n              <span className=\"font-mono text-[10px] uppercase tracking-widest text-muted-foreground/60\">\n                {filtered.length} agent{filtered.length !== 1 ? \"s\" : \"\"}{filter !== \"all\" ? ` on ${CONTRACTS[filter]?.name || filter}` : \"\"}\n              </span>\n              {totalPages > 1 && (\n                <span className=\"font-mono text-[10px] uppercase tracking-widest text-muted-foreground/40\">\n                  Page {page}/{totalPages}\n                </span>\n              )}\n            </div>\n          )}\n\n          {/* Content */}\n          <AnimatePresence mode=\"wait\">\n            {loading ? (\n              <motion.div key=\"loading\" initial={{ opacity: 0 }} animate={{ opacity: 1 }} exit={{ opacity: 0 }} className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\n                {Array.from({ length: 6 }).map((_, i) => <SkeletonCard key={i} />)}\n              </motion.div>\n            ) : error ? (\n              <motion.div key=\"error\" initial={{ opacity: 0 }} animate={{ opacity: 1 }} exit={{ opacity: 0 }} className=\"border border-error-red/40 bg-error-red/5 px-4 py-3\">\n                <span className=\"font-mono text-xs uppercase tracking-wider text-error-red\">{error}</span>\n              </motion.div>\n            ) : selected ? (\n              <motion.div key=\"detail\" initial={{ opacity: 0, y: 12 }} animate={{ opacity: 1, y: 0 }} exit={{ opacity: 0, y: -12 }} transition={{ duration: 0.2 }}>\n                <AgentDetail agent={selected} onBack={handleBack} />\n              </motion.div>\n            ) : filtered.length === 0 ? (\n              <motion.div key=\"empty\" initial={{ opacity: 0 }} animate={{ opacity: 1 }} exit={{ opacity: 0 }} className=\"border border-border p-8 text-center\">\n                <span className=\"font-mono text-xs uppercase tracking-widest text-muted-foreground/60\">\n                  No agents found{filter !== \"all\" ? ` on ${CONTRACTS[filter]?.name || filter}` : \"\"}\n                </span>\n              </motion.div>\n            ) : (\n              <motion.div key={`grid-${page}`} initial={{ opacity: 0 }} animate={{ opacity: 1 }} exit={{ opacity: 0 }} className=\"flex flex-col gap-6\">\n                <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\n                  {paged.map((agent, i) => (\n                    <AgentCard key={`${agent.network}-${agent.agentId}-${i}`} agent={agent} onClick={() => setSelected(agent)} />\n                  ))}\n                </div>\n                {totalPages > 1 && (\n                  <div className=\"flex items-center justify-center gap-2 pt-2\">\n                    <button onClick={() => setPage((p) => Math.max(1, p - 1))} disabled={page === 1} className=\"font-mono text-[10px] uppercase tracking-widest px-3 py-1.5 border border-border text-muted-foreground hover:text-foreground hover:border-foreground/30 transition-colors disabled:opacity-30 disabled:pointer-events-none\">&larr; Prev</button>\n                    {Array.from({ length: totalPages }, (_, i) => i + 1).map((p) => (\n                      <button key={p} onClick={() => setPage(p)} className={cn(\"font-mono text-[10px] uppercase tracking-widest w-8 h-8 border transition-colors\", p === page ? \"border-foreground bg-foreground text-background\" : \"border-border text-muted-foreground hover:border-foreground/30 hover:text-foreground\")}>{p}</button>\n                    ))}\n                    <button onClick={() => setPage((p) => Math.min(totalPages, p + 1))} disabled={page === totalPages} className=\"font-mono text-[10px] uppercase tracking-widest px-3 py-1.5 border border-border text-muted-foreground hover:text-foreground hover:border-foreground/30 transition-colors disabled:opacity-30 disabled:pointer-events-none\">Next &rarr;</button>\n                  </div>\n                )}\n              </motion.div>\n            )}\n          </AnimatePresence>\n        </div>\n      </div>\n    </div>\n  )\n}\n\n// ---- Skeleton Card ----\nfunction SkeletonCard() {\n  return (\n    <div className=\"border border-border p-5 relative animate-pulse\">\n      <CornerBrackets opacity={10} />\n      <div className=\"h-4 w-2/3 bg-muted-foreground/10 rounded mb-3\" />\n      <div className=\"h-3 w-1/3 bg-muted-foreground/10 rounded mb-4\" />\n      <div className=\"h-3 w-full bg-muted-foreground/10 rounded mb-2\" />\n      <div className=\"h-3 w-4/5 bg-muted-foreground/10 rounded mb-4\" />\n      <div className=\"flex gap-2\">\n        <div className=\"h-5 w-16 bg-muted-foreground/10 rounded\" />\n        <div className=\"h-5 w-16 bg-muted-foreground/10 rounded\" />\n      </div>\n    </div>\n  )\n}\n\n// ---- Corner Brackets (reusable) ----\nfunction CornerBrackets({ opacity = 20 }: { opacity?: number }) {\n  const cls = `border-foreground/${opacity}`\n  return (\n    <>\n      <div className={`absolute top-2 left-2 w-3 h-3 border-t border-l ${cls}`} />\n      <div className={`absolute top-2 right-2 w-3 h-3 border-t border-r ${cls}`} />\n      <div className={`absolute bottom-2 left-2 w-3 h-3 border-b border-l ${cls}`} />\n      <div className={`absolute bottom-2 right-2 w-3 h-3 border-b border-r ${cls}`} />\n    </>\n  )\n}\n\n// ---- Agent Card ----\nfunction AgentCard({ agent, onClick }: { agent: Agent; onClick: () => void }) {\n  const networkName = CONTRACTS[agent.network]?.name || agent.network\n  const isActive = agent.status === \"active\"\n  const skills = Array.isArray(agent.skills) ? agent.skills : []\n  const hp = parseFloat(agent.hirePrice || \"0\")\n  const date = agent.registeredAt ? new Date(agent.registeredAt).toLocaleDateString() : \"\"\n\n  return (\n    <button type=\"button\" onClick={onClick} className=\"border border-border p-5 relative text-left cursor-pointer hover:border-foreground/30 transition-colors group w-full\">\n      <CornerBrackets />\n      <div className=\"flex items-center gap-2 mb-1.5\">\n        <span className={cn(\"h-2 w-2 rounded-full shrink-0\", isActive ? \"bg-system-green\" : \"bg-error-red\")} />\n        <span className=\"font-mono text-sm font-bold uppercase tracking-wider text-foreground truncate\">{agent.name}</span>\n        {agent.agentId && agent.agentId !== \"pending\" && <span className=\"font-mono text-[10px] text-muted-foreground/60 shrink-0\">#{agent.agentId}</span>}\n      </div>\n      <div className=\"flex items-center gap-2 mb-3\">\n        <span className=\"font-mono text-[9px] uppercase tracking-wider text-muted-foreground/50 border border-border px-1.5 py-0.5\">{networkName}</span>\n        <span className={cn(\"font-mono text-[9px] uppercase tracking-wider\", hp > 0 ? \"text-system-green\" : \"text-muted-foreground/40\")}>{hp > 0 ? `$${hp.toFixed(2)} USDC` : \"FREE\"}</span>\n      </div>\n      {agent.description && <p className=\"font-mono text-[11px] text-muted-foreground leading-relaxed line-clamp-2 mb-3\">{agent.description}</p>}\n      {skills.length > 0 && (\n        <div className=\"flex flex-wrap gap-1.5 mb-3\">\n          {skills.slice(0, 3).map((s) => <span key={s} className=\"font-mono text-[9px] uppercase tracking-wider text-muted-foreground/60 border border-border/60 px-1.5 py-0.5\">{s}</span>)}\n          {skills.length > 3 && <span className=\"font-mono text-[9px] text-muted-foreground/40\">+{skills.length - 3}</span>}\n        </div>\n      )}\n      <div className=\"flex items-center justify-between\">\n        {agent.ownerAddress && <span className=\"font-mono text-[9px] text-muted-foreground/40 truncate\">{agent.ownerAddress.slice(0, 6)}...{agent.ownerAddress.slice(-4)}</span>}\n        {date && <span className=\"font-mono text-[9px] text-muted-foreground/40 shrink-0\">{date}</span>}\n      </div>\n    </button>\n  )\n}\n\n// ---- Detail Row ----\nfunction DetailRow({ label, value, children }: { label: string; value?: string; children?: React.ReactNode }) {\n  return (\n    <div className=\"flex gap-3\">\n      <span className=\"text-[10px] uppercase tracking-widest text-muted-foreground/60 w-24 shrink-0 pt-0.5\">{label}</span>\n      {children || <span className=\"text-xs text-foreground break-all\">{value}</span>}\n    </div>\n  )\n}\n\n// ---- Agent Detail ----\nfunction AgentDetail({ agent, onBack }: { agent: Agent; onBack: () => void }) {\n  const networkConfig = CONTRACTS[agent.network]\n  const networkName = networkConfig?.name || agent.network\n  const blockExplorer = networkConfig?.blockExplorer || \"\"\n  const isActive = agent.status === \"active\"\n  const date = agent.registeredAt ? new Date(agent.registeredAt).toLocaleString() : \"\"\n\n  return (\n    <div className=\"flex flex-col gap-5\">\n      <button onClick={onBack} className=\"font-mono text-xs uppercase tracking-widest text-muted-foreground hover:text-foreground transition-colors self-start\">&larr; Back to agents</button>\n\n      {/* Header */}\n      <div className=\"flex items-center gap-3\">\n        <span className={cn(\"h-3 w-3 rounded-full\", isActive ? \"bg-system-green\" : \"bg-error-red\")} />\n        <h2 className=\"font-mono text-2xl md:text-3xl font-bold tracking-tight uppercase text-foreground\">{agent.name}</h2>\n        {agent.agentId && agent.agentId !== \"pending\" && <span className=\"font-mono text-sm text-muted-foreground/60\">#{agent.agentId}</span>}\n      </div>\n\n      {/* Basic Info */}\n      <div className=\"border border-border p-5 relative\">\n        <CornerBrackets />\n        <div className=\"space-y-2 text-sm font-mono\">\n          <DetailRow label=\"NAME\" value={agent.name} />\n          <DetailRow label=\"URL\">\n            <a href={agent.url} target=\"_blank\" rel=\"noopener noreferrer\" className=\"text-info-blue hover:underline break-all text-xs\">{agent.url}</a>\n          </DetailRow>\n          <DetailRow label=\"DESCRIPTION\" value={agent.description} />\n          <DetailRow label=\"AGENT ID\" value={agent.agentId || \"Pending\"} />\n          <DetailRow label=\"NETWORK\" value={networkName} />\n          <DetailRow label=\"STATUS\">\n            <span className={cn(\"text-xs\", isActive ? \"text-system-green\" : \"text-error-red\")}>{agent.status?.toUpperCase() || \"UNKNOWN\"}</span>\n          </DetailRow>\n          <DetailRow label=\"OWNER\">\n            <span className=\"text-xs text-foreground break-all\">{agent.ownerAddress || \"—\"}</span>\n          </DetailRow>\n          <DetailRow label=\"VERSION\" value={agent.version || \"—\"} />\n          {agent.author && <DetailRow label=\"AUTHOR\" value={agent.author} />}\n          <DetailRow label=\"LICENSE\" value={agent.license || \"—\"} />\n          {agent.registrationTx && (\n            <DetailRow label=\"REG TX\">\n              <a href={`${blockExplorer}/tx/${agent.registrationTx}`} target=\"_blank\" rel=\"noopener noreferrer\" className=\"text-info-blue hover:underline break-all text-xs\">{agent.registrationTx}</a>\n            </DetailRow>\n          )}\n          {date && <DetailRow label=\"REGISTERED\" value={date} />}\n        </div>\n      </div>\n\n      {/* Protocol Endpoints */}\n      {(agent.mcpEndpoint || agent.a2aEndpoint) && (\n        <div className=\"border border-border p-5 relative\">\n          <CornerBrackets />\n          <span className=\"font-mono text-[10px] uppercase tracking-widest text-muted-foreground/60 block mb-3\">Protocol Endpoints</span>\n          <div className=\"space-y-2 font-mono\">\n            {agent.mcpEndpoint && <DetailRow label=\"MCP\"><a href={agent.mcpEndpoint} target=\"_blank\" rel=\"noopener noreferrer\" className=\"text-info-blue hover:underline break-all text-xs\">{agent.mcpEndpoint}</a></DetailRow>}\n            {agent.a2aEndpoint && <DetailRow label=\"A2A\"><a href={agent.a2aEndpoint} target=\"_blank\" rel=\"noopener noreferrer\" className=\"text-info-blue hover:underline break-all text-xs\">{agent.a2aEndpoint}</a></DetailRow>}\n          </div>\n        </div>\n      )}\n\n      {/* Feedback / Reputation */}\n      <FeedbackSection agent={agent} />\n    </div>\n  )\n}\n\n// ---- Feedback Section ----\nfunction FeedbackSection({ agent }: { agent: Agent }) {\n  const { walletAddress } = useWallet()\n  const networkConfig = CONTRACTS[agent.network]\n  const [feedbacks, setFeedbacks] = useState<FeedbackEntry[]>([])\n  const [summary, setSummary] = useState<{ count: number; avg: number } | null>(null)\n  const [loadingFeedback, setLoadingFeedback] = useState(true)\n  const [submitting, setSubmitting] = useState(false)\n  const [submitMsg, setSubmitMsg] = useState<string | null>(null)\n  const [score, setScore] = useState(5)\n  const [comment, setComment] = useState(\"\")\n  const fetchedRef = useRef(false)\n\n  // Fetch feedback from chain on mount\n  useEffect(() => {\n    if (fetchedRef.current) return\n    fetchedRef.current = true\n    if (!agent.agentId || agent.agentId === \"pending\" || !networkConfig) {\n      setLoadingFeedback(false)\n      return\n    }\n    fetchFeedback()\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [])\n\n  async function fetchFeedback() {\n    try {\n      const provider = new ethers.JsonRpcProvider(networkConfig.rpc)\n      const contract = new ethers.Contract(networkConfig.reputationRegistry, REPUTATION_REGISTRY_ABI, provider)\n\n      // Get all clients who gave feedback\n      const clients: string[] = await contract.getClients(agent.agentId)\n\n      if (clients.length === 0) {\n        setSummary({ count: 0, avg: 0 })\n        setLoadingFeedback(false)\n        return\n      }\n\n      // Get summary\n      try {\n        const [count, summaryValue, summaryDecimals] = await contract.getSummary(agent.agentId, clients, \"\", \"\")\n        const countNum = Number(count)\n        const avg = countNum > 0 ? Number(summaryValue) / Math.pow(10, Number(summaryDecimals)) : 0\n        setSummary({ count: countNum, avg })\n      } catch {\n        setSummary({ count: 0, avg: 0 })\n      }\n\n      // Read individual feedbacks\n      const entries: FeedbackEntry[] = []\n      for (const client of clients) {\n        const lastIndex = Number(await contract.getLastIndex(agent.agentId, client))\n        for (let i = 1; i <= lastIndex; i++) {\n          try {\n            const [value, , tag1, tag2, isRevoked] = await contract.readFeedback(agent.agentId, client, i)\n            if (!isRevoked) {\n              entries.push({\n                clientAddress: client,\n                index: i,\n                value: Number(value),\n                tag1,\n                tag2,\n                isRevoked,\n              })\n            }\n          } catch { /* skip */ }\n        }\n      }\n      setFeedbacks(entries)\n    } catch (e) {\n      console.error(\"Failed to fetch feedback:\", e)\n    } finally {\n      setLoadingFeedback(false)\n    }\n  }\n\n  async function handleSubmit() {\n    if (!walletAddress || !agent.agentId || agent.agentId === \"pending\") return\n    setSubmitting(true)\n    setSubmitMsg(null)\n\n    try {\n      const facConfig = { network: networkConfig.facinetNetwork, chainId: networkConfig.chainId }\n      const facilitator = await selectFacilitator(facConfig)\n\n      // Build feedbackHash from comment\n      const feedbackHash = ethers.keccak256(ethers.toUtf8Bytes(comment || \"No comment\"))\n\n      await facinetExecuteContract(facConfig, {\n        contractAddress: networkConfig.reputationRegistry as `0x${string}`,\n        functionName: \"giveFeedback\",\n        functionArgs: [\n          agent.agentId,         // agentId\n          score,                 // value (1-5 scale, 0 decimals)\n          0,                     // valueDecimals\n          \"rating\",              // tag1\n          comment || \"\",         // tag2 (store short comment here)\n          agent.url || \"\",       // endpoint\n          \"\",                    // feedbackURI\n          feedbackHash,          // feedbackHash\n        ],\n        abi: REPUTATION_REGISTRY_ABI,\n      }, facilitator)\n\n      setSubmitMsg(\"Feedback submitted on-chain!\")\n      setComment(\"\")\n      setScore(5)\n\n      // Refresh feedback\n      fetchedRef.current = false\n      setLoadingFeedback(true)\n      fetchFeedback()\n    } catch (e: unknown) {\n      const msg = e instanceof Error ? e.message : String(e)\n      setSubmitMsg(`Failed: ${msg}`)\n    } finally {\n      setSubmitting(false)\n    }\n  }\n\n  return (\n    <div className=\"flex flex-col gap-5\">\n      {/* Summary Stats */}\n      <div className=\"border border-border p-5 relative\">\n        <CornerBrackets />\n        <span className=\"font-mono text-[10px] uppercase tracking-widest text-muted-foreground/60 block mb-4\">Reputation</span>\n\n        {loadingFeedback ? (\n          <div className=\"flex gap-4\">\n            {[1, 2, 3].map((i) => <div key={i} className=\"flex-1 h-20 bg-muted-foreground/5 border border-border animate-pulse\" />)}\n          </div>\n        ) : (\n          <div className=\"grid grid-cols-3 gap-4\">\n            <div className=\"border border-border p-4 text-center\">\n              <span className=\"font-mono text-2xl font-bold text-foreground block\">\n                {summary ? `${summary.avg.toFixed(1)}/5` : \"—\"}\n              </span>\n              <span className=\"font-mono text-[9px] uppercase tracking-widest text-muted-foreground/60\">Avg Score</span>\n            </div>\n            <div className=\"border border-border p-4 text-center\">\n              <span className=\"font-mono text-2xl font-bold text-foreground block\">\n                {summary?.count ?? 0}\n              </span>\n              <span className=\"font-mono text-[9px] uppercase tracking-widest text-muted-foreground/60\">Total Feedback</span>\n            </div>\n            <div className=\"border border-border p-4 text-center\">\n              <span className=\"font-mono text-2xl font-bold text-foreground block\">\n                {summary ? Math.round(summary.avg * 20) : 0}\n              </span>\n              <span className=\"font-mono text-[9px] uppercase tracking-widest text-muted-foreground/60\">Score /100</span>\n            </div>\n          </div>\n        )}\n      </div>\n\n      {/* Submit Feedback */}\n      <div className=\"border border-border p-5 relative\">\n        <CornerBrackets />\n        <span className=\"font-mono text-[10px] uppercase tracking-widest text-muted-foreground/60 block mb-4\">Give Feedback</span>\n\n        {!walletAddress ? (\n          <div className=\"border border-warning-amber/40 bg-warning-amber/5 px-4 py-3\">\n            <span className=\"font-mono text-xs uppercase tracking-wider text-warning-amber\">Connect wallet from navbar to give feedback</span>\n          </div>\n        ) : agent.ownerAddress && walletAddress.toLowerCase() === agent.ownerAddress.toLowerCase() ? (\n          <div className=\"border border-border px-4 py-3\">\n            <span className=\"font-mono text-xs uppercase tracking-wider text-muted-foreground/60\">You cannot review your own agent</span>\n          </div>\n        ) : (\n          <div className=\"flex flex-col gap-4\">\n            {/* Score selector */}\n            <div>\n              <span className=\"font-mono text-[10px] uppercase tracking-widest text-muted-foreground/60 block mb-2\">Score</span>\n              <div className=\"flex gap-2\">\n                {[1, 2, 3, 4, 5].map((v) => (\n                  <button\n                    key={v}\n                    onClick={() => setScore(v)}\n                    className={cn(\n                      \"w-10 h-10 font-mono text-sm font-bold border transition-colors\",\n                      v === score\n                        ? \"border-foreground bg-foreground text-background\"\n                        : \"border-border text-muted-foreground hover:border-foreground/30 hover:text-foreground\"\n                    )}\n                  >\n                    {v}\n                  </button>\n                ))}\n              </div>\n            </div>\n\n            {/* Comment */}\n            <div>\n              <span className=\"font-mono text-[10px] uppercase tracking-widest text-muted-foreground/60 block mb-2\">Comment (optional)</span>\n              <textarea\n                value={comment}\n                onChange={(e) => setComment(e.target.value)}\n                placeholder=\"Your feedback...\"\n                rows={3}\n                className=\"w-full bg-transparent border border-border px-4 py-2.5 font-mono text-sm text-foreground placeholder:text-muted-foreground/40 focus:outline-none focus:border-foreground/40 transition-colors resize-none no-scrollbar\"\n              />\n            </div>\n\n            {/* Submit */}\n            <div className=\"flex items-center gap-4\">\n              <button\n                onClick={handleSubmit}\n                disabled={submitting || !agent.agentId || agent.agentId === \"pending\"}\n                className=\"font-mono text-xs uppercase tracking-widest bg-foreground text-background px-6 py-2.5 hover:opacity-90 transition-opacity disabled:opacity-30\"\n              >\n                {submitting ? \"Submitting...\" : \"Submit Feedback\"}\n              </button>\n              <span className=\"font-mono text-[9px] text-muted-foreground/40 uppercase tracking-wider\">Gas covered by Facinet</span>\n            </div>\n\n            {submitMsg && (\n              <span className={cn(\"font-mono text-xs uppercase tracking-wider\", submitMsg.startsWith(\"Failed\") ? \"text-error-red\" : \"text-system-green\")}>\n                {submitMsg}\n              </span>\n            )}\n          </div>\n        )}\n      </div>\n\n      {/* Feedback List */}\n      {!loadingFeedback && feedbacks.length > 0 && (\n        <div className=\"border border-border p-5 relative\">\n          <CornerBrackets />\n          <span className=\"font-mono text-[10px] uppercase tracking-widest text-muted-foreground/60 block mb-4\">\n            Feedback ({feedbacks.length})\n          </span>\n\n          <div className=\"space-y-3\">\n            {feedbacks.map((fb, i) => (\n              <div key={`${fb.clientAddress}-${fb.index}-${i}`} className=\"border border-border/60 p-4\">\n                <div className=\"flex items-center justify-between mb-2\">\n                  <div className=\"flex items-center gap-2\">\n                    <span className=\"font-mono text-[9px] text-muted-foreground/40\">\n                      {fb.clientAddress.slice(0, 6)}...{fb.clientAddress.slice(-4)}\n                    </span>\n                    {fb.tag1 && <span className=\"font-mono text-[9px] uppercase tracking-wider text-muted-foreground/50 border border-border/40 px-1.5 py-0.5\">{fb.tag1}</span>}\n                  </div>\n                  <div className=\"flex items-center gap-1\">\n                    {Array.from({ length: 5 }).map((_, si) => (\n                      <span key={si} className={cn(\"text-sm\", si < fb.value ? \"text-warning-amber\" : \"text-border\")}>\n                        &#9733;\n                      </span>\n                    ))}\n                    <span className=\"font-mono text-xs text-foreground ml-1\">{fb.value}/5</span>\n                  </div>\n                </div>\n                {fb.tag2 && (\n                  <p className=\"font-mono text-[11px] text-muted-foreground leading-relaxed\">{fb.tag2}</p>\n                )}\n              </div>\n            ))}\n          </div>\n        </div>\n      )}\n\n      {!loadingFeedback && feedbacks.length === 0 && (\n        <div className=\"border border-border p-5 relative text-center\">\n          <CornerBrackets />\n          <span className=\"font-mono text-xs uppercase tracking-widest text-muted-foreground/40\">No feedback yet — be the first to review this agent</span>\n        </div>\n      )}\n    </div>\n  )\n}\n"],"names":[],"mappings":"wDAEA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OAsCA,IAAM,EAAkB,CACtB,CAAE,IAAK,MAAO,MAAO,KAAM,KACxB,OAAO,OAAO,CAAC,EAAA,SAAS,EAAE,GAAG,CAAC,CAAC,CAAC,EAAK,EAAE,GAAK,CAAC,KAAE,EAAK,MAAO,EAAE,IAAI,CAAC,CAAC,EACvE,CAIc,SAAS,IACtB,GAAM,CAAC,EAAQ,EAAU,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAU,EAAE,EAC1C,CAAC,EAAS,EAAW,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GACjC,CAAC,EAAO,EAAS,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAgB,MAC5C,CAAC,EAAQ,EAAU,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,OAC/B,CAAC,EAAU,EAAY,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAe,MACjD,CAAC,EAAM,EAAQ,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,GAEjC,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KACR,CAAA,EAAA,EAAA,aAAA,AAAa,IACV,IAAI,CAAC,AAAC,GAAS,EAAW,EAAK,MAAM,EAAI,EAAE,GAC3C,KAAK,CAAC,AAAC,GAAM,EAAS,EAAE,OAAO,GAC/B,OAAO,CAAC,IAAM,GAAW,GAC9B,EAAG,EAAE,EAEL,IAAM,EAAsB,QAAX,EAAmB,EAAS,EAAO,MAAM,CAAC,AAAC,GAAM,EAAE,OAAO,GAAK,GAC1E,EAAa,KAAK,GAAG,CAAC,EAAG,KAAK,IAAI,CAAC,EAAS,MAAM,GAAG,GACrD,EAAQ,EAAS,KAAK,CAAC,CAAC,EAAO,CAAC,IAAI,CAnB1B,GAmBqC,GAE/C,EAAa,CAAA,CAFyC,CAEzC,EAAA,WAAA,AAAW,EAAC,IAAM,EAAY,MAAO,EAAE,EAE1D,MACE,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,6EACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,sEACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,6BAEb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,iBACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,6FAAoF,WAGlG,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,yFAAgF,qCAM9F,CAAC,GACA,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,qCACZ,EAAgB,GAAG,CAAC,AAAC,GACpB,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAEC,QAAS,KAAQ,EAAU,EAAG,GAAG,EAAG,EAAY,MAAO,EAAQ,EAAG,EAClE,UAAW,CAAA,EAAA,EAAA,EAAA,AAAE,EACX,sFACA,IAAW,EAAG,GAAG,CACb,kDACA,iGAGL,EAAG,KAAK,EATJ,EAAG,GAAG,KAgBlB,CAAC,GAAW,CAAC,GAAS,CAAC,GACtB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,yCACb,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,UAAU,qFACb,EAAS,MAAM,CAAC,SAA2B,IAApB,EAAS,MAAM,CAAS,IAAM,GAAe,QAAX,EAAmB,CAAC,IAAI,EAAE,EAAA,SAAS,CAAC,EAAO,EAAE,MAAQ,EAAA,CAAQ,CAAG,MAE3H,EAAa,GACZ,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,UAAU,qFAA2E,QACnF,EAAK,IAAE,QAOrB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,eAAe,CAAA,CAAC,KAAK,gBACnB,EACC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAC,GAAG,CAAA,CAAe,QAAS,CAAE,QAAS,CAAE,EAAG,QAAS,CAAE,QAAS,CAAE,EAAG,KAAM,CAAE,QAAS,CAAE,EAAG,UAAU,gEACzG,MAAM,IAAI,CAAC,CAAE,OAAQ,CAAE,GAAG,GAAG,CAAC,CAAC,EAAG,IAAM,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAA,EAAkB,KAD9C,WAGd,EACF,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAC,GAAG,CAAA,CAAa,QAAS,CAAE,QAAS,CAAE,EAAG,QAAS,CAAE,QAAS,CAAE,EAAG,KAAM,CAAE,QAAS,CAAE,EAAG,UAAU,+DACxG,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,qEAA6D,KAD/D,SAGd,EACF,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAC,GAAG,CAAA,CAAc,QAAS,CAAE,QAAS,EAAG,EAAG,EAAG,EAAG,QAAS,CAAE,QAAS,EAAG,EAAG,CAAE,EAAG,KAAM,CAAE,QAAS,EAAG,EAAG,CAAC,EAAG,EAAG,WAAY,CAAE,SAAU,EAAI,WAChJ,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAY,MAAO,EAAU,OAAQ,KADxB,UAGM,IAApB,EAAS,MAAM,CACjB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAC,GAAG,CAAA,CAAa,QAAS,CAAE,QAAS,CAAE,EAAG,QAAS,CAAE,QAAS,CAAE,EAAG,KAAM,CAAE,QAAS,CAAE,EAAG,UAAU,gDACxG,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,UAAU,iFAAuE,kBAC1D,QAAX,EAAmB,CAAC,IAAI,EAAE,EAAA,SAAS,CAAC,EAAO,EAAE,MAAQ,EAAA,CAAQ,CAAG,OAFpE,SAMhB,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,MAAM,CAAC,GAAG,CAAA,CAAsB,QAAS,CAAE,QAAS,CAAE,EAAG,QAAS,CAAE,QAAS,CAAE,EAAG,KAAM,CAAE,QAAS,CAAE,EAAG,UAAU,gCACjH,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,gEACZ,EAAM,GAAG,CAAC,CAAC,EAAO,IACjB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAyD,MAAO,EAAO,QAAS,IAAM,EAAY,IAAnF,CAAA,EAAG,EAAM,OAAO,CAAC,CAAC,EAAE,EAAM,OAAO,CAAC,CAAC,EAAE,EAAA,CAAG,KAG3D,EAAa,GACZ,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,wDACb,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,QAAS,IAAM,EAAQ,AAAC,GAAM,KAAK,GAAG,CAAC,EAAG,EAAI,IAAK,SAAmB,IAAT,EAAY,UAAU,sOAA6N,WACvT,MAAM,IAAI,CAAC,CAAE,OAAQ,CAAW,EAAG,CAAC,EAAG,IAAM,EAAI,GAAG,GAAG,CAAC,AAAC,GACxD,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAe,QAAS,IAAM,EAAQ,GAAI,UAAW,CAAA,EAAA,EAAA,EAAA,AAAE,EAAC,mFAAoF,IAAM,EAAO,kDAAoD,iGAA0F,GAA3R,IAEf,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,QAAS,IAAM,EAAQ,AAAC,GAAM,KAAK,GAAG,CAAC,EAAY,EAAI,IAAK,SAAU,IAAS,EAAY,UAAU,sOAA6N,gBAZ/T,CAAC,KAAK,EAAE,EAAA,CAAM,UAsB7C,CAGA,SAAS,IACP,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,4DACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAe,QAAS,KACzB,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,kDACf,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,kDACf,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,mDACf,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,kDACf,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,uBACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,4CACf,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,iDAIvB,CAGA,SAAS,EAAe,SAAE,EAAU,EAAE,CAAwB,EAC5D,IAAM,EAAM,CAAC,kBAAkB,EAAE,EAAA,CAAS,CAC1C,MACE,CAAA,EAAA,EAAA,IAAA,EAAA,EAAA,QAAA,CAAA,WACE,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAW,CAAC,gDAAgD,EAAE,EAAA,CAAK,GACxE,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAW,CAAC,iDAAiD,EAAE,EAAA,CAAK,GACzE,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAW,CAAC,mDAAmD,EAAE,EAAA,CAAK,GAC3E,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAW,CAAC,oDAAoD,EAAE,EAAA,CAAK,KAGlF,CAGA,SAAS,EAAU,OAAE,CAAK,SAAE,CAAO,CAAyC,EAC1E,IAAM,EAAc,EAAA,SAAS,CAAC,EAAM,OAAO,CAAC,EAAE,MAAQ,EAAM,OAAO,CAC7D,EAA4B,WAAjB,EAAM,MAAM,CACvB,EAAS,MAAM,OAAO,CAAC,EAAM,MAAM,EAAI,EAAM,MAAM,CAAG,EAAE,CACxD,EAAK,WAAW,EAAM,SAAS,EAAI,KACnC,EAAO,EAAM,YAAY,CAAG,IAAI,KAAK,EAAM,YAAY,EAAE,kBAAkB,GAAK,GAEtF,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,SAAA,CAAO,KAAK,SAAS,QAAS,EAAS,UAAU,iIAChD,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAA,GACD,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,2CACb,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAW,CAAA,EAAA,EAAA,EAAA,AAAE,EAAC,gCAAiC,EAAW,kBAAoB,kBACpF,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,yFAAiF,EAAM,IAAI,GAC1G,EAAM,OAAO,EAAsB,YAAlB,EAAM,OAAO,EAAkB,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,UAAU,oEAA0D,IAAE,EAAM,OAAO,OAE5I,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,yCACb,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,qHAA6G,IAC7H,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAW,CAAA,EAAA,EAAA,EAAA,AAAE,EAAC,gDAAiD,EAAK,EAAI,oBAAsB,qCAA8B,EAAK,EAAI,CAAC,CAAC,EAAE,EAAG,OAAO,CAAC,GAAG,KAAK,CAAC,CAAG,YAEvK,EAAM,WAAW,EAAI,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,yFAAiF,EAAM,WAAW,GACpI,EAAO,MAAM,CAAG,GACf,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,wCACZ,EAAO,KAAK,CAAC,EAAG,GAAG,GAAG,CAAC,AAAC,GAAM,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAa,UAAU,wHAAgH,GAA7H,IACzC,EAAO,MAAM,CAAG,GAAK,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,UAAU,0DAAgD,IAAE,EAAO,MAAM,CAAG,QAG5G,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,8CACZ,EAAM,YAAY,EAAI,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,UAAU,mEAA0D,EAAM,YAAY,CAAC,KAAK,CAAC,EAAG,GAAG,MAAI,EAAM,YAAY,CAAC,KAAK,CAAC,CAAC,MAC7J,GAAQ,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,kEAA0D,SAI3F,CAGA,SAAS,EAAU,OAAE,CAAK,OAAE,CAAK,UAAE,CAAQ,CAAiE,EAC1G,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,uBACb,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,+FAAuF,IACtG,GAAY,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,6CAAqC,MAGxE,CAGA,SAAS,EAAY,OAAE,CAAK,QAAE,CAAM,CAAwC,EAC1E,IAAM,EAAgB,EAAA,SAAS,CAAC,EAAM,OAAO,CAAC,CACxC,EAAc,GAAe,MAAQ,EAAM,OAAO,CAClD,EAAgB,GAAe,eAAiB,GAChD,EAA4B,WAAjB,EAAM,MAAM,CACvB,EAAO,EAAM,YAAY,CAAG,IAAI,KAAK,EAAM,YAAY,EAAE,cAAc,GAAK,GAElF,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,gCACb,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,QAAS,EAAQ,UAAU,gIAAuH,qBAG1J,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oCACb,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAW,CAAA,EAAA,EAAA,EAAA,AAAE,EAAC,uBAAwB,EAAW,kBAAoB,kBAC3E,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,6FAAqF,EAAM,IAAI,GAC5G,EAAM,OAAO,EAAsB,YAAlB,EAAM,OAAO,EAAkB,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,UAAU,uDAA6C,IAAE,EAAM,OAAO,OAI/H,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,8CACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAA,GACD,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,wCACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAU,MAAM,OAAO,MAAO,EAAM,IAAI,GACzC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAU,MAAM,eACf,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,KAAM,EAAM,GAAG,CAAE,OAAO,SAAS,IAAI,sBAAsB,UAAU,4DAAoD,EAAM,GAAG,KAEvI,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAU,MAAM,cAAc,MAAO,EAAM,WAAW,GACvD,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAU,MAAM,WAAW,MAAO,EAAM,OAAO,EAAI,YACpD,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAU,MAAM,UAAU,MAAO,IAClC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAU,MAAM,kBACf,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAW,CAAA,EAAA,EAAA,EAAE,AAAF,EAAG,UAAW,EAAW,oBAAsB,2BAAoB,EAAM,MAAM,EAAE,eAAiB,cAErH,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAU,MAAM,iBACf,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,6CAAqC,EAAM,YAAY,EAAI,QAE7E,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAU,MAAM,UAAU,MAAO,EAAM,OAAO,EAAI,MAClD,EAAM,MAAM,EAAI,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAU,MAAM,SAAS,MAAO,EAAM,MAAM,GAC9D,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAU,MAAM,UAAU,MAAO,EAAM,OAAO,EAAI,MAClD,EAAM,cAAc,EACnB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAU,MAAM,kBACf,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,KAAM,CAAA,EAAG,EAAc,IAAI,EAAE,EAAM,cAAc,CAAA,CAAE,CAAE,OAAO,SAAS,IAAI,sBAAsB,UAAU,4DAAoD,EAAM,cAAc,KAGvL,GAAQ,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAU,MAAM,aAAa,MAAO,UAKjD,CAAC,EAAM,WAAW,EAAI,EAAM,WAAA,AAAW,GACtC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,8CACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAA,GACD,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,+FAAsF,uBACtG,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,gCACZ,EAAM,WAAW,EAAI,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAU,MAAM,eAAM,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,KAAM,EAAM,WAAW,CAAE,OAAO,SAAS,IAAI,sBAAsB,UAAU,4DAAoD,EAAM,WAAW,KACjM,EAAM,WAAW,EAAI,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAU,MAAM,eAAM,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,KAAM,EAAM,WAAW,CAAE,OAAO,SAAS,IAAI,sBAAsB,UAAU,4DAAoD,EAAM,WAAW,WAMxM,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAgB,MAAO,MAG9B,CAGA,SAAS,EAAgB,OAAE,CAAK,CAAoB,EAClD,GAAM,eAAE,CAAa,CAAE,CAAG,CAAA,EAAA,EAAA,SAAA,AAAS,IAC7B,EAAgB,EAAA,SAAS,CAAC,EAAM,OAAO,CAAC,CACxC,CAAC,EAAW,EAAa,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAkB,EAAE,EACxD,CAAC,EAAS,EAAW,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAwC,MACxE,CAAC,EAAiB,EAAmB,CAAG,CAAA,EAAA,EAAA,QAAQ,AAAR,GAAS,GACjD,CAAC,EAAY,EAAc,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GACvC,CAAC,EAAW,EAAa,CAAG,CAAA,EAAA,EAAA,QAAQ,AAAR,EAAwB,MACpD,CAAC,EAAO,EAAS,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,GAC7B,CAAC,EAAS,EAAW,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,IACjC,EAAa,CAAA,EAAA,EAAA,MAAA,AAAM,GAAC,GAc1B,eAAe,IACb,GAAI,CACF,IAAM,EAAW,IAAI,EAAA,MAAM,CAAC,eAAe,CAAC,EAAc,GAAG,EACvD,EAAW,IAAI,EAAA,MAAM,CAAC,QAAQ,CAAC,EAAc,kBAAkB,CAAE,EAAA,uBAAuB,CAAE,GAG1F,EAAoB,MAAM,EAAS,UAAU,CAAC,EAAM,OAAO,EAEjE,GAAuB,IAAnB,EAAQ,MAAM,CAAQ,CACxB,EAAW,CAAE,MAAO,EAAG,IAAK,CAAE,GAC9B,GAAmB,GACnB,MACF,CAGA,GAAI,CACF,GAAM,CAAC,EAAO,EAAc,EAAgB,CAAG,MAAM,EAAS,UAAU,CAAC,EAAM,OAAO,CAAE,EAAS,GAAI,IAC/F,EAAW,OAAO,GAClB,EAAM,EAAW,EAAI,OAAO,GAAgB,KAAK,GAAG,CAAC,GAAI,OAAO,IAAoB,EAC1F,EAAW,CAAE,MAAO,MAAU,CAAI,EACpC,CAAE,KAAM,CACN,EAAW,CAAE,MAAO,EAAG,IAAK,CAAE,EAChC,CAGA,IAAM,EAA2B,EAAE,CACnC,IAAK,IAAM,KAAU,EAAS,CAC5B,IAAM,EAAY,OAAO,MAAM,EAAS,YAAY,CAAC,EAAM,OAAO,CAAE,IACpE,IAAK,IAAI,EAAI,EAAG,GAAK,EAAW,IAAK,AACnC,GAAI,CACF,GAAM,CAAC,GAAS,EAAM,EAAM,EAAU,CAAG,MAAM,EAAS,YAAY,CAAC,EAAM,OAAO,CAAE,EAAQ,EACxF,CAAC,GACH,EAAQ,IAAI,CAAC,CADC,AAEZ,cAAe,EACf,MAAO,EACP,MAAO,OAAO,QACd,OACA,YACA,CACF,EAEJ,CAAE,KAAM,CAAa,CAEzB,CACA,EAAa,EACf,CAAE,MAAO,EAAG,CACV,QAAQ,KAAK,CAAC,4BAA6B,EAC7C,QAAU,CACR,GAAmB,EACrB,CACF,CAEA,eAAe,IACb,GAAI,AAAC,GAAkB,EAAM,OAAO,EAAsB,GAApC,QAA+C,CAA7B,EAAM,OAAO,EACrD,GAAc,GACd,EAAa,MAEb,GAAI,CACF,IAAM,EAAY,CAAE,QAAS,EAAc,cAAc,CAAE,QAAS,EAAc,OAAO,AAAC,EACpF,EAAc,MAAM,CAAA,EAAA,EAAA,iBAAA,AAAiB,EAAC,GAGtC,EAAe,EAAA,MAAM,CAAC,SAAS,CAAC,EAAA,MAAM,CAAC,WAAW,CAAC,GAAW,cAEpE,OAAM,CAAA,EAAA,EAAA,sBAAA,AAAsB,EAAC,EAAW,CACtC,gBAAiB,EAAc,kBAAkB,CACjD,aAAc,eACd,aAAc,CACZ,EAAM,OAAO,CACb,EACA,EACA,SACA,GAAW,GACX,EAAM,GAAG,EAAI,GACb,GACA,EACD,CACD,IAAK,EAAA,uBAAuB,AAC9B,EAAG,GAEH,EAAa,gCACb,EAAW,IACX,EAAS,GAGT,EAAW,OAAO,EAAG,EACrB,GAAmB,GACnB,GACF,CAAE,MAAO,EAAY,CACnB,IAAM,EAAM,aAAa,MAAQ,EAAE,OAAO,CAAG,OAAO,GACpD,EAAa,CAAC,QAAQ,EAAE,EAAA,CAAK,CAC/B,QAAU,CACR,GAAc,EAChB,EACF,CAEA,MA3GA,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KACR,IAAI,EAAW,OAAO,EAAE,AAExB,GADA,EAAW,OAAO,EAAG,EACjB,CAAC,EAAM,OAAO,EAAsB,YAAlB,EAAM,OAAO,EAAkB,CAAC,EAAe,YACnE,GAAmB,GAGrB,IAEF,EAAG,EAAE,EAmGH,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,gCAEb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,8CACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAA,GACD,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,+FAAsF,eAErG,EACC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,sBACZ,CAAC,EAAG,EAAG,EAAE,CAAC,GAAG,CAAC,AAAC,GAAM,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAY,UAAU,wEAAb,MAGlC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mCACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,iDACb,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,8DACb,EAAU,CAAA,EAAG,EAAQ,GAAG,CAAC,OAAO,CAAC,GAAG,EAAE,CAAC,CAAG,MAE7C,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,mFAA0E,iBAE5F,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,iDACb,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,8DACb,GAAS,OAAS,IAErB,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,mFAA0E,sBAE5F,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,iDACb,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,8DACb,EAAU,KAAK,KAAK,CAAe,GAAd,EAAQ,GAAG,EAAS,IAE5C,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,mFAA0E,wBAOlG,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,8CACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAA,GACD,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,+FAAsF,kBAErG,AAAC,EAIE,EAAM,YAAY,EAAI,EAAc,WAAW,KAAO,EAAM,YAAY,CAAC,WAAW,GACtF,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,0CACb,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,+EAAsE,uCAGxF,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,gCAEb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,+FAAsF,UACtG,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,sBACZ,CAAC,EAAG,EAAG,EAAG,EAAG,EAAE,CAAC,GAAG,CAAC,AAAC,GACpB,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAEC,QAAS,IAAM,EAAS,GACxB,UAAW,CAAA,EAAA,EAAA,EAAE,AAAF,EACT,iEACA,IAAM,EACF,kDACA,iGAGL,GATI,SAgBb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,+FAAsF,uBACtG,CAAA,EAAA,EAAA,GAAA,EAAC,WAAA,CACC,MAAO,EACP,SAAU,AAAC,GAAM,EAAW,EAAE,MAAM,CAAC,KAAK,EAC1C,YAAY,mBACZ,KAAM,EACN,UAAU,8NAKd,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oCACb,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,EACT,SAAU,GAAc,CAAC,EAAM,OAAO,EAAsB,YAAlB,EAAM,OAAO,CACvD,UAAU,yJAET,EAAa,gBAAkB,oBAElC,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,kFAAyE,8BAG1F,GACC,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAW,CAAA,EAAA,EAAA,EAAA,AAAE,EAAC,6CAA8C,EAAU,UAAU,CAAC,UAAY,iBAAmB,8BACnH,OAxDP,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,uEACb,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,yEAAgE,qDA+DrF,CAAC,GAAmB,EAAU,MAAM,CAAG,GACtC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,8CACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAA,GACD,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,UAAU,gGAAsF,aACzF,EAAU,MAAM,CAAC,OAG9B,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,qBACZ,EAAU,GAAG,CAAC,CAAC,EAAI,IAClB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAiD,UAAU,wCAC1D,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mDACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oCACb,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,UAAU,0DACb,EAAG,aAAa,CAAC,KAAK,CAAC,EAAG,GAAG,MAAI,EAAG,aAAa,CAAC,KAAK,CAAC,CAAC,MAE3D,EAAG,IAAI,EAAI,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,wHAAgH,EAAG,IAAI,MAErJ,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oCACZ,MAAM,IAAI,CAAC,CAAE,OAAQ,CAAE,GAAG,GAAG,CAAC,CAAC,EAAG,IACjC,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAc,UAAW,CAAA,EAAA,EAAA,EAAA,AAAE,EAAC,UAAW,EAAK,EAAG,KAAK,CAAG,qBAAuB,wBAAgB,KAApF,IAIb,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,UAAU,mDAA0C,EAAG,KAAK,CAAC,cAGtE,EAAG,IAAI,EACN,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,uEAA+D,EAAG,IAAI,KAlB7E,CAAA,EAAG,EAAG,aAAa,CAAC,CAAC,EAAE,EAAG,KAAK,CAAC,CAAC,EAAE,EAAA,CAAG,QA0BvD,CAAC,GAAwC,IAArB,EAAU,MAAM,EACnC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,0DACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAA,GACD,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,gFAAuE,6DAKjG"}