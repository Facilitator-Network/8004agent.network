{"version":3,"sources":["../../../../app/agents/page.tsx"],"sourcesContent":["\"use client\"\n\nimport { useState, useEffect, useCallback, useRef } from \"react\"\nimport { motion, AnimatePresence } from \"motion/react\"\nimport { cn } from \"@/lib/utils\"\nimport { ethers } from \"ethers\"\nimport { CONTRACTS, REPUTATION_REGISTRY_ABI, OASF_SKILLS, APPLICATION_DOMAINS } from \"@/lib/deploy-constants\"\nimport { useRouter } from \"next/navigation\"\nimport { apiListAgents, apiVerifyAgent, apiGetVerification, type VerificationResult } from \"@/lib/api\"\nimport { useWallet } from \"@/components/wallet-provider\"\n\n// ---- Types ----\ninterface Agent {\n  agentId: string\n  name: string\n  url: string\n  imageUrl: string\n  description: string\n  version: string\n  author: string\n  license: string\n  mcpEndpoint: string\n  a2aEndpoint: string\n  skills: string[]\n  domains: string[]\n  trustModels: string[]\n  x402Payment: string\n  metadataStorage: string\n  status: string\n  hirePrice: string\n  network: string\n  ownerAddress: string\n  registrationTx: string\n  registeredAt: string\n  agentWalletAddress: string\n  circleWalletId: string\n}\n\ninterface GroupedAgent extends Agent {\n  networks: string[]\n  agentsByNetwork: Record<string, Agent>\n}\n\ninterface FeedbackEntry {\n  clientAddress: string\n  index: number\n  value: number\n  tag1: string\n  tag2: string\n  isRevoked: boolean\n}\n\n// ---- Chain short labels ----\nconst CHAIN_SHORT: Record<string, string> = {\n  sepolia: \"ETH\",\n  baseSepolia: \"BASE\",\n  fuji: \"AVAX\",\n  arbitrumSepolia: \"ARB\",\n  monadTestnet: \"MON\",\n}\n\nconst CHAIN_COLOR: Record<string, string> = {\n  sepolia: \"border-blue-500/40 text-blue-400\",\n  baseSepolia: \"border-cyan-500/40 text-cyan-400\",\n  fuji: \"border-red-500/40 text-red-400\",\n  arbitrumSepolia: \"border-sky-500/40 text-sky-400\",\n  monadTestnet: \"border-purple-500/40 text-purple-400\",\n}\n\n// ---- Grouping ----\nfunction groupAgents(agents: Agent[]): GroupedAgent[] {\n  const map = new Map<string, GroupedAgent>()\n  for (const a of agents) {\n    const key = `${a.name.toLowerCase()}:${(a.ownerAddress || \"\").toLowerCase()}`\n    if (map.has(key)) {\n      const g = map.get(key)!\n      if (!g.networks.includes(a.network)) {\n        g.networks.push(a.network)\n        g.agentsByNetwork[a.network] = a\n      }\n    } else {\n      map.set(key, {\n        ...a,\n        networks: [a.network],\n        agentsByNetwork: { [a.network]: a },\n      })\n    }\n  }\n  return Array.from(map.values())\n}\n\n// ---- All skills flat list for filter ----\nconst ALL_SKILLS = Object.values(OASF_SKILLS).flat()\nconst ALL_DOMAINS = Object.values(APPLICATION_DOMAINS).flat()\n\nconst PAGE_SIZE = 18\n\nexport default function AgentsPage() {\n  const [agents, setAgents] = useState<Agent[]>([])\n  const [loading, setLoading] = useState(true)\n  const [error, setError] = useState<string | null>(null)\n  const [selected, setSelected] = useState<GroupedAgent | null>(null)\n  const [page, setPage] = useState(1)\n  const [search, setSearch] = useState(\"\")\n  const [skillFilter, setSkillFilter] = useState(\"\")\n  const [domainFilter, setDomainFilter] = useState(\"\")\n\n  useEffect(() => {\n    apiListAgents()\n      .then((data) => setAgents((data.agents || []) as unknown as Agent[]))\n      .catch((e) => setError(e.message))\n      .finally(() => setLoading(false))\n  }, [])\n\n  const grouped = groupAgents(agents)\n\n  // Apply filters\n  let filtered = grouped\n\n  // Search filter\n  if (search.trim()) {\n    const q = search.trim().toLowerCase()\n    filtered = filtered.filter(\n      (g) => g.name.toLowerCase().includes(q) || (g.description || \"\").toLowerCase().includes(q)\n    )\n  }\n\n  // Skill filter\n  if (skillFilter) {\n    filtered = filtered.filter((g) => {\n      const skills = Array.isArray(g.skills) ? g.skills : []\n      return skills.some((s) => s.toLowerCase() === skillFilter.toLowerCase())\n    })\n  }\n\n  // Domain filter\n  if (domainFilter) {\n    filtered = filtered.filter((g) => {\n      const domains = Array.isArray(g.domains) ? g.domains : []\n      return domains.some((d) => d.toLowerCase() === domainFilter.toLowerCase())\n    })\n  }\n\n  const totalPages = Math.max(1, Math.ceil(filtered.length / PAGE_SIZE))\n  const paged = filtered.slice((page - 1) * PAGE_SIZE, page * PAGE_SIZE)\n\n  const handleBack = useCallback(() => setSelected(null), [])\n\n  return (\n    <div className=\"h-full w-full relative flex flex-col overflow-y-auto no-scrollbar\">\n      <div className=\"flex-1 flex flex-col items-center pt-24 pb-16 px-4 md:px-8\">\n        <div className=\"w-full max-w-5xl\">\n          {/* Header */}\n          <div className=\"mb-6\">\n            <h1 className=\"font-mono text-3xl md:text-4xl font-bold tracking-tight uppercase text-foreground\">\n              AGENTS\n            </h1>\n            <p className=\"font-mono text-[10px] uppercase tracking-widest text-muted-foreground/60 mt-2\">\n              Deployed on 8004agent.network\n            </p>\n          </div>\n\n          {/* Search + Filters */}\n          {!selected && (\n            <div className=\"flex flex-col gap-3 mb-6\">\n              {/* Search bar */}\n              <input\n                type=\"text\"\n                value={search}\n                onChange={(e) => { setSearch(e.target.value); setPage(1) }}\n                placeholder=\"Search agents by name or description...\"\n                className=\"w-full bg-transparent border border-border px-4 py-2 font-mono text-xs text-foreground placeholder:text-muted-foreground/40 focus:outline-none focus:border-foreground/40 transition-colors\"\n              />\n\n              {/* Filter row */}\n              <div className=\"flex flex-wrap items-center gap-2\">\n                {/* Skill filter dropdown */}\n                <select\n                  value={skillFilter}\n                  onChange={(e) => { setSkillFilter(e.target.value); setPage(1) }}\n                  className=\"font-mono text-[10px] uppercase tracking-wider px-2 py-1.5 border border-border bg-transparent text-muted-foreground focus:outline-none focus:border-foreground/40 cursor-pointer\"\n                >\n                  <option value=\"\">All Skills</option>\n                  {ALL_SKILLS.map((s) => (\n                    <option key={s} value={s}>{s}</option>\n                  ))}\n                </select>\n\n                {/* Domain filter dropdown */}\n                <select\n                  value={domainFilter}\n                  onChange={(e) => { setDomainFilter(e.target.value); setPage(1) }}\n                  className=\"font-mono text-[10px] uppercase tracking-wider px-2 py-1.5 border border-border bg-transparent text-muted-foreground focus:outline-none focus:border-foreground/40 cursor-pointer\"\n                >\n                  <option value=\"\">All Domains</option>\n                  {ALL_DOMAINS.map((d) => (\n                    <option key={d} value={d}>{d}</option>\n                  ))}\n                </select>\n\n                {/* Clear filters */}\n                {(search || skillFilter || domainFilter) && (\n                  <button\n                    onClick={() => { setSearch(\"\"); setSkillFilter(\"\"); setDomainFilter(\"\"); setPage(1) }}\n                    className=\"font-mono text-[10px] uppercase tracking-wider px-3 py-1.5 border border-error-red/40 text-error-red hover:bg-error-red/5 transition-colors\"\n                  >\n                    Clear\n                  </button>\n                )}\n              </div>\n            </div>\n          )}\n\n          {/* Count */}\n          {!loading && !error && !selected && (\n            <div className=\"mb-4 flex items-center gap-3\">\n              <span className=\"font-mono text-[10px] uppercase tracking-widest text-muted-foreground/60\">\n                {filtered.length} agent{filtered.length !== 1 ? \"s\" : \"\"}\n              </span>\n              {totalPages > 1 && (\n                <span className=\"font-mono text-[10px] uppercase tracking-widest text-muted-foreground/40\">\n                  Page {page}/{totalPages}\n                </span>\n              )}\n            </div>\n          )}\n\n          {/* Content */}\n          <AnimatePresence mode=\"wait\">\n            {loading ? (\n              <motion.div key=\"loading\" initial={{ opacity: 0 }} animate={{ opacity: 1 }} exit={{ opacity: 0 }} className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\n                {Array.from({ length: 6 }).map((_, i) => <SkeletonCard key={i} />)}\n              </motion.div>\n            ) : error ? (\n              <motion.div key=\"error\" initial={{ opacity: 0 }} animate={{ opacity: 1 }} exit={{ opacity: 0 }} className=\"border border-error-red/40 bg-error-red/5 px-4 py-3\">\n                <span className=\"font-mono text-xs uppercase tracking-wider text-error-red\">{error}</span>\n              </motion.div>\n            ) : selected ? (\n              <motion.div key=\"detail\" initial={{ opacity: 0, y: 12 }} animate={{ opacity: 1, y: 0 }} exit={{ opacity: 0, y: -12 }} transition={{ duration: 0.2 }}>\n                <AgentDetail agent={selected} onBack={handleBack} />\n              </motion.div>\n            ) : filtered.length === 0 ? (\n              <motion.div key=\"empty\" initial={{ opacity: 0 }} animate={{ opacity: 1 }} exit={{ opacity: 0 }} className=\"border border-border p-8 text-center\">\n                <span className=\"font-mono text-xs uppercase tracking-widest text-muted-foreground/60\">\n                  No agents found\n                </span>\n              </motion.div>\n            ) : (\n              <motion.div key={`grid-${page}`} initial={{ opacity: 0 }} animate={{ opacity: 1 }} exit={{ opacity: 0 }} className=\"flex flex-col gap-6\">\n                <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\n                  {paged.map((agent, i) => (\n                    <AgentCard key={`${agent.name}-${agent.ownerAddress}-${i}`} agent={agent} onClick={() => setSelected(agent)} />\n                  ))}\n                </div>\n                {totalPages > 1 && (\n                  <div className=\"flex items-center justify-center gap-2 pt-2\">\n                    <button onClick={() => setPage((p) => Math.max(1, p - 1))} disabled={page === 1} className=\"font-mono text-[10px] uppercase tracking-widest px-3 py-1.5 border border-border text-muted-foreground hover:text-foreground hover:border-foreground/30 transition-colors disabled:opacity-30 disabled:pointer-events-none\">&larr; Prev</button>\n                    {Array.from({ length: totalPages }, (_, i) => i + 1).map((p) => (\n                      <button key={p} onClick={() => setPage(p)} className={cn(\"font-mono text-[10px] uppercase tracking-widest w-8 h-8 border transition-colors\", p === page ? \"border-foreground bg-foreground text-background\" : \"border-border text-muted-foreground hover:border-foreground/30 hover:text-foreground\")}>{p}</button>\n                    ))}\n                    <button onClick={() => setPage((p) => Math.min(totalPages, p + 1))} disabled={page === totalPages} className=\"font-mono text-[10px] uppercase tracking-widest px-3 py-1.5 border border-border text-muted-foreground hover:text-foreground hover:border-foreground/30 transition-colors disabled:opacity-30 disabled:pointer-events-none\">Next &rarr;</button>\n                  </div>\n                )}\n              </motion.div>\n            )}\n          </AnimatePresence>\n        </div>\n      </div>\n    </div>\n  )\n}\n\n// ---- Skeleton Card ----\nfunction SkeletonCard() {\n  return (\n    <div className=\"border border-border p-5 relative animate-pulse\">\n      <CornerBrackets opacity={10} />\n      <div className=\"h-4 w-2/3 bg-muted-foreground/10 rounded mb-3\" />\n      <div className=\"h-3 w-1/3 bg-muted-foreground/10 rounded mb-4\" />\n      <div className=\"h-3 w-full bg-muted-foreground/10 rounded mb-2\" />\n      <div className=\"h-3 w-4/5 bg-muted-foreground/10 rounded mb-4\" />\n      <div className=\"flex gap-2\">\n        <div className=\"h-5 w-16 bg-muted-foreground/10 rounded\" />\n        <div className=\"h-5 w-16 bg-muted-foreground/10 rounded\" />\n      </div>\n    </div>\n  )\n}\n\n// ---- Corner Brackets (reusable) ----\nfunction CornerBrackets({ opacity = 20 }: { opacity?: number }) {\n  const cls = `border-foreground/${opacity}`\n  return (\n    <>\n      <div className={`absolute top-2 left-2 w-3 h-3 border-t border-l ${cls}`} />\n      <div className={`absolute top-2 right-2 w-3 h-3 border-t border-r ${cls}`} />\n      <div className={`absolute bottom-2 left-2 w-3 h-3 border-b border-l ${cls}`} />\n      <div className={`absolute bottom-2 right-2 w-3 h-3 border-b border-r ${cls}`} />\n    </>\n  )\n}\n\n// ---- Verification Badge ----\nconst TIER_STYLES: Record<string, string> = {\n  MINIMAL: \"border-green-500/60 text-green-500 bg-green-500/5\",\n  LOW: \"border-cyan-500/60 text-cyan-500 bg-cyan-500/5\",\n  MEDIUM: \"border-yellow-500/60 text-yellow-500 bg-yellow-500/5\",\n  HIGH: \"border-red-400/60 text-red-400 bg-red-400/5\",\n  CRITICAL: \"border-red-600/60 text-red-600 bg-red-600/10\",\n}\n\nfunction verificationLabel(score: number): string {\n  if (score >= 80) return `\\u2713 VERIFIED ${score}`\n  if (score >= 60) return `VERIFIED ${score}`\n  if (score >= 40) return `PARTIAL ${score}`\n  if (score >= 20) return `LOW ${score}`\n  return `RISK ${score}`\n}\n\nfunction VerificationBadge({ network, agentId }: { network: string; agentId: string }) {\n  const [verification, setVerification] = useState<VerificationResult | null>(null)\n\n  useEffect(() => {\n    if (!agentId || agentId === \"pending\") return\n    apiGetVerification(network, agentId)\n      .then((v) => { if (v && v.riskTier) setVerification(v) })\n      .catch(() => {})\n  }, [network, agentId])\n\n  if (!verification) return null\n\n  const style = TIER_STYLES[verification.riskTier] || \"border-border text-muted-foreground\"\n\n  return (\n    <span className={cn(\"font-mono text-[8px] uppercase tracking-wider px-1.5 py-0.5 border shrink-0\", style)}>\n      {verificationLabel(verification.overallScore)}\n    </span>\n  )\n}\n\n// ---- Trust Model Badges ----\nconst TRUST_BADGE: Record<string, { label: string; style: string }> = {\n  reputation: { label: \"REP\", style: \"border-green-500/40 text-green-500\" },\n  \"tee-attestation\": { label: \"TEE\", style: \"border-purple-500/40 text-purple-400\" },\n  \"crypto-economic\": { label: \"STAKE\", style: \"border-yellow-500/40 text-yellow-500\" },\n}\n\n// ---- Agent Card (grouped) ----\nfunction AgentCard({ agent, onClick }: { agent: GroupedAgent; onClick: () => void }) {\n  const router = useRouter()\n  const isActive = agent.status === \"active\"\n  const skills = Array.isArray(agent.skills) ? agent.skills : []\n  const trustModels = Array.isArray(agent.trustModels) ? agent.trustModels : []\n  const hp = parseFloat(agent.hirePrice || \"0\")\n  const date = agent.registeredAt ? new Date(agent.registeredAt).toLocaleDateString() : \"\"\n\n  return (\n    <div className=\"border border-border p-5 relative hover:border-foreground/30 transition-colors group w-full\">\n      <CornerBrackets />\n      {/* Clickable area for details */}\n      <button type=\"button\" onClick={onClick} className=\"w-full text-left cursor-pointer\">\n        <div className=\"flex items-center gap-2 mb-1.5\">\n          <span className={cn(\"h-2 w-2 rounded-full shrink-0\", isActive ? \"bg-system-green\" : \"bg-error-red\")} />\n          <span className=\"font-mono text-sm font-bold uppercase tracking-wider text-foreground truncate\">{agent.name}</span>\n          {agent.agentId && agent.agentId !== \"pending\" && <span className=\"font-mono text-[10px] text-muted-foreground/60 shrink-0\">#{agent.agentId}</span>}\n          <VerificationBadge network={agent.network} agentId={agent.agentId} />\n        </div>\n\n        {/* Chain logos row */}\n        <div className=\"flex items-center gap-1.5 mb-3\">\n          {agent.networks.map((nk) => (\n            <span key={nk} className={cn(\"font-mono text-[8px] uppercase tracking-wider px-1.5 py-0.5 border\", CHAIN_COLOR[nk] || \"border-border text-muted-foreground/60\")}>\n              {CHAIN_SHORT[nk] || nk}\n            </span>\n          ))}\n          <span className={cn(\"font-mono text-[9px] uppercase tracking-wider ml-auto\", hp > 0 ? \"text-system-green\" : \"text-muted-foreground/40\")}>{hp > 0 ? `$${hp.toFixed(2)} USDC` : \"FREE\"}</span>\n        </div>\n\n        {agent.description && <p className=\"font-mono text-[11px] text-muted-foreground leading-relaxed line-clamp-2 mb-3\">{agent.description}</p>}\n\n        {/* Skills */}\n        {skills.length > 0 && (\n          <div className=\"flex flex-wrap gap-1.5 mb-3\">\n            {skills.slice(0, 3).map((s) => <span key={s} className=\"font-mono text-[9px] uppercase tracking-wider text-muted-foreground/60 border border-border/60 px-1.5 py-0.5\">{s}</span>)}\n            {skills.length > 3 && <span className=\"font-mono text-[9px] text-muted-foreground/40\">+{skills.length - 3}</span>}\n          </div>\n        )}\n\n        {/* Trust model + x402 badges */}\n        <div className=\"flex flex-wrap gap-1.5 mb-3\">\n          {trustModels.map((tm) => {\n            const badge = TRUST_BADGE[tm]\n            if (!badge) return null\n            return <span key={tm} className={cn(\"font-mono text-[8px] uppercase tracking-wider px-1.5 py-0.5 border\", badge.style)}>{badge.label}</span>\n          })}\n          {agent.x402Payment === \"true\" && (\n            <span className=\"font-mono text-[8px] uppercase tracking-wider px-1.5 py-0.5 border border-system-green/40 text-system-green\">x402</span>\n          )}\n        </div>\n\n        <div className=\"flex items-center justify-between\">\n          {agent.ownerAddress && <span className=\"font-mono text-[9px] text-muted-foreground/40 truncate\">{agent.ownerAddress.slice(0, 6)}...{agent.ownerAddress.slice(-4)}</span>}\n          {date && <span className=\"font-mono text-[9px] text-muted-foreground/40 shrink-0\">{date}</span>}\n        </div>\n      </button>\n      {/* Action buttons */}\n      <div className=\"flex items-center gap-2 mt-3 pt-3 border-t border-border/40\">\n        <button\n          type=\"button\"\n          onClick={(e) => { e.stopPropagation(); router.push(`/hire?network=${agent.network}&agentId=${agent.agentId}`) }}\n          className=\"flex-1 font-mono text-[10px] uppercase tracking-widest py-1.5 border border-system-green/40 text-system-green hover:bg-system-green/5 transition-colors text-center\"\n        >\n          HIRE\n        </button>\n        <button\n          type=\"button\"\n          onClick={onClick}\n          className=\"flex-1 font-mono text-[10px] uppercase tracking-widest py-1.5 border border-info-blue/40 text-info-blue hover:bg-info-blue/5 transition-colors text-center\"\n        >\n          DETAILS\n        </button>\n      </div>\n    </div>\n  )\n}\n\n// ---- Detail Row ----\nfunction DetailRow({ label, value, children }: { label: string; value?: string; children?: React.ReactNode }) {\n  return (\n    <div className=\"flex gap-3\">\n      <span className=\"text-[10px] uppercase tracking-widest text-muted-foreground/60 w-24 shrink-0 pt-0.5\">{label}</span>\n      {children || <span className=\"text-xs text-foreground break-all\">{value}</span>}\n    </div>\n  )\n}\n\n// ---- Agent Detail ----\nfunction AgentDetail({ agent, onBack }: { agent: GroupedAgent; onBack: () => void }) {\n  const router = useRouter()\n  const { walletAddress } = useWallet()\n  const networkConfig = CONTRACTS[agent.network]\n  const blockExplorer = networkConfig?.blockExplorer || \"\"\n  const isActive = agent.status === \"active\"\n  const date = agent.registeredAt ? new Date(agent.registeredAt).toLocaleString() : \"\"\n  const hp = parseFloat(agent.hirePrice || \"0\")\n  const trustModels = Array.isArray(agent.trustModels) ? agent.trustModels : []\n\n  return (\n    <div className=\"flex flex-col gap-5\">\n      <button onClick={onBack} className=\"font-mono text-xs uppercase tracking-widest text-muted-foreground hover:text-foreground transition-colors self-start\">&larr; Back to agents</button>\n\n      {/* Header */}\n      <div className=\"flex items-center gap-3\">\n        <span className={cn(\"h-3 w-3 rounded-full\", isActive ? \"bg-system-green\" : \"bg-error-red\")} />\n        <h2 className=\"font-mono text-2xl md:text-3xl font-bold tracking-tight uppercase text-foreground\">{agent.name}</h2>\n        {agent.agentId && agent.agentId !== \"pending\" && <span className=\"font-mono text-sm text-muted-foreground/60\">#{agent.agentId}</span>}\n      </div>\n\n      {/* Deployed On (chain logos) */}\n      <div className=\"flex items-center gap-2 flex-wrap\">\n        <span className=\"font-mono text-[10px] uppercase tracking-widest text-muted-foreground/60\">Deployed on:</span>\n        {agent.networks.map((nk) => (\n          <span key={nk} className={cn(\"font-mono text-[9px] uppercase tracking-wider px-2 py-1 border\", CHAIN_COLOR[nk] || \"border-border text-muted-foreground/60\")}>\n            {CONTRACTS[nk]?.name || nk}\n          </span>\n        ))}\n      </div>\n\n      {/* Trust + x402 badges */}\n      {(trustModels.length > 0 || agent.x402Payment === \"true\") && (\n        <div className=\"flex flex-wrap gap-2\">\n          {trustModels.map((tm) => {\n            const badge = TRUST_BADGE[tm]\n            if (!badge) return null\n            return <span key={tm} className={cn(\"font-mono text-[9px] uppercase tracking-wider px-2 py-1 border\", badge.style)}>{tm === \"reputation\" ? \"Reputation-Based\" : tm === \"tee-attestation\" ? \"TEE Attestation\" : \"Crypto-Economic\"}</span>\n          })}\n          {agent.x402Payment === \"true\" && (\n            <span className=\"font-mono text-[9px] uppercase tracking-wider px-2 py-1 border border-system-green/40 text-system-green\">x402 Payments Enabled</span>\n          )}\n        </div>\n      )}\n\n      {/* Hire action bar */}\n      <div className=\"flex items-center gap-3\">\n        <button\n          onClick={() => router.push(`/hire?network=${agent.network}&agentId=${agent.agentId}`)}\n          className=\"font-mono text-xs uppercase tracking-widest px-6 py-2.5 bg-system-green/10 border border-system-green/40 text-system-green hover:bg-system-green/20 transition-colors\"\n        >\n          {hp > 0 ? `HIRE \\u2014 $${hp.toFixed(2)} / call` : \"HIRE \\u2014 FREE\"}\n        </button>\n      </div>\n\n      {/* Basic Info */}\n      <div className=\"border border-border p-5 relative\">\n        <CornerBrackets />\n        <div className=\"space-y-2 text-sm font-mono\">\n          <DetailRow label=\"NAME\" value={agent.name} />\n          <DetailRow label=\"URL\">\n            <a href={agent.url} target=\"_blank\" rel=\"noopener noreferrer\" className=\"text-info-blue hover:underline break-all text-xs\">{agent.url}</a>\n          </DetailRow>\n          <DetailRow label=\"DESCRIPTION\" value={agent.description} />\n          <DetailRow label=\"AGENT ID\" value={agent.agentId || \"Pending\"} />\n          <DetailRow label=\"STATUS\">\n            <span className={cn(\"text-xs\", isActive ? \"text-system-green\" : \"text-error-red\")}>{agent.status?.toUpperCase() || \"UNKNOWN\"}</span>\n          </DetailRow>\n          <DetailRow label=\"OWNER\">\n            <span className=\"text-xs text-foreground break-all\">{agent.ownerAddress || \"\\u2014\"}</span>\n          </DetailRow>\n          <DetailRow label=\"VERSION\" value={agent.version || \"\\u2014\"} />\n          {agent.author && <DetailRow label=\"AUTHOR\" value={agent.author} />}\n          <DetailRow label=\"LICENSE\" value={agent.license || \"\\u2014\"} />\n          {agent.registrationTx && (\n            <DetailRow label=\"REG TX\">\n              <a href={`${blockExplorer}/tx/${agent.registrationTx}`} target=\"_blank\" rel=\"noopener noreferrer\" className=\"text-info-blue hover:underline break-all text-xs\">{agent.registrationTx}</a>\n            </DetailRow>\n          )}\n          {date && <DetailRow label=\"REGISTERED\" value={date} />}\n        </div>\n      </div>\n\n      {/* Protocol Endpoints */}\n      {(agent.mcpEndpoint || agent.a2aEndpoint) && (\n        <div className=\"border border-border p-5 relative\">\n          <CornerBrackets />\n          <span className=\"font-mono text-[10px] uppercase tracking-widest text-muted-foreground/60 block mb-3\">Protocol Endpoints</span>\n          <div className=\"space-y-2 font-mono\">\n            {agent.mcpEndpoint && <DetailRow label=\"MCP\"><a href={agent.mcpEndpoint} target=\"_blank\" rel=\"noopener noreferrer\" className=\"text-info-blue hover:underline break-all text-xs\">{agent.mcpEndpoint}</a></DetailRow>}\n            {agent.a2aEndpoint && <DetailRow label=\"A2A\"><a href={agent.a2aEndpoint} target=\"_blank\" rel=\"noopener noreferrer\" className=\"text-info-blue hover:underline break-all text-xs\">{agent.a2aEndpoint}</a></DetailRow>}\n          </div>\n        </div>\n      )}\n\n      {/* ERC-8126 Verification */}\n      <VerificationSection agent={agent} isOwner={!!walletAddress && agent.ownerAddress?.toLowerCase() === walletAddress.toLowerCase()} />\n\n      {/* Feedback / Reputation (read-only) */}\n      <FeedbackSection agent={agent} />\n    </div>\n  )\n}\n\n// ---- Feedback Section (read-only â€” submission moved to workspace after hire usage) ----\nfunction FeedbackSection({ agent }: { agent: Agent }) {\n  const networkConfig = CONTRACTS[agent.network]\n  const [feedbacks, setFeedbacks] = useState<FeedbackEntry[]>([])\n  const [summary, setSummary] = useState<{ count: number; avg: number } | null>(null)\n  const [loadingFeedback, setLoadingFeedback] = useState(true)\n  const fetchedRef = useRef(false)\n\n  useEffect(() => {\n    if (fetchedRef.current) return\n    fetchedRef.current = true\n    if (!agent.agentId || agent.agentId === \"pending\" || !networkConfig) {\n      setLoadingFeedback(false)\n      return\n    }\n    fetchFeedback()\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [])\n\n  async function fetchFeedback() {\n    try {\n      const provider = new ethers.JsonRpcProvider(networkConfig.rpc)\n      const contract = new ethers.Contract(networkConfig.reputationRegistry, REPUTATION_REGISTRY_ABI, provider)\n\n      const clients: string[] = await contract.getClients(agent.agentId)\n\n      if (clients.length === 0) {\n        setSummary({ count: 0, avg: 0 })\n        setLoadingFeedback(false)\n        return\n      }\n\n      try {\n        const [count, summaryValue, summaryDecimals] = await contract.getSummary(agent.agentId, clients, \"\", \"\")\n        const countNum = Number(count)\n        const avg = countNum > 0 ? Number(summaryValue) / Math.pow(10, Number(summaryDecimals)) : 0\n        setSummary({ count: countNum, avg })\n      } catch {\n        setSummary({ count: 0, avg: 0 })\n      }\n\n      const entries: FeedbackEntry[] = []\n      for (const client of clients) {\n        const lastIndex = Number(await contract.getLastIndex(agent.agentId, client))\n        for (let i = 1; i <= lastIndex; i++) {\n          try {\n            const [value, , tag1, tag2, isRevoked] = await contract.readFeedback(agent.agentId, client, i)\n            if (!isRevoked) {\n              entries.push({\n                clientAddress: client,\n                index: i,\n                value: Number(value),\n                tag1,\n                tag2,\n                isRevoked,\n              })\n            }\n          } catch { /* skip */ }\n        }\n      }\n      setFeedbacks(entries)\n    } catch (e) {\n      console.error(\"Failed to fetch feedback:\", e)\n    } finally {\n      setLoadingFeedback(false)\n    }\n  }\n\n  return (\n    <div className=\"flex flex-col gap-5\">\n      {/* Summary Stats */}\n      <div className=\"border border-border p-5 relative\">\n        <CornerBrackets />\n        <span className=\"font-mono text-[10px] uppercase tracking-widest text-muted-foreground/60 block mb-4\">Reputation</span>\n\n        {loadingFeedback ? (\n          <div className=\"flex gap-4\">\n            {[1, 2, 3].map((i) => <div key={i} className=\"flex-1 h-20 bg-muted-foreground/5 border border-border animate-pulse\" />)}\n          </div>\n        ) : (\n          <div className=\"grid grid-cols-3 gap-4\">\n            <div className=\"border border-border p-4 text-center\">\n              <span className=\"font-mono text-2xl font-bold text-foreground block\">\n                {summary ? `${summary.avg.toFixed(1)}/5` : \"\\u2014\"}\n              </span>\n              <span className=\"font-mono text-[9px] uppercase tracking-widest text-muted-foreground/60\">Avg Score</span>\n            </div>\n            <div className=\"border border-border p-4 text-center\">\n              <span className=\"font-mono text-2xl font-bold text-foreground block\">\n                {summary?.count ?? 0}\n              </span>\n              <span className=\"font-mono text-[9px] uppercase tracking-widest text-muted-foreground/60\">Total Feedback</span>\n            </div>\n            <div className=\"border border-border p-4 text-center\">\n              <span className=\"font-mono text-2xl font-bold text-foreground block\">\n                {summary ? Math.round(summary.avg * 20) : 0}\n              </span>\n              <span className=\"font-mono text-[9px] uppercase tracking-widest text-muted-foreground/60\">Score /100</span>\n            </div>\n          </div>\n        )}\n      </div>\n\n      {/* Info: feedback only after hire */}\n      <div className=\"border border-border/60 px-4 py-3 text-center\">\n        <span className=\"font-mono text-[10px] uppercase tracking-widest text-muted-foreground/50\">\n          Feedback can only be submitted after hiring and using this agent\n        </span>\n      </div>\n\n      {/* Feedback List */}\n      {!loadingFeedback && feedbacks.length > 0 && (\n        <div className=\"border border-border p-5 relative\">\n          <CornerBrackets />\n          <span className=\"font-mono text-[10px] uppercase tracking-widest text-muted-foreground/60 block mb-4\">\n            Feedback ({feedbacks.length})\n          </span>\n\n          <div className=\"space-y-3\">\n            {feedbacks.map((fb, i) => (\n              <div key={`${fb.clientAddress}-${fb.index}-${i}`} className=\"border border-border/60 p-4\">\n                <div className=\"flex items-center justify-between mb-2\">\n                  <div className=\"flex items-center gap-2\">\n                    <span className=\"font-mono text-[9px] text-muted-foreground/40\">\n                      {fb.clientAddress.slice(0, 6)}...{fb.clientAddress.slice(-4)}\n                    </span>\n                    {fb.tag1 && <span className=\"font-mono text-[9px] uppercase tracking-wider text-muted-foreground/50 border border-border/40 px-1.5 py-0.5\">{fb.tag1}</span>}\n                  </div>\n                  <div className=\"flex items-center gap-1\">\n                    {Array.from({ length: 5 }).map((_, si) => (\n                      <span key={si} className={cn(\"text-sm\", si < fb.value ? \"text-warning-amber\" : \"text-border\")}>\n                        &#9733;\n                      </span>\n                    ))}\n                    <span className=\"font-mono text-xs text-foreground ml-1\">{fb.value}/5</span>\n                  </div>\n                </div>\n                {fb.tag2 && (\n                  <p className=\"font-mono text-[11px] text-muted-foreground leading-relaxed\">{fb.tag2}</p>\n                )}\n              </div>\n            ))}\n          </div>\n        </div>\n      )}\n\n      {!loadingFeedback && feedbacks.length === 0 && (\n        <div className=\"border border-border p-5 relative text-center\">\n          <CornerBrackets />\n          <span className=\"font-mono text-xs uppercase tracking-widest text-muted-foreground/40\">No feedback yet</span>\n        </div>\n      )}\n    </div>\n  )\n}\n\n// ---- Verification Section (ERC-8126) ----\nconst PROOF_TYPE_LABELS: Record<string, string> = {\n  WAV: \"Web Availability\",\n  WV: \"Wallet Verification\",\n  ETV: \"On-Chain Transaction\",\n}\n\nfunction ScoreBar({ score, label }: { score: number; label: string }) {\n  const color = score >= 70 ? \"bg-green-500\" : score >= 40 ? \"bg-yellow-500\" : \"bg-red-500\"\n  return (\n    <div className=\"flex items-center gap-3\">\n      <span className=\"font-mono text-[10px] uppercase tracking-widest text-muted-foreground/60 w-32 shrink-0\">{label}</span>\n      <div className=\"flex-1 h-2 bg-muted-foreground/10 relative overflow-hidden\">\n        <div className={cn(\"h-full transition-all duration-500\", color)} style={{ width: `${score}%` }} />\n      </div>\n      <span className=\"font-mono text-xs text-foreground w-10 text-right\">{score}</span>\n    </div>\n  )\n}\n\nfunction VerificationSection({ agent, isOwner }: { agent: Agent; isOwner: boolean }) {\n  const { signedFetch } = useWallet()\n  const [verification, setVerification] = useState<VerificationResult | null>(null)\n  const [loading, setLoading] = useState(true)\n  const [verifying, setVerifying] = useState(false)\n  const [verifyError, setVerifyError] = useState<string | null>(null)\n\n  useEffect(() => {\n    if (!agent.agentId || agent.agentId === \"pending\") {\n      setLoading(false)\n      return\n    }\n    apiGetVerification(agent.network, agent.agentId)\n      .then((v) => { if (v && v.riskTier) setVerification(v) })\n      .catch(() => {})\n      .finally(() => setLoading(false))\n  }, [agent.network, agent.agentId])\n\n  async function handleVerify() {\n    setVerifying(true)\n    setVerifyError(null)\n    try {\n      const result = await apiVerifyAgent(agent.network, agent.agentId, signedFetch)\n      setVerification(result)\n    } catch (e: unknown) {\n      const msg = e instanceof Error ? e.message : String(e)\n      setVerifyError(msg)\n    } finally {\n      setVerifying(false)\n    }\n  }\n\n  return (\n    <div className=\"border border-border p-5 relative\">\n      <CornerBrackets />\n      <div className=\"flex items-center justify-between mb-4\">\n        <span className=\"font-mono text-[10px] uppercase tracking-widest text-muted-foreground/60\">ERC-8126 Verification</span>\n        {isOwner && (\n          <button\n            onClick={handleVerify}\n            disabled={verifying || !agent.agentId || agent.agentId === \"pending\"}\n            className=\"font-mono text-[10px] uppercase tracking-widest border border-border px-3 py-1.5 hover:border-foreground/30 hover:text-foreground transition-colors text-muted-foreground disabled:opacity-30\"\n          >\n            {verifying ? \"Verifying...\" : verification ? \"Re-verify\" : \"Verify Now\"}\n          </button>\n        )}\n      </div>\n\n      {loading ? (\n        <div className=\"h-20 bg-muted-foreground/5 animate-pulse\" />\n      ) : verification ? (\n        <div className=\"space-y-4\">\n          <div className=\"grid grid-cols-3 gap-4\">\n            <div className=\"border border-border p-4 text-center\">\n              <span className=\"font-mono text-2xl font-bold text-foreground block\">{verification.overallScore}</span>\n              <span className=\"font-mono text-[9px] uppercase tracking-widest text-muted-foreground/60\">Score /100</span>\n            </div>\n            <div className=\"border border-border p-4 text-center\">\n              <span className={cn(\n                \"font-mono text-sm font-bold block px-2 py-1 border\",\n                TIER_STYLES[verification.riskTier] || \"border-border text-muted-foreground\"\n              )}>\n                {verificationLabel(verification.overallScore)}\n              </span>\n              <span className=\"font-mono text-[9px] uppercase tracking-widest text-muted-foreground/60 mt-1 block\">Status</span>\n            </div>\n            <div className=\"border border-border p-4 text-center\">\n              <span className=\"font-mono text-sm text-foreground block\">\n                {verification.verifiedAt ? new Date(verification.verifiedAt).toLocaleDateString() : \"\\u2014\"}\n              </span>\n              <span className=\"font-mono text-[9px] uppercase tracking-widest text-muted-foreground/60 mt-1 block\">Last Verified</span>\n            </div>\n          </div>\n\n          {verification.proofs && verification.proofs.length > 0 && (\n            <div className=\"space-y-3\">\n              {verification.proofs.map((proof, i) => (\n                <ScoreBar\n                  key={i}\n                  score={proof.score}\n                  label={PROOF_TYPE_LABELS[proof.proofType] || proof.proofType}\n                />\n              ))}\n            </div>\n          )}\n\n          {verification.txHash && (\n            <div className=\"font-mono text-[10px] text-muted-foreground/40\">\n              On-chain tx: <span className=\"text-info-blue\">{verification.txHash}</span>\n            </div>\n          )}\n        </div>\n      ) : (\n        <div className=\"text-center py-4\">\n          <span className=\"font-mono text-xs uppercase tracking-widest text-muted-foreground/40\">\n            {isOwner ? 'Not yet verified \\u2014 click \"Verify Now\" to run ERC-8126 checks' : \"Not yet verified\"}\n          </span>\n        </div>\n      )}\n\n      {verifyError && (\n        <div className=\"mt-3 border border-error-red/40 bg-error-red/5 px-4 py-2\">\n          <span className=\"font-mono text-xs text-error-red\">{verifyError}</span>\n        </div>\n      )}\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}