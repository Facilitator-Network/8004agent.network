{"version":3,"sources":["../../../../app/deploy/page.tsx"],"sourcesContent":["\"use client\"\n\nimport { useState, useCallback, useEffect, useRef } from \"react\"\nimport { motion, AnimatePresence } from \"motion/react\"\nimport { cn } from \"@/lib/utils\"\nimport { useWallet } from \"@/components/wallet-provider\"\nimport { ethers } from \"ethers\"\nimport { selectFacilitator, facinetExecuteContract } from \"@/lib/facinet\"\nimport {\n  OASF_SKILLS,\n  APPLICATION_DOMAINS,\n  TRUST_MODELS,\n  CONTRACTS,\n  IDENTITY_REGISTRY_ABI,\n  DEFAULT_FORM_DATA,\n  type DeployFormData,\n  type NetworkResult,\n  type DeployResult,\n} from \"@/lib/deploy-constants\"\nimport {\n  apiCheckAgent,\n  apiCreateCircleWallet,\n  apiStoreAgent,\n} from \"@/lib/api\"\n\nconst STEPS = [\n  { id: 0, label: \"BASIC INFO\" },\n  { id: 1, label: \"ENDPOINTS\" },\n  { id: 2, label: \"SKILLS\" },\n  { id: 3, label: \"CONFIG\" },\n  { id: 4, label: \"REVIEW\" },\n  { id: 5, label: \"DEPLOY\" },\n  { id: 6, label: \"DONE\" },\n]\n\nconst NETWORK_COUNT = Object.keys(CONTRACTS).length\n\nexport default function DeployPage() {\n  const [step, setStep] = useState(0)\n  const [form, setForm] = useState<DeployFormData>({ ...DEFAULT_FORM_DATA })\n  const [result, setResult] = useState<DeployResult | null>(null)\n  const [error, setError] = useState<string | null>(null)\n  const [nameTaken, setNameTaken] = useState(false)\n  const [urlTaken, setUrlTaken] = useState(false)\n  const [checking, setChecking] = useState(false)\n  const { walletAddress, signer } = useWallet()\n\n  const updateForm = useCallback((updates: Partial<DeployFormData>) => {\n    setForm(prev => ({ ...prev, ...updates }))\n    if (updates.name !== undefined) setNameTaken(false)\n    if (updates.url !== undefined) setUrlTaken(false)\n  }, [])\n\n  const canNext = useCallback(() => {\n    switch (step) {\n      case 0: return form.name.trim() !== '' && form.url.trim().startsWith('http') && form.description.trim() !== '' && !nameTaken && !urlTaken && !checking\n      case 1: return true\n      case 2: return true\n      case 3: return true\n      case 4: return !!walletAddress\n      default: return false\n    }\n  }, [step, form, walletAddress, nameTaken, urlTaken, checking])\n\n  return (\n    <div className=\"h-full w-full relative flex flex-col overflow-y-auto no-scrollbar\">\n      <div className=\"flex-1 flex flex-col items-center pt-24 pb-16 px-4 md:px-8\">\n        {step < 6 && <StepIndicator currentStep={step} />}\n\n        <div className=\"w-full max-w-2xl mt-8\">\n          <AnimatePresence mode=\"wait\">\n            <motion.div\n              key={step}\n              initial={{ opacity: 0, y: 12 }}\n              animate={{ opacity: 1, y: 0 }}\n              exit={{ opacity: 0, y: -12 }}\n              transition={{ duration: 0.25 }}\n            >\n              {step === 0 && <StepBasicInfo form={form} updateForm={updateForm} nameTaken={nameTaken} setNameTaken={setNameTaken} urlTaken={urlTaken} setUrlTaken={setUrlTaken} checking={checking} setChecking={setChecking} />}\n              {step === 1 && <StepEndpoints form={form} updateForm={updateForm} />}\n              {step === 2 && <StepSkillsDomains form={form} updateForm={updateForm} />}\n              {step === 3 && <StepAdvancedConfig form={form} updateForm={updateForm} />}\n              {step === 4 && <StepReview form={form} walletAddress={walletAddress} />}\n              {step === 5 && <StepProcessing form={form} walletAddress={walletAddress!} signer={signer} setResult={setResult} setError={setError} onComplete={() => setStep(6)} />}\n              {step === 6 && <StepSuccess result={result} error={error} form={form} />}\n            </motion.div>\n          </AnimatePresence>\n\n          {step < 5 && (\n            <div className=\"flex items-center justify-between mt-8 pt-6 border-t border-border\">\n              <button\n                onClick={() => setStep(s => Math.max(0, s - 1))}\n                disabled={step === 0}\n                className=\"font-mono text-xs uppercase tracking-widest text-muted-foreground hover:text-foreground transition-colors disabled:opacity-30\"\n              >\n                [BACK]\n              </button>\n\n              {step < 4 ? (\n                <button\n                  onClick={() => setStep(s => s + 1)}\n                  disabled={!canNext()}\n                  className=\"font-mono text-xs uppercase tracking-widest bg-foreground text-background px-6 py-2.5 hover:opacity-90 transition-opacity disabled:opacity-30\"\n                >\n                  NEXT &rarr;\n                </button>\n              ) : (\n                <button\n                  onClick={() => setStep(5)}\n                  disabled={!walletAddress}\n                  className=\"font-mono text-xs uppercase tracking-widest bg-foreground text-background px-6 py-2.5 hover:opacity-90 transition-opacity disabled:opacity-30\"\n                >\n                  SIGN &amp; DEPLOY\n                </button>\n              )}\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  )\n}\n\n// ---- Step Indicator ----\nfunction StepIndicator({ currentStep }: { currentStep: number }) {\n  return (\n    <div className=\"flex items-center gap-1 md:gap-2 w-full max-w-2xl\">\n      {STEPS.slice(0, 6).map((s) => (\n        <div key={s.id} className=\"flex-1 flex flex-col items-center gap-2\">\n          <div\n            className={cn(\n              \"w-full h-1 rounded-full transition-colors duration-300\",\n              s.id <= currentStep ? \"bg-foreground\" : \"bg-border\"\n            )}\n          />\n          <span\n            className={cn(\n              \"font-mono text-[9px] tracking-widest uppercase transition-colors duration-300 hidden md:block\",\n              s.id === currentStep ? \"text-foreground\" : \"text-muted-foreground/50\"\n            )}\n          >\n            {s.label}\n          </span>\n        </div>\n      ))}\n    </div>\n  )\n}\n\n// ---- Shared Field Components ----\nfunction FieldLabel({ children }: { children: React.ReactNode }) {\n  return (\n    <label className=\"font-mono text-[10px] uppercase tracking-widest text-muted-foreground mb-1.5 block\">\n      {children}\n    </label>\n  )\n}\n\nfunction TextInput({\n  value, onChange, placeholder, required, error\n}: {\n  value: string; onChange: (v: string) => void; placeholder?: string; required?: boolean; error?: boolean\n}) {\n  return (\n    <input\n      type=\"text\"\n      value={value}\n      onChange={e => onChange(e.target.value)}\n      placeholder={placeholder}\n      required={required}\n      className={cn(\n        \"w-full bg-transparent border px-4 py-2.5 font-mono text-sm text-foreground placeholder:text-muted-foreground/40 focus:outline-none transition-colors\",\n        error\n          ? \"border-error-red focus:border-error-red\"\n          : \"border-border focus:border-foreground/40\"\n      )}\n    />\n  )\n}\n\nfunction TextArea({\n  value, onChange, placeholder, rows = 3\n}: {\n  value: string; onChange: (v: string) => void; placeholder?: string; rows?: number\n}) {\n  return (\n    <textarea\n      value={value}\n      onChange={e => onChange(e.target.value)}\n      placeholder={placeholder}\n      rows={rows}\n      className=\"w-full bg-transparent border border-border px-4 py-2.5 font-mono text-sm text-foreground placeholder:text-muted-foreground/40 focus:outline-none focus:border-foreground/40 transition-colors resize-none no-scrollbar\"\n    />\n  )\n}\n\nfunction SectionHeader({ step, title }: { step: string; title: string }) {\n  return (\n    <div className=\"mb-6\">\n      <span className=\"font-mono text-[10px] text-muted-foreground/60 uppercase tracking-widest\">{step}</span>\n      <h2 className=\"font-mono text-2xl md:text-3xl font-bold tracking-tight uppercase text-foreground mt-1\">{title}</h2>\n    </div>\n  )\n}\n\n// ---- Step 0: Basic Info ----\nfunction StepBasicInfo({ form, updateForm, nameTaken, setNameTaken, urlTaken, setUrlTaken, checking, setChecking }: {\n  form: DeployFormData\n  updateForm: (u: Partial<DeployFormData>) => void\n  nameTaken: boolean\n  setNameTaken: (v: boolean) => void\n  urlTaken: boolean\n  setUrlTaken: (v: boolean) => void\n  checking: boolean\n  setChecking: (v: boolean) => void\n}) {\n  const nameTimerRef = useRef<ReturnType<typeof setTimeout> | null>(null)\n  const urlTimerRef = useRef<ReturnType<typeof setTimeout> | null>(null)\n\n  const checkName = useCallback((name: string) => {\n    if (nameTimerRef.current) clearTimeout(nameTimerRef.current)\n    if (!name.trim()) { setNameTaken(false); return }\n    setChecking(true)\n    nameTimerRef.current = setTimeout(async () => {\n      try {\n        const res = await apiCheckAgent(name.trim(), undefined)\n        setNameTaken(res.nameTaken)\n      } catch { /* ignore */ }\n      setChecking(false)\n    }, 500)\n  }, [setNameTaken, setChecking])\n\n  const checkUrl = useCallback((url: string) => {\n    if (urlTimerRef.current) clearTimeout(urlTimerRef.current)\n    if (!url.trim()) { setUrlTaken(false); return }\n    setChecking(true)\n    urlTimerRef.current = setTimeout(async () => {\n      try {\n        const res = await apiCheckAgent(undefined, url.trim())\n        setUrlTaken(res.urlTaken)\n      } catch { /* ignore */ }\n      setChecking(false)\n    }, 500)\n  }, [setUrlTaken, setChecking])\n\n  return (\n    <div className=\"flex flex-col gap-5\">\n      <SectionHeader step=\"Step 01\" title=\"Basic Information\" />\n\n      <div>\n        <FieldLabel>Agent Name *</FieldLabel>\n        <TextInput\n          value={form.name}\n          onChange={v => { updateForm({ name: v }); checkName(v) }}\n          placeholder=\"My AI Agent\"\n          required\n          error={nameTaken}\n        />\n        {nameTaken && (\n          <span className=\"font-mono text-[10px] uppercase tracking-wider text-error-red mt-1 block\">\n            This name is already taken — an agent with this name is already live\n          </span>\n        )}\n      </div>\n\n      <div>\n        <FieldLabel>Agent URL *</FieldLabel>\n        <TextInput\n          value={form.url}\n          onChange={v => { updateForm({ url: v }); checkUrl(v) }}\n          placeholder=\"https://my-agent.vercel.app\"\n          required\n          error={urlTaken}\n        />\n        {urlTaken && (\n          <span className=\"font-mono text-[10px] uppercase tracking-wider text-error-red mt-1 block\">\n            This URL is already registered — an agent at this URL is already live\n          </span>\n        )}\n      </div>\n\n      <div>\n        <FieldLabel>Image URL (optional)</FieldLabel>\n        <TextInput value={form.imageUrl} onChange={v => updateForm({ imageUrl: v })} placeholder=\"https://...\" />\n      </div>\n\n      <div>\n        <FieldLabel>Description *</FieldLabel>\n        <TextArea value={form.description} onChange={v => updateForm({ description: v })} placeholder=\"What does your agent do?\" />\n      </div>\n\n      <div className=\"grid grid-cols-3 gap-4\">\n        <div>\n          <FieldLabel>Version</FieldLabel>\n          <TextInput value={form.version} onChange={v => updateForm({ version: v })} placeholder=\"1.0.0\" />\n        </div>\n        <div>\n          <FieldLabel>Author</FieldLabel>\n          <TextInput value={form.author} onChange={v => updateForm({ author: v })} placeholder=\"Name\" />\n        </div>\n        <div>\n          <FieldLabel>License</FieldLabel>\n          <TextInput value={form.license} onChange={v => updateForm({ license: v })} placeholder=\"MIT\" />\n        </div>\n      </div>\n    </div>\n  )\n}\n\n// ---- Step 1: Endpoints ----\nfunction StepEndpoints({ form, updateForm }: { form: DeployFormData; updateForm: (u: Partial<DeployFormData>) => void }) {\n  return (\n    <div className=\"flex flex-col gap-5\">\n      <SectionHeader step=\"Step 02\" title=\"Endpoints\" />\n      <p className=\"text-sm text-muted-foreground -mt-3\">Optional protocol endpoints for your agent.</p>\n\n      <div>\n        <FieldLabel>MCP Endpoint URL</FieldLabel>\n        <TextInput value={form.mcpEndpoint} onChange={v => updateForm({ mcpEndpoint: v })} placeholder=\"https://my-agent.com/mcp\" />\n      </div>\n\n      <div>\n        <FieldLabel>A2A Endpoint URL</FieldLabel>\n        <TextInput value={form.a2aEndpoint} onChange={v => updateForm({ a2aEndpoint: v })} placeholder=\"https://my-agent.com/a2a\" />\n      </div>\n    </div>\n  )\n}\n\n// ---- Step 2: Skills & Domains ----\nfunction CheckboxGroup({\n  label, items, selected, onChange\n}: {\n  label: string; items: Record<string, string[]>; selected: string[]; onChange: (v: string[]) => void\n}) {\n  const toggle = (value: string) => {\n    onChange(\n      selected.includes(value)\n        ? selected.filter(s => s !== value)\n        : [...selected, value]\n    )\n  }\n\n  return (\n    <div>\n      <FieldLabel>{label}</FieldLabel>\n      <div className=\"border border-border p-4 max-h-56 overflow-y-auto no-scrollbar flex flex-col gap-3\">\n        {Object.entries(items).map(([category, values]) => (\n          <div key={category}>\n            <span className=\"font-mono text-[9px] uppercase tracking-widest text-muted-foreground/60 mb-1 block\">\n              {category}\n            </span>\n            <div className=\"flex flex-wrap gap-2\">\n              {values.map(v => (\n                <button\n                  key={v}\n                  type=\"button\"\n                  onClick={() => toggle(v)}\n                  className={cn(\n                    \"font-mono text-[10px] uppercase tracking-wider px-3 py-1.5 border transition-colors\",\n                    selected.includes(v)\n                      ? \"border-foreground bg-foreground text-background\"\n                      : \"border-border text-muted-foreground hover:border-foreground/30 hover:text-foreground\"\n                  )}\n                >\n                  {v}\n                </button>\n              ))}\n            </div>\n          </div>\n        ))}\n      </div>\n    </div>\n  )\n}\n\nfunction StepSkillsDomains({ form, updateForm }: { form: DeployFormData; updateForm: (u: Partial<DeployFormData>) => void }) {\n  return (\n    <div className=\"flex flex-col gap-5\">\n      <SectionHeader step=\"Step 03\" title=\"Skills & Domains\" />\n\n      <CheckboxGroup label=\"OASF Skills\" items={OASF_SKILLS} selected={form.skills} onChange={v => updateForm({ skills: v })} />\n\n      <div>\n        <FieldLabel>Custom Skills (comma-separated)</FieldLabel>\n        <TextInput value={form.customSkills} onChange={v => updateForm({ customSkills: v })} placeholder=\"Custom Skill 1, Custom Skill 2\" />\n      </div>\n\n      <CheckboxGroup label=\"Application Domains\" items={APPLICATION_DOMAINS} selected={form.domains} onChange={v => updateForm({ domains: v })} />\n\n      <div>\n        <FieldLabel>Custom Domains (comma-separated)</FieldLabel>\n        <TextInput value={form.customDomains} onChange={v => updateForm({ customDomains: v })} placeholder=\"Custom Domain 1, Custom Domain 2\" />\n      </div>\n    </div>\n  )\n}\n\n// ---- Step 3: Advanced Config ----\nfunction StepAdvancedConfig({ form, updateForm }: { form: DeployFormData; updateForm: (u: Partial<DeployFormData>) => void }) {\n  const toggleTrustModel = (value: string) => {\n    updateForm({\n      trustModels: form.trustModels.includes(value)\n        ? form.trustModels.filter(t => t !== value)\n        : [...form.trustModels, value]\n    })\n  }\n\n  return (\n    <div className=\"flex flex-col gap-5\">\n      <SectionHeader step=\"Step 04\" title=\"Advanced Configuration\" />\n\n      <div>\n        <FieldLabel>Metadata Storage</FieldLabel>\n        <div className=\"flex gap-3\">\n          {([\"on-chain\", \"ipfs\"] as const).map(opt => (\n            <button\n              key={opt}\n              type=\"button\"\n              onClick={() => updateForm({ metadataStorage: opt })}\n              className={cn(\n                \"flex-1 font-mono text-xs uppercase tracking-wider px-4 py-3 border transition-colors text-center\",\n                form.metadataStorage === opt\n                  ? \"border-foreground bg-foreground text-background\"\n                  : \"border-border text-muted-foreground hover:border-foreground/30\"\n              )}\n            >\n              {opt === 'on-chain' ? 'ON-CHAIN (PERMANENT)' : 'IPFS (UPDATEABLE)'}\n            </button>\n          ))}\n        </div>\n      </div>\n\n      <div>\n        <FieldLabel>Trust Models (optional)</FieldLabel>\n        <div className=\"flex flex-wrap gap-2\">\n          {TRUST_MODELS.map(tm => (\n            <button\n              key={tm.value}\n              type=\"button\"\n              onClick={() => toggleTrustModel(tm.value)}\n              className={cn(\n                \"font-mono text-[10px] uppercase tracking-wider px-3 py-1.5 border transition-colors\",\n                form.trustModels.includes(tm.value)\n                  ? \"border-foreground bg-foreground text-background\"\n                  : \"border-border text-muted-foreground hover:border-foreground/30\"\n              )}\n            >\n              {tm.name}\n            </button>\n          ))}\n        </div>\n      </div>\n\n      <div>\n        <FieldLabel>X402 Payment Support</FieldLabel>\n        <button\n          type=\"button\"\n          onClick={() => updateForm({ x402Payment: !form.x402Payment })}\n          className={cn(\n            \"font-mono text-xs uppercase tracking-wider px-4 py-2.5 border transition-colors\",\n            form.x402Payment\n              ? \"border-foreground bg-foreground text-background\"\n              : \"border-border text-muted-foreground\"\n          )}\n        >\n          {form.x402Payment ? 'ENABLED' : 'DISABLED'}\n        </button>\n      </div>\n\n      <div>\n        <FieldLabel>Activation Status</FieldLabel>\n        <div className=\"flex gap-3\">\n          {([\"active\", \"inactive\"] as const).map(opt => (\n            <button\n              key={opt}\n              type=\"button\"\n              onClick={() => updateForm({ activationStatus: opt })}\n              className={cn(\n                \"flex-1 font-mono text-xs uppercase tracking-wider px-4 py-2.5 border transition-colors text-center\",\n                form.activationStatus === opt\n                  ? \"border-foreground bg-foreground text-background\"\n                  : \"border-border text-muted-foreground hover:border-foreground/30\"\n              )}\n            >\n              {opt}\n            </button>\n          ))}\n        </div>\n      </div>\n\n      <div>\n        <FieldLabel>Hire Price (USDC, 0 = free)</FieldLabel>\n        <TextInput\n          value={form.hirePrice}\n          onChange={v => {\n            if (v === '' || /^\\d*\\.?\\d*$/.test(v)) updateForm({ hirePrice: v })\n          }}\n          placeholder=\"0\"\n        />\n      </div>\n    </div>\n  )\n}\n\n// ---- Step 4: Review ----\nfunction StepReview({ form, walletAddress }: { form: DeployFormData; walletAddress: string | null }) {\n  const allSkills = [...form.skills, ...form.customSkills.split(',').map(s => s.trim()).filter(Boolean)]\n  const allDomains = [...form.domains, ...form.customDomains.split(',').map(d => d.trim()).filter(Boolean)]\n  const hp = parseFloat(form.hirePrice || '0')\n  const networkNames = Object.values(CONTRACTS).map(c => c.name).join(', ')\n\n  return (\n    <div className=\"flex flex-col gap-5\">\n      <SectionHeader step=\"Step 05\" title=\"Review & Deploy\" />\n\n      {!walletAddress ? (\n        <div className=\"border border-warning-amber/40 bg-warning-amber/5 px-4 py-3\">\n          <span className=\"font-mono text-xs uppercase tracking-wider text-warning-amber\">\n            Connect wallet from navbar to proceed\n          </span>\n        </div>\n      ) : (\n        <div className=\"border border-system-green/40 bg-system-green/5 px-4 py-3 flex items-center gap-2\">\n          <span className=\"h-2 w-2 rounded-full bg-system-green\" />\n          <span className=\"font-mono text-xs uppercase tracking-wider text-system-green\">\n            Owner: {walletAddress}\n          </span>\n        </div>\n      )}\n\n      <div className=\"border border-border p-5 relative\">\n        <div className=\"absolute top-2 left-2 w-3 h-3 border-t border-l border-foreground/20\" />\n        <div className=\"absolute top-2 right-2 w-3 h-3 border-t border-r border-foreground/20\" />\n        <div className=\"absolute bottom-2 left-2 w-3 h-3 border-b border-l border-foreground/20\" />\n        <div className=\"absolute bottom-2 right-2 w-3 h-3 border-b border-r border-foreground/20\" />\n\n        <div className=\"space-y-2 text-sm font-mono\">\n          <Row label=\"NAME\" value={form.name} />\n          <Row label=\"URL\" value={form.url} />\n          {form.imageUrl && <Row label=\"IMAGE\" value={form.imageUrl} />}\n          <Row label=\"DESCRIPTION\" value={form.description} />\n          <Row label=\"VERSION\" value={form.version} />\n          {form.author && <Row label=\"AUTHOR\" value={form.author} />}\n          <Row label=\"LICENSE\" value={form.license} />\n          {form.mcpEndpoint && <Row label=\"MCP\" value={form.mcpEndpoint} />}\n          {form.a2aEndpoint && <Row label=\"A2A\" value={form.a2aEndpoint} />}\n          {allSkills.length > 0 && <Row label=\"SKILLS\" value={allSkills.join(', ')} />}\n          {allDomains.length > 0 && <Row label=\"DOMAINS\" value={allDomains.join(', ')} />}\n          <Row label=\"METADATA\" value={form.metadataStorage.toUpperCase()} />\n          {form.trustModels.length > 0 && <Row label=\"TRUST\" value={form.trustModels.join(', ')} />}\n          <Row label=\"X402\" value={form.x402Payment ? 'ENABLED' : 'DISABLED'} />\n          <Row label=\"STATUS\" value={form.activationStatus.toUpperCase()} />\n          <Row label=\"HIRE PRICE\" value={hp > 0 ? `$${hp.toFixed(2)} USDC` : 'FREE'} />\n        </div>\n      </div>\n\n      <div className=\"border border-border bg-muted/5 p-4\">\n        <div className=\"flex items-center justify-between\">\n          <span className=\"font-mono text-xs uppercase tracking-widest text-muted-foreground\">Cost</span>\n          <span className=\"font-mono text-lg font-bold text-system-green\">FREE</span>\n        </div>\n        <p className=\"font-mono text-[10px] text-muted-foreground/60 mt-2 uppercase tracking-wider\">\n          You will sign a message to prove ownership. All gas fees are covered by Facinet facilitators.\n          Agent will be registered on {NETWORK_COUNT} networks: {networkNames}.\n        </p>\n      </div>\n    </div>\n  )\n}\n\nfunction Row({ label, value }: { label: string; value: string }) {\n  return (\n    <div className=\"flex gap-3\">\n      <span className=\"text-[10px] uppercase tracking-widest text-muted-foreground/60 w-24 shrink-0 pt-0.5\">{label}</span>\n      <span className=\"text-xs text-foreground break-all\">{value}</span>\n    </div>\n  )\n}\n\n// ---- Step 5: Processing ----\ninterface ProcessingProps {\n  form: DeployFormData\n  walletAddress: string\n  signer: import(\"ethers\").JsonRpcSigner | null\n  setResult: (r: DeployResult) => void\n  setError: (e: string | null) => void\n  onComplete: () => void\n}\n\ninterface LogEntry {\n  message: string\n  status: 'pending' | 'running' | 'done' | 'error'\n}\n\n/** Parse agentId from a register() transaction receipt */\nasync function parseAgentIdFromTx(txHash: string, rpcUrl: string): Promise<string | null> {\n  const provider = new ethers.JsonRpcProvider(rpcUrl)\n  // Wait for the tx to be mined (may already be mined by the time we check)\n  const receipt = await provider.waitForTransaction(txHash, 1, 60000)\n  if (!receipt) return null\n\n  const iface = new ethers.Interface(IDENTITY_REGISTRY_ABI)\n  for (const log of receipt.logs) {\n    try {\n      const parsed = iface.parseLog({ topics: log.topics as string[], data: log.data })\n      if (parsed?.name === 'Registered') {\n        return parsed.args.agentId.toString()\n      }\n    } catch { /* not our event */ }\n  }\n  return null\n}\n\nfunction StepProcessing({ form, walletAddress, signer, setResult, setError, onComplete }: ProcessingProps) {\n  const [logs, setLogs] = useState<LogEntry[]>([])\n  const startedRef = useRef(false)\n\n  const addLog = useCallback((message: string, status: LogEntry['status'] = 'running') => {\n    setLogs(prev => [...prev, { message, status }])\n  }, [])\n\n  const updateLastLog = useCallback((status: LogEntry['status'], message?: string) => {\n    setLogs(prev => {\n      const next = [...prev]\n      if (next.length > 0) {\n        next[next.length - 1] = {\n          ...next[next.length - 1],\n          status,\n          ...(message ? { message } : {}),\n        }\n      }\n      return next\n    })\n  }, [])\n\n  useEffect(() => {\n    if (startedRef.current) return\n    startedRef.current = true\n    runDeploy()\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [])\n\n  async function runDeploy() {\n    const deployResult: DeployResult = {\n      agentWalletAddress: null,\n      circleWalletId: null,\n      networkResults: [],\n    }\n\n    try {\n      if (!signer) throw new Error('Wallet not connected')\n\n      // ---- 1. Sign ownership message ----\n      addLog('Requesting ownership signature...')\n      const timestamp = Math.floor(Date.now() / 1000)\n      const ownershipMessage = `I am registering agent \"${form.name}\" at ${form.url} as owner ${walletAddress} on 8004agent.network\\n\\nTimestamp: ${timestamp}`\n      await signer.signMessage(ownershipMessage)\n      updateLastLog('done', 'Ownership verified!')\n\n      // ---- 2. Create Circle Wallet ----\n      addLog('Creating Circle Agent Wallet...')\n      try {\n        const circleResult = await apiCreateCircleWallet('pending')\n        deployResult.agentWalletAddress = circleResult.address || null\n        deployResult.circleWalletId = circleResult.walletId || null\n        updateLastLog('done', `Wallet: ${circleResult.address?.slice(0, 10)}...`)\n      } catch (e: unknown) {\n        const msg = e instanceof Error ? e.message : String(e)\n        updateLastLog('error', `Wallet skipped: ${msg}`)\n      }\n\n      // ---- 3. Build skills/domains ----\n      const allSkills = [...form.skills, ...form.customSkills.split(',').map(s => s.trim()).filter(Boolean)]\n      const allDomains = [...form.domains, ...form.customDomains.split(',').map(d => d.trim()).filter(Boolean)]\n\n      // ---- 4. Register on all networks via Facinet ----\n      const networks = Object.keys(CONTRACTS)\n      for (const netKey of networks) {\n        const netConfig = CONTRACTS[netKey]\n\n        const netResult: NetworkResult = {\n          network: netConfig.name,\n          networkKey: netKey,\n          agentId: null,\n          registrationTx: null,\n          transferTx: null,\n          blockExplorer: netConfig.blockExplorer,\n        }\n\n        try {\n          const facConfig = { network: netConfig.facinetNetwork, chainId: netConfig.chainId }\n\n          // -- Select ONE facilitator for this network (used for all calls) --\n          addLog(`Selecting facilitator on ${netConfig.name}...`)\n          const facilitator = await selectFacilitator(facConfig)\n          updateLastLog('done', `${netConfig.name}: Using ${facilitator.name}`)\n\n          // -- Register via Facinet executeContract --\n          addLog(`Registering on ${netConfig.name} via Facinet...`)\n\n          const regResult = await facinetExecuteContract(facConfig, {\n            contractAddress: netConfig.identityRegistry as `0x${string}`,\n            functionName: 'register',\n            functionArgs: [form.url],\n            abi: IDENTITY_REGISTRY_ABI,\n          }, facilitator)\n\n          netResult.registrationTx = regResult.txHash\n          updateLastLog('done', `${netConfig.name}: Tx ${regResult.txHash.slice(0, 14)}...`)\n\n          // -- Parse agentId from transaction receipt --\n          addLog(`Parsing agent ID on ${netConfig.name}...`)\n          try {\n            const agentId = await parseAgentIdFromTx(regResult.txHash, netConfig.rpc)\n            netResult.agentId = agentId\n            if (agentId) {\n              updateLastLog('done', `${netConfig.name}: Agent #${agentId}`)\n            } else {\n              updateLastLog('done', `${netConfig.name}: Registered (ID pending)`)\n            }\n          } catch {\n            updateLastLog('done', `${netConfig.name}: Registered (ID will resolve)`)\n          }\n\n          // -- Transfer NFT to owner via Facinet --\n          if (netResult.agentId) {\n            addLog(`Transferring NFT #${netResult.agentId} to owner on ${netConfig.name}...`)\n            try {\n              const transferResult = await facinetExecuteContract(facConfig, {\n                contractAddress: netConfig.identityRegistry as `0x${string}`,\n                functionName: 'transferFrom',\n                functionArgs: [facilitator.wallet, walletAddress, netResult.agentId],\n                abi: IDENTITY_REGISTRY_ABI,\n              }, facilitator)\n              netResult.transferTx = transferResult.txHash\n              updateLastLog('done', `NFT transferred on ${netConfig.name}`)\n            } catch (e: unknown) {\n              const msg = e instanceof Error ? e.message : String(e)\n              updateLastLog('error', `NFT transfer pending: ${msg}`)\n            }\n          }\n\n          // -- Store in Upstash --\n          try {\n            await apiStoreAgent({\n              agentId: netResult.agentId || 'pending',\n              name: form.name,\n              url: form.url,\n              imageUrl: form.imageUrl || '',\n              description: form.description,\n              version: form.version,\n              author: form.author,\n              license: form.license,\n              mcpEndpoint: form.mcpEndpoint || '',\n              a2aEndpoint: form.a2aEndpoint || '',\n              skills: allSkills,\n              domains: allDomains,\n              metadataStorage: form.metadataStorage,\n              trustModels: form.trustModels,\n              x402Payment: form.x402Payment,\n              status: form.activationStatus,\n              hirePrice: form.hirePrice,\n              network: netKey,\n              ownerAddress: walletAddress,\n              registrationTx: netResult.registrationTx || '',\n              registeredAt: new Date().toISOString(),\n              agentWalletAddress: deployResult.agentWalletAddress || '',\n              circleWalletId: deployResult.circleWalletId || '',\n            })\n          } catch { /* non-fatal */ }\n\n        } catch (e: unknown) {\n          const msg = e instanceof Error ? e.message : String(e)\n          updateLastLog('error', `${netConfig.name} failed: ${msg}`)\n        }\n\n        deployResult.networkResults.push(netResult)\n      }\n\n      // ---- 5. Done ----\n      addLog('Registration complete!')\n      updateLastLog('done')\n      setResult(deployResult)\n      setTimeout(() => onComplete(), 1500)\n    } catch (e: unknown) {\n      const msg = e instanceof Error ? e.message : String(e)\n      updateLastLog('error', msg)\n      setError(msg)\n      setResult(deployResult)\n      setTimeout(() => onComplete(), 2000)\n    }\n  }\n\n  return (\n    <div className=\"flex flex-col gap-4\">\n      <SectionHeader step=\"Step 06\" title=\"Deploying...\" />\n\n      <div className=\"border border-border p-5 relative min-h-[300px]\">\n        <div className=\"absolute top-2 left-2 w-3 h-3 border-t border-l border-foreground/20\" />\n        <div className=\"absolute top-2 right-2 w-3 h-3 border-t border-r border-foreground/20\" />\n        <div className=\"absolute bottom-2 left-2 w-3 h-3 border-b border-l border-foreground/20\" />\n        <div className=\"absolute bottom-2 right-2 w-3 h-3 border-b border-r border-foreground/20\" />\n\n        <div className=\"space-y-2 font-mono text-xs\">\n          {logs.map((log, i) => (\n            <div key={i} className=\"flex items-start gap-3\">\n              <span className={cn(\n                \"shrink-0 mt-0.5\",\n                log.status === 'running' && \"text-info-blue animate-pulse\",\n                log.status === 'done' && \"text-system-green\",\n                log.status === 'error' && \"text-error-red\",\n                log.status === 'pending' && \"text-muted-foreground/40\",\n              )}>\n                {log.status === 'running' ? '>' : log.status === 'done' ? '+' : log.status === 'error' ? 'x' : '-'}\n              </span>\n              <span className={cn(\n                \"break-all\",\n                log.status === 'error' && \"text-error-red\",\n                log.status === 'done' && \"text-foreground/80\",\n                log.status === 'running' && \"text-foreground\",\n                log.status === 'pending' && \"text-muted-foreground/40\",\n              )}>\n                {log.message}\n              </span>\n            </div>\n          ))}\n          {logs.length > 0 && logs[logs.length - 1].status === 'running' && (\n            <span className=\"text-muted-foreground/40 animate-pulse\">_</span>\n          )}\n        </div>\n      </div>\n    </div>\n  )\n}\n\n// ---- Step 6: Success ----\nfunction StepSuccess({ result, error, form }: { result: DeployResult | null; error: string | null; form: DeployFormData }) {\n  if (!result) return null\n\n  const hasSuccess = result.networkResults.some(r => r.registrationTx !== null)\n\n  return (\n    <div className=\"flex flex-col gap-6\">\n      <div className=\"text-center\">\n        <h2 className=\"font-mono text-3xl md:text-4xl font-bold tracking-tight uppercase text-foreground\">\n          {hasSuccess ? 'DEPLOYMENT COMPLETE' : 'DEPLOYMENT FAILED'}\n        </h2>\n        {error && !hasSuccess && (\n          <p className=\"font-mono text-xs text-error-red mt-2 uppercase tracking-wider\">{error}</p>\n        )}\n      </div>\n\n      {hasSuccess && (\n        <div className=\"border border-border p-5 relative\">\n          <div className=\"absolute top-2 left-2 w-3 h-3 border-t border-l border-foreground/20\" />\n          <div className=\"absolute top-2 right-2 w-3 h-3 border-t border-r border-foreground/20\" />\n          <div className=\"absolute bottom-2 left-2 w-3 h-3 border-b border-l border-foreground/20\" />\n          <div className=\"absolute bottom-2 right-2 w-3 h-3 border-b border-r border-foreground/20\" />\n\n          <div className=\"space-y-2 font-mono text-sm\">\n            <Row label=\"NAME\" value={form.name} />\n            <Row label=\"URL\" value={form.url} />\n            {result.agentWalletAddress && <Row label=\"WALLET\" value={result.agentWalletAddress} />}\n            {result.circleWalletId && <Row label=\"CIRCLE ID\" value={result.circleWalletId} />}\n          </div>\n        </div>\n      )}\n\n      <div className=\"space-y-3\">\n        {result.networkResults.map((nr, i) => (\n          <div key={i} className=\"border border-border p-4\">\n            <div className=\"flex items-center gap-2 mb-2\">\n              <span className={cn(\n                \"h-2 w-2 rounded-full\",\n                nr.registrationTx ? \"bg-system-green\" : \"bg-error-red\"\n              )} />\n              <span className=\"font-mono text-xs font-bold uppercase tracking-widest text-foreground\">\n                {nr.network}\n              </span>\n            </div>\n            <div className=\"space-y-1 font-mono text-xs\">\n              <div className=\"flex gap-2\">\n                <span className=\"text-muted-foreground/60 w-20 shrink-0\">AGENT ID</span>\n                <span className=\"text-foreground\">{nr.agentId || 'Pending'}</span>\n              </div>\n              {nr.registrationTx && (\n                <div className=\"flex gap-2\">\n                  <span className=\"text-muted-foreground/60 w-20 shrink-0\">REG TX</span>\n                  <a\n                    href={`${nr.blockExplorer}/tx/${nr.registrationTx}`}\n                    target=\"_blank\"\n                    rel=\"noopener noreferrer\"\n                    className=\"text-info-blue hover:underline break-all\"\n                  >\n                    {nr.registrationTx}\n                  </a>\n                </div>\n              )}\n              {nr.transferTx && (\n                <div className=\"flex gap-2\">\n                  <span className=\"text-muted-foreground/60 w-20 shrink-0\">XFER TX</span>\n                  <a\n                    href={`${nr.blockExplorer}/tx/${nr.transferTx}`}\n                    target=\"_blank\"\n                    rel=\"noopener noreferrer\"\n                    className=\"text-info-blue hover:underline break-all\"\n                  >\n                    {nr.transferTx}\n                  </a>\n                </div>\n              )}\n            </div>\n          </div>\n        ))}\n      </div>\n\n      {result.agentWalletAddress && (\n        <div className=\"border border-border bg-muted/5 p-4\">\n          <span className=\"font-mono text-[10px] uppercase tracking-widest text-muted-foreground/60 block mb-2\">\n            Agent Wallet (Circle Managed)\n          </span>\n          <p className=\"font-mono text-xs text-muted-foreground\">\n            This wallet works on all EVM networks. Private key is securely managed by Circle.\n            Hire payments will be sent to this address.\n          </p>\n        </div>\n      )}\n\n      <div className=\"flex justify-center pt-4\">\n        <button\n          onClick={() => window.location.reload()}\n          className=\"font-mono text-xs uppercase tracking-widest bg-foreground text-background px-8 py-3 hover:opacity-90 transition-opacity\"\n        >\n          DEPLOY ANOTHER AGENT\n        </button>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}