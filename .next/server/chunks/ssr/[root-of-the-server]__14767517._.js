module.exports=[75607,93074,50942,49664,a=>{"use strict";let b="6.16.0";async function c(a){let b=Object.keys(a);return(await Promise.all(b.map(b=>Promise.resolve(a[b])))).reduce((a,c,d)=>(a[b[d]]=c,a),{})}function d(a,b,c){for(let d in b){let e=b[d],f=c?c[d]:null;f&&function(a,b,c){let d=b.split("|").map(a=>a.trim());for(let c=0;c<d.length;c++)switch(b){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof a===b)return}let e=Error(`invalid value for type ${b}`);throw e.code="INVALID_ARGUMENT",e.argument=`value.${c}`,e.value=a,e}(e,f,d),Object.defineProperty(a,d,{enumerable:!0,value:e,writable:!1})}}function e(a,b){if(null==a)return"null";if(null==b&&(b=new Set),"object"==typeof a){if(b.has(a))return"[Circular]";b.add(a)}if(Array.isArray(a))return"[ "+a.map(a=>e(a,b)).join(", ")+" ]";if(a instanceof Uint8Array){let b="0123456789abcdef",c="0x";for(let d=0;d<a.length;d++)c+=b[a[d]>>4],c+=b[15&a[d]];return c}if("object"==typeof a&&"function"==typeof a.toJSON)return e(a.toJSON(),b);switch(typeof a){case"boolean":case"number":case"symbol":return a.toString();case"bigint":return BigInt(a).toString();case"string":return JSON.stringify(a);case"object":{let c=Object.keys(a);return c.sort(),"{ "+c.map(c=>`${e(c,b)}: ${e(a[c],b)}`).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function f(a,b){return a&&a.code===b}function g(a){return f(a,"CALL_EXCEPTION")}function h(a,c,f){let g,h=a;{let d=[];if(f){if("message"in f||"code"in f||"name"in f)throw Error(`value will overwrite populated values: ${e(f)}`);for(let a in f){if("shortMessage"===a)continue;let b=f[a];d.push(a+"="+e(b))}}d.push(`code=${c}`),d.push(`version=${b}`),d.length&&(a+=" ("+d.join(", ")+")")}switch(c){case"INVALID_ARGUMENT":g=TypeError(a);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":g=RangeError(a);break;default:g=Error(a)}return d(g,{code:c}),f&&Object.assign(g,f),null==g.shortMessage&&d(g,{shortMessage:h}),g}function i(a,b,c,d){if(!a)throw h(b,c,d)}function j(a,b,c,d){i(a,b,"INVALID_ARGUMENT",{argument:c,value:d})}function k(a,b,c){null==c&&(c=""),c&&(c=": "+c),i(a>=b,"missing argument"+c,"MISSING_ARGUMENT",{count:a,expectedCount:b}),i(a<=b,"too many arguments"+c,"UNEXPECTED_ARGUMENT",{count:a,expectedCount:b})}a.s(["version",0,b],93074),a.s(["defineProperties",()=>d,"resolveProperties",()=>c],50942);let l=["NFD","NFC","NFKD","NFKC"].reduce((a,b)=>{try{if("test"!=="test".normalize(b))throw Error("bad");if("NFD"===b){let a=String.fromCharCode(233).normalize("NFD"),b=String.fromCharCode(101,769);if(a!==b)throw Error("broken")}a.push(b)}catch(a){}return a},[]);function m(a){i(l.indexOf(a)>=0,"platform missing String.prototype.normalize","UNSUPPORTED_OPERATION",{operation:"String.prototype.normalize",info:{form:a}})}function n(a,b,c){if(null==c&&(c=""),a!==b){let a=c,b="new";c&&(a+=".",b+=" "+c),i(!1,`private constructor; use ${a}from* methods`,"UNSUPPORTED_OPERATION",{operation:b})}}function o(a,b,c){if(a instanceof Uint8Array)return c?new Uint8Array(a):a;if("string"==typeof a&&a.length%2==0&&a.match(/^0x[0-9a-f]*$/i)){let b=new Uint8Array((a.length-2)/2),c=2;for(let d=0;d<b.length;d++)b[d]=parseInt(a.substring(c,c+2),16),c+=2;return b}j(!1,"invalid BytesLike value",b||"value",a)}function p(a,b){return o(a,b,!1)}function q(a,b){return o(a,b,!0)}function r(a,b){return"string"==typeof a&&!!a.match(/^0x[0-9A-Fa-f]*$/)&&("number"!=typeof b||a.length===2+2*b)&&(!0!==b||a.length%2==0)}function s(a){return r(a,!0)||a instanceof Uint8Array}a.s(["assert",()=>i,"assertArgument",()=>j,"assertArgumentCount",()=>k,"assertNormalize",()=>m,"assertPrivate",()=>n,"isCallException",()=>g,"isError",()=>f,"makeError",()=>h],49664);let t="0123456789abcdef";function u(a){let b=p(a),c="0x";for(let a=0;a<b.length;a++){let d=b[a];c+=t[(240&d)>>4]+t[15&d]}return c}function v(a){return"0x"+a.map(a=>u(a).substring(2)).join("")}function w(a){return r(a,!0)?(a.length-2)/2:p(a).length}function x(a,b,c){let d=p(a);return null!=c&&c>d.length&&i(!1,"cannot slice beyond data bounds","BUFFER_OVERRUN",{buffer:d,length:d.length,offset:c}),u(d.slice(null==b?0:b,null==c?d.length:c))}function y(a){let b=u(a).substring(2);for(;b.startsWith("00");)b=b.substring(2);return"0x"+b}function z(a,b,c){let d=p(a);i(b>=d.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(d),length:b,offset:b+1});let e=new Uint8Array(b);return e.fill(0),c?e.set(d,b-d.length):e.set(d,0),u(e)}function A(a,b){return z(a,b,!0)}function B(a,b){return z(a,b,!1)}a.s(["concat",()=>v,"dataLength",()=>w,"dataSlice",()=>x,"getBytes",()=>p,"getBytesCopy",()=>q,"hexlify",()=>u,"isBytesLike",()=>s,"isHexString",()=>r,"stripZerosLeft",()=>y,"zeroPadBytes",()=>B,"zeroPadValue",()=>A],75607)},66680,(a,b,c)=>{b.exports=a.x("node:crypto",()=>require("node:crypto"))},86197,51534,56415,77832,99374,24495,6922,18086,17290,36286,74252,12751,51350,54651,a=>{"use strict";var b=a.i(50942),c=a.i(75607),d=a.i(49664);let e=BigInt(0),f=BigInt(1);function g(a,b){let c=k(a,"value"),g=BigInt(n(b,"width"));return((0,d.assert)(c>>g===e,"overflow","NUMERIC_FAULT",{operation:"fromTwos",fault:"overflow",value:a}),c>>g-f)?-((~c&(f<<g)-f)+f):c}function h(a,b){let c=j(a,"value"),g=BigInt(n(b,"width")),h=f<<g-f;return c<e?(c=-c,(0,d.assert)(c<=h,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:a}),(~c&(f<<g)-f)+f):((0,d.assert)(c<h,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:a}),c)}function i(a,b){return k(a,"value")&(f<<BigInt(n(b,"bits")))-f}function j(a,b){switch(typeof a){case"bigint":return a;case"number":return(0,d.assertArgument)(Number.isInteger(a),"underflow",b||"value",a),(0,d.assertArgument)(a>=-0x1fffffffffffff&&a<=0x1fffffffffffff,"overflow",b||"value",a),BigInt(a);case"string":try{if(""===a)throw Error("empty string");if("-"===a[0]&&"-"!==a[1])return-BigInt(a.substring(1));return BigInt(a)}catch(c){(0,d.assertArgument)(!1,`invalid BigNumberish string: ${c.message}`,b||"value",a)}}(0,d.assertArgument)(!1,"invalid BigNumberish value",b||"value",a)}function k(a,b){let c=j(a,b);return(0,d.assert)(c>=e,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:a}),c}let l="0123456789abcdef";function m(a){if(a instanceof Uint8Array){let b="0x0";for(let c of a)b+=l[c>>4],b+=l[15&c];return BigInt(b)}return j(a)}function n(a,b){switch(typeof a){case"bigint":return(0,d.assertArgument)(a>=-0x1fffffffffffff&&a<=0x1fffffffffffff,"overflow",b||"value",a),Number(a);case"number":return(0,d.assertArgument)(Number.isInteger(a),"underflow",b||"value",a),(0,d.assertArgument)(a>=-0x1fffffffffffff&&a<=0x1fffffffffffff,"overflow",b||"value",a),a;case"string":try{if(""===a)throw Error("empty string");return n(BigInt(a),b)}catch(c){(0,d.assertArgument)(!1,`invalid numeric string: ${c.message}`,b||"value",a)}}(0,d.assertArgument)(!1,"invalid numeric value",b||"value",a)}function o(a){return n(m(a))}function p(a,b){let c=k(a,"value"),f=c.toString(16);if(null==b)f.length%2&&(f="0"+f);else{let g=n(b,"width");if(0===g&&c===e)return"0x";for((0,d.assert)(2*g>=f.length,`value exceeds width (${g} bytes)`,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:a});f.length<2*g;)f="0"+f}return"0x"+f}function q(a,b){let c=k(a,"value");if(c===e)return new Uint8Array(null!=b?n(b,"width"):0);let f=c.toString(16);if(f.length%2&&(f="0"+f),null!=b){let c=n(b,"width");for(;f.length<2*c;)f="00"+f;(0,d.assert)(2*c===f.length,`value exceeds width (${c} bytes)`,"NUMERIC_FAULT",{operation:"toBeArray",fault:"overflow",value:a})}let g=new Uint8Array(f.length/2);for(let a=0;a<g.length;a++){let b=2*a;g[a]=parseInt(f.substring(b,b+2),16)}return g}function r(a){let b=(0,c.hexlify)((0,c.isBytesLike)(a)?a:q(a)).substring(2);for(;b.startsWith("0");)b=b.substring(1);return""===b&&(b="0"),"0x"+b}a.s(["fromTwos",()=>g,"getBigInt",()=>j,"getNumber",()=>n,"getUint",()=>k,"mask",()=>i,"toBeArray",()=>q,"toBeHex",()=>p,"toBigInt",()=>m,"toNumber",()=>o,"toQuantity",()=>r,"toTwos",()=>h],51534);let s=new Uint8Array(32),t=["then"],u={},v=new WeakMap;function w(a){return v.get(a)}function x(a,b){let c=Error(`deferred error during ABI decoding triggered accessing ${a}`);throw c.error=b,c}class y extends Array{#a;constructor(...a){const b=a[0];let c=a[1],d=(a[2]||[]).slice(),e=!0;b!==u&&(c=a,d=[],e=!1),super(c.length),c.forEach((a,b)=>{this[b]=a});const f=d.reduce((a,b)=>("string"==typeof b&&a.set(b,(a.get(b)||0)+1),a),new Map);if(!function(a,b){v.set(a,b)}(this,Object.freeze(c.map((a,b)=>{let c=d[b];return null!=c&&1===f.get(c)?c:null}))),this.#a=[],null==this.#a&&this.#a,!e)return;Object.freeze(this);const g=new Proxy(this,{get:(a,b,c)=>{if("string"==typeof b){if(b.match(/^[0-9]+$/)){let c=n(b,"%index");if(c<0||c>=this.length)throw RangeError("out of result range");let d=a[c];return d instanceof Error&&x(`index ${c}`,d),d}if(t.indexOf(b)>=0)return Reflect.get(a,b,c);let d=a[b];if(d instanceof Function)return function(...b){return d.apply(this===c?a:this,b)};if(!(b in a))return a.getValue.apply(this===c?a:this,[b])}return Reflect.get(a,b,c)}});return!function(a,b){v.set(a,b)}(g,w(this)),g}toArray(a){let b=[];return this.forEach((c,d)=>{c instanceof Error&&x(`index ${d}`,c),a&&c instanceof y&&(c=c.toArray(a)),b.push(c)}),b}toObject(a){let b=w(this);return b.reduce((c,e,f)=>((0,d.assert)(null!=e,`value at index ${f} unnamed`,"UNSUPPORTED_OPERATION",{operation:"toObject()"}),function a(b,c,d){return b.indexOf(null)>=0?c.map((b,c)=>b instanceof y?a(w(b),b,d):b):b.reduce((b,e,f)=>{let g=c.getValue(e);return e in b||(d&&g instanceof y&&(g=a(w(g),g,d)),b[e]=g),b},{})}(b,this,a)),{})}slice(a,b){null==a&&(a=0),a<0&&(a+=this.length)<0&&(a=0),null==b&&(b=this.length),b<0&&(b+=this.length)<0&&(b=0),b>this.length&&(b=this.length);let c=w(this),d=[],e=[];for(let f=a;f<b;f++)d.push(this[f]),e.push(c[f]);return new y(u,d,e)}filter(a,b){let c=w(this),d=[],e=[];for(let f=0;f<this.length;f++){let g=this[f];g instanceof Error&&x(`index ${f}`,g),a.call(b,g,f,this)&&(d.push(g),e.push(c[f]))}return new y(u,d,e)}map(a,b){let c=[];for(let d=0;d<this.length;d++){let e=this[d];e instanceof Error&&x(`index ${d}`,e),c.push(a.call(b,e,d,this))}return c}getValue(a){let b=w(this).indexOf(a);if(-1===b)return;let c=this[b];return c instanceof Error&&x(`property ${JSON.stringify(a)}`,c.error),c}static fromItems(a,b){return new y(u,a,b)}}function z(a){let b=[],c=function(a,d){if(Array.isArray(d))for(let e in d){let f=a.slice();f.push(e);try{c(f,d[e])}catch(a){b.push({path:f,error:a})}}};return c([],a),b}function A(a){let b=q(a);return(0,d.assert)(b.length<=32,"value out-of-bounds","BUFFER_OVERRUN",{buffer:b,length:32,offset:b.length}),32!==b.length&&(b=(0,c.getBytesCopy)((0,c.concat)([s.slice(b.length%32),b]))),b}class B{name;type;localName;dynamic;constructor(a,c,d,e){(0,b.defineProperties)(this,{name:a,type:c,localName:d,dynamic:e},{name:"string",type:"string",localName:"string",dynamic:"boolean"})}_throwError(a,b){(0,d.assertArgument)(!1,a,this.localName,b)}}class C{#b;#c;constructor(){this.#b=[],this.#c=0}get data(){return(0,c.concat)(this.#b)}get length(){return this.#c}#d(a){return this.#b.push(a),this.#c+=a.length,a.length}appendWriter(a){return this.#d((0,c.getBytesCopy)(a.data))}writeBytes(a){let b=(0,c.getBytesCopy)(a),d=b.length%32;return d&&(b=(0,c.getBytesCopy)((0,c.concat)([b,s.slice(d)]))),this.#d(b)}writeValue(a){return this.#d(A(a))}writeUpdatableValue(){let a=this.#b.length;return this.#b.push(s),this.#c+=32,b=>{this.#b[a]=A(b)}}}class D{allowLoose;#b;#e;#f;#g;#h;constructor(a,d,e){(0,b.defineProperties)(this,{allowLoose:!!d}),this.#b=(0,c.getBytesCopy)(a),this.#f=0,this.#g=null,this.#h=null!=e?e:1024,this.#e=0}get data(){return(0,c.hexlify)(this.#b)}get dataLength(){return this.#b.length}get consumed(){return this.#e}get bytes(){return new Uint8Array(this.#b)}#i(a){if(this.#g)return this.#g.#i(a);this.#f+=a,(0,d.assert)(this.#h<1||this.#f<=this.#h*this.dataLength,`compressed ABI data exceeds inflation ratio of ${this.#h} ( see: https://github.com/ethers-io/ethers.js/issues/4537 )`,"BUFFER_OVERRUN",{buffer:(0,c.getBytesCopy)(this.#b),offset:this.#e,length:a,info:{bytesRead:this.#f,dataLength:this.dataLength}})}#j(a,b,e){let f=32*Math.ceil(b/32);return this.#e+f>this.#b.length&&(this.allowLoose&&e&&this.#e+b<=this.#b.length?f=b:(0,d.assert)(!1,"data out-of-bounds","BUFFER_OVERRUN",{buffer:(0,c.getBytesCopy)(this.#b),length:this.#b.length,offset:this.#e+f})),this.#b.slice(this.#e,this.#e+f)}subReader(a){let b=new D(this.#b.slice(this.#e+a),this.allowLoose,this.#h);return b.#g=this,b}readBytes(a,b){let c=this.#j(0,a,!!b);return this.#i(a),this.#e+=c.length,c.slice(0,a)}readValue(){return m(this.readBytes(32))}readIndex(){return o(this.readBytes(32))}}function E(a){if(!Number.isSafeInteger(a)||a<0)throw Error(`Wrong positive integer: ${a}`)}function F(a,...b){if(!(a instanceof Uint8Array))throw Error("Expected Uint8Array");if(b.length>0&&!b.includes(a.length))throw Error(`Expected Uint8Array of length ${b}, not of length=${a.length}`)}function G(a){if("function"!=typeof a||"function"!=typeof a.create)throw Error("Hash should be wrapped by utils.wrapConstructor");E(a.outputLen),E(a.blockLen)}function H(a,b=!0){if(a.destroyed)throw Error("Hash instance has been destroyed");if(b&&a.finished)throw Error("Hash#digest() has already been called")}function I(a,b){F(a);let c=b.outputLen;if(a.length<c)throw Error(`digestInto() expects output buffer of length at least ${c}`)}a.s(["Coder",()=>B,"Reader",()=>D,"Result",()=>y,"WordSize",0,32,"Writer",()=>C,"checkResultErrors",()=>z],86197),a.s(["bytes",()=>F,"exists",()=>H,"hash",()=>G,"number",()=>E,"output",()=>I],56415);let J=BigInt(0x100000000-1),K=BigInt(32);var L=a.i(66680);let M=L&&"object"==typeof L&&"webcrypto"in L?L.webcrypto:void 0,N=a=>new Uint32Array(a.buffer,a.byteOffset,Math.floor(a.byteLength/4));if(68!==new Uint8Array(new Uint32Array([0x11223344]).buffer)[0])throw Error("Non little-endian hardware is not supported");let O=async()=>{};async function P(a,b,c){let d=Date.now();for(let e=0;e<a;e++){c(e);let a=Date.now()-d;a>=0&&a<b||(await O(),d+=a)}}function Q(a){if("string"==typeof a&&(a=function(a){if("string"!=typeof a)throw Error(`utf8ToBytes expected string, got ${typeof a}`);return new Uint8Array(new TextEncoder().encode(a))}(a)),!(a instanceof Uint8Array))throw Error(`expected Uint8Array, got ${typeof a}`);return a}function R(...a){let b=new Uint8Array(a.reduce((a,b)=>a+b.length,0)),c=0;return a.forEach(a=>{if(!(a instanceof Uint8Array))throw Error("Uint8Array expected");b.set(a,c),c+=a.length}),b}class S{clone(){return this._cloneInto()}}let T={}.toString;function U(a,b){if(void 0!==b&&"[object Object]"!==T.call(b))throw Error("Options should be object or undefined");return Object.assign(a,b)}function V(a){let b=b=>a().update(Q(b)).digest(),c=a();return b.outputLen=c.outputLen,b.blockLen=c.blockLen,b.create=()=>a(),b}function W(a){let b=(b,c)=>a(c).update(Q(b)).digest(),c=a({});return b.outputLen=c.outputLen,b.blockLen=c.blockLen,b.create=b=>a(b),b}function X(a=32){if(M&&"function"==typeof M.getRandomValues)return M.getRandomValues(new Uint8Array(a));throw Error("crypto.getRandomValues must be defined")}a.s(["Hash",()=>S,"asyncLoop",()=>P,"checkOpts",()=>U,"concatBytes",()=>R,"createView",0,a=>new DataView(a.buffer,a.byteOffset,a.byteLength),"randomBytes",()=>X,"rotr",0,(a,b)=>a<<32-b|a>>>b,"toBytes",()=>Q,"u32",0,N,"wrapConstructor",()=>V,"wrapXOFConstructorWithOpts",()=>W],77832);let[Y,Z,$]=[[],[],[]],_=BigInt(0),aa=BigInt(1),ab=BigInt(2),ac=BigInt(7),ad=BigInt(256),ae=BigInt(113);for(let a=0,b=aa,c=1,d=0;a<24;a++){[c,d]=[d,(2*c+3*d)%5],Y.push(2*(5*d+c)),Z.push((a+1)*(a+2)/2%64);let e=_;for(let a=0;a<7;a++)(b=(b<<aa^(b>>ac)*ae)%ad)&ab&&(e^=aa<<(aa<<BigInt(a))-aa);$.push(e)}let[af,ag]=function(a,b=!1){let c=new Uint32Array(a.length),d=new Uint32Array(a.length);for(let e=0;e<a.length;e++){let{h:f,l:g}=function(a,b=!1){return b?{h:Number(a&J),l:Number(a>>K&J)}:{h:0|Number(a>>K&J),l:0|Number(a&J)}}(a[e],b);[c[e],d[e]]=[f,g]}return[c,d]}($,!0),ah=(a,b,c)=>c>32?b<<c-32|a>>>64-c:a<<c|b>>>32-c,ai=(a,b,c)=>c>32?a<<c-32|b>>>64-c:b<<c|a>>>32-c;class aj extends S{constructor(a,b,c,d=!1,e=24){if(super(),this.blockLen=a,this.suffix=b,this.outputLen=c,this.enableXOF=d,this.rounds=e,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,E(c),0>=this.blockLen||this.blockLen>=200)throw Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=N(this.state)}keccak(){!function(a,b=24){let c=new Uint32Array(10);for(let d=24-b;d<24;d++){for(let b=0;b<10;b++)c[b]=a[b]^a[b+10]^a[b+20]^a[b+30]^a[b+40];for(let b=0;b<10;b+=2){let d=(b+8)%10,e=(b+2)%10,f=c[e],g=c[e+1],h=ah(f,g,1)^c[d],i=ai(f,g,1)^c[d+1];for(let c=0;c<50;c+=10)a[b+c]^=h,a[b+c+1]^=i}let b=a[2],e=a[3];for(let c=0;c<24;c++){let d=Z[c],f=ah(b,e,d),g=ai(b,e,d),h=Y[c];b=a[h],e=a[h+1],a[h]=f,a[h+1]=g}for(let b=0;b<50;b+=10){for(let d=0;d<10;d++)c[d]=a[b+d];for(let d=0;d<10;d++)a[b+d]^=~c[(d+2)%10]&c[(d+4)%10]}a[0]^=af[d],a[1]^=ag[d]}c.fill(0)}(this.state32,this.rounds),this.posOut=0,this.pos=0}update(a){H(this);let{blockLen:b,state:c}=this,d=(a=Q(a)).length;for(let e=0;e<d;){let f=Math.min(b-this.pos,d-e);for(let b=0;b<f;b++)c[this.pos++]^=a[e++];this.pos===b&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:a,suffix:b,pos:c,blockLen:d}=this;a[c]^=b,(128&b)!=0&&c===d-1&&this.keccak(),a[d-1]^=128,this.keccak()}writeInto(a){H(this,!1),F(a),this.finish();let b=this.state,{blockLen:c}=this;for(let d=0,e=a.length;d<e;){this.posOut>=c&&this.keccak();let f=Math.min(c-this.posOut,e-d);a.set(b.subarray(this.posOut,this.posOut+f),d),this.posOut+=f,d+=f}return a}xofInto(a){if(!this.enableXOF)throw Error("XOF is not possible for this instance");return this.writeInto(a)}xof(a){return E(a),this.xofInto(new Uint8Array(a))}digestInto(a){if(I(a,this),this.finished)throw Error("digest() was already called");return this.writeInto(a),this.destroy(),a}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(a){let{blockLen:b,suffix:c,outputLen:d,rounds:e,enableXOF:f}=this;return a||(a=new aj(b,c,d,f,e)),a.state32.set(this.state32),a.pos=this.pos,a.posOut=this.posOut,a.finished=this.finished,a.rounds=e,a.suffix=c,a.outputLen=d,a.enableXOF=f,a.destroyed=this.destroyed,a}}let ak=V(()=>new aj(136,1,32)),al=!1,am=function(a){return ak(a)},an=am;function ao(a){let b=(0,c.getBytes)(a,"data");return(0,c.hexlify)(an(b))}ao._=am,ao.lock=function(){al=!0},ao.register=function(a){if(al)throw TypeError("keccak256 is locked");an=a},Object.freeze(ao),a.s(["keccak256",()=>ao],99374);let ap=BigInt(0),aq=BigInt(36);function ar(a){let b=(a=a.toLowerCase()).substring(2).split(""),d=new Uint8Array(40);for(let a=0;a<40;a++)d[a]=b[a].charCodeAt(0);let e=(0,c.getBytes)(ao(d));for(let a=0;a<40;a+=2)e[a>>1]>>4>=8&&(b[a]=b[a].toUpperCase()),(15&e[a>>1])>=8&&(b[a+1]=b[a+1].toUpperCase());return"0x"+b.join("")}let as={};for(let a=0;a<10;a++)as[String(a)]=String(a);for(let a=0;a<26;a++)as[String.fromCharCode(65+a)]=String(10+a);function at(a){let b=(a=(a=a.toUpperCase()).substring(4)+a.substring(0,2)+"00").split("").map(a=>as[a]).join("");for(;b.length>=15;){let a=b.substring(0,15);b=parseInt(a,10)%97+b.substring(a.length)}let c=String(98-parseInt(b,10)%97);for(;c.length<2;)c="0"+c;return c}let au=function(){let a={};for(let b=0;b<36;b++)a["0123456789abcdefghijklmnopqrstuvwxyz"[b]]=BigInt(b);return a}();function av(a){if((0,d.assertArgument)("string"==typeof a,"invalid address","address",a),a.match(/^(0x)?[0-9a-fA-F]{40}$/)){a.startsWith("0x")||(a="0x"+a);let b=ar(a);return(0,d.assertArgument)(!a.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||b===a,"bad address checksum","address",a),b}if(a.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){(0,d.assertArgument)(a.substring(2,4)===at(a),"bad icap checksum","address",a);let b=(function(a){a=a.toLowerCase();let b=ap;for(let c=0;c<a.length;c++)b=b*aq+au[a[c]];return b})(a.substring(4)).toString(16);for(;b.length<40;)b="0"+b;return ar("0x"+b)}(0,d.assertArgument)(!1,"invalid address","address",a)}function aw(a){let b=BigInt(av(a)).toString(36).toUpperCase();for(;b.length<30;)b="0"+b;return"XE"+at("XE00"+b)+b}a.s(["getAddress",()=>av,"getIcapAddress",()=>aw],24495);let ax={};function ay(a,b){let c=!1;return b<0&&(c=!0,b*=-1),new aB(ax,`${c?"":"u"}int${b}`,a,{signed:c,width:b})}function az(a,b){return new aB(ax,`bytes${b||""}`,a,{size:b})}let aA=Symbol.for("_ethers_typed");class aB{type;value;#k;_typedSymbol;constructor(a,c,e,f){null==f&&(f=null),(0,d.assertPrivate)(ax,a,"Typed"),(0,b.defineProperties)(this,{_typedSymbol:aA,type:c,value:e}),this.#k=f,this.format()}format(){if("array"===this.type||"dynamicArray"===this.type)throw Error("");return"tuple"===this.type?`tuple(${this.value.map(a=>a.format()).join(",")})`:this.type}defaultValue(){return 0}minValue(){return 0}maxValue(){return 0}isBigInt(){return!!this.type.match(/^u?int[0-9]+$/)}isData(){return this.type.startsWith("bytes")}isString(){return"string"===this.type}get tupleName(){if("tuple"!==this.type)throw TypeError("not a tuple");return this.#k}get arrayLength(){if("array"!==this.type)throw TypeError("not an array");return!0===this.#k?-1:!1===this.#k?this.value.length:null}static from(a,b){return new aB(ax,a,b)}static uint8(a){return ay(a,8)}static uint16(a){return ay(a,16)}static uint24(a){return ay(a,24)}static uint32(a){return ay(a,32)}static uint40(a){return ay(a,40)}static uint48(a){return ay(a,48)}static uint56(a){return ay(a,56)}static uint64(a){return ay(a,64)}static uint72(a){return ay(a,72)}static uint80(a){return ay(a,80)}static uint88(a){return ay(a,88)}static uint96(a){return ay(a,96)}static uint104(a){return ay(a,104)}static uint112(a){return ay(a,112)}static uint120(a){return ay(a,120)}static uint128(a){return ay(a,128)}static uint136(a){return ay(a,136)}static uint144(a){return ay(a,144)}static uint152(a){return ay(a,152)}static uint160(a){return ay(a,160)}static uint168(a){return ay(a,168)}static uint176(a){return ay(a,176)}static uint184(a){return ay(a,184)}static uint192(a){return ay(a,192)}static uint200(a){return ay(a,200)}static uint208(a){return ay(a,208)}static uint216(a){return ay(a,216)}static uint224(a){return ay(a,224)}static uint232(a){return ay(a,232)}static uint240(a){return ay(a,240)}static uint248(a){return ay(a,248)}static uint256(a){return ay(a,256)}static uint(a){return ay(a,256)}static int8(a){return ay(a,-8)}static int16(a){return ay(a,-16)}static int24(a){return ay(a,-24)}static int32(a){return ay(a,-32)}static int40(a){return ay(a,-40)}static int48(a){return ay(a,-48)}static int56(a){return ay(a,-56)}static int64(a){return ay(a,-64)}static int72(a){return ay(a,-72)}static int80(a){return ay(a,-80)}static int88(a){return ay(a,-88)}static int96(a){return ay(a,-96)}static int104(a){return ay(a,-104)}static int112(a){return ay(a,-112)}static int120(a){return ay(a,-120)}static int128(a){return ay(a,-128)}static int136(a){return ay(a,-136)}static int144(a){return ay(a,-144)}static int152(a){return ay(a,-152)}static int160(a){return ay(a,-160)}static int168(a){return ay(a,-168)}static int176(a){return ay(a,-176)}static int184(a){return ay(a,-184)}static int192(a){return ay(a,-192)}static int200(a){return ay(a,-200)}static int208(a){return ay(a,-208)}static int216(a){return ay(a,-216)}static int224(a){return ay(a,-224)}static int232(a){return ay(a,-232)}static int240(a){return ay(a,-240)}static int248(a){return ay(a,-248)}static int256(a){return ay(a,-256)}static int(a){return ay(a,-256)}static bytes1(a){return az(a,1)}static bytes2(a){return az(a,2)}static bytes3(a){return az(a,3)}static bytes4(a){return az(a,4)}static bytes5(a){return az(a,5)}static bytes6(a){return az(a,6)}static bytes7(a){return az(a,7)}static bytes8(a){return az(a,8)}static bytes9(a){return az(a,9)}static bytes10(a){return az(a,10)}static bytes11(a){return az(a,11)}static bytes12(a){return az(a,12)}static bytes13(a){return az(a,13)}static bytes14(a){return az(a,14)}static bytes15(a){return az(a,15)}static bytes16(a){return az(a,16)}static bytes17(a){return az(a,17)}static bytes18(a){return az(a,18)}static bytes19(a){return az(a,19)}static bytes20(a){return az(a,20)}static bytes21(a){return az(a,21)}static bytes22(a){return az(a,22)}static bytes23(a){return az(a,23)}static bytes24(a){return az(a,24)}static bytes25(a){return az(a,25)}static bytes26(a){return az(a,26)}static bytes27(a){return az(a,27)}static bytes28(a){return az(a,28)}static bytes29(a){return az(a,29)}static bytes30(a){return az(a,30)}static bytes31(a){return az(a,31)}static bytes32(a){return az(a,32)}static address(a){return new aB(ax,"address",a)}static bool(a){return new aB(ax,"bool",!!a)}static bytes(a){return new aB(ax,"bytes",a)}static string(a){return new aB(ax,"string",a)}static array(a,b){throw Error("not implemented yet")}static tuple(a,b){throw Error("not implemented yet")}static overrides(a){return new aB(ax,"overrides",Object.assign({},a))}static isTyped(a){return a&&"object"==typeof a&&"_typedSymbol"in a&&a._typedSymbol===aA}static dereference(a,b){if(aB.isTyped(a)){if(a.type!==b)throw Error(`invalid type: expecetd ${b}, got ${a.type}`);return a.value}return a}}a.s(["Typed",()=>aB],6922);class aC extends B{constructor(a){super("address","address",a,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(a,b){let c=aB.dereference(b,"string");try{c=av(c)}catch(a){return this._throwError(a.message,b)}return a.writeValue(c)}decode(a){return av(p(a.readValue(),20))}}a.s(["AddressCoder",()=>aC],18086);class aD extends B{coder;constructor(a){super(a.name,a.type,"_",a.dynamic),this.coder=a}defaultValue(){return this.coder.defaultValue()}encode(a,b){return this.coder.encode(a,b)}decode(a){return this.coder.decode(a)}}function aE(a,b,c){let e=[];if(Array.isArray(c))e=c;else if(c&&"object"==typeof c){let a={};e=b.map(b=>{let e=b.localName;return(0,d.assert)(e,"cannot encode object for signature with missing names","INVALID_ARGUMENT",{argument:"values",info:{coder:b},value:c}),(0,d.assert)(!a[e],"cannot encode object for signature with duplicate names","INVALID_ARGUMENT",{argument:"values",info:{coder:b},value:c}),a[e]=!0,c[e]})}else(0,d.assertArgument)(!1,"invalid tuple value","tuple",c);(0,d.assertArgument)(b.length===e.length,"types/value length mismatch","tuple",c);let f=new C,g=new C,h=[];b.forEach((a,b)=>{let c=e[b];if(a.dynamic){let b=g.length;a.encode(g,c);let d=f.writeUpdatableValue();h.push(a=>{d(a+b)})}else a.encode(f,c)}),h.forEach(a=>{a(f.length)});let i=a.appendWriter(f);return i+a.appendWriter(g)}function aF(a,b){let c=[],e=[],f=a.subReader(0);return b.forEach(b=>{let g=null;if(b.dynamic){let c=a.readIndex(),e=f.subReader(c);try{g=b.decode(e)}catch(a){if((0,d.isError)(a,"BUFFER_OVERRUN"))throw a;(g=a).baseType=b.name,g.name=b.localName,g.type=b.type}}else try{g=b.decode(a)}catch(a){if((0,d.isError)(a,"BUFFER_OVERRUN"))throw a;(g=a).baseType=b.name,g.name=b.localName,g.type=b.type}if(void 0==g)throw Error("investigate");c.push(g),e.push(b.localName||null)}),y.fromItems(c,e)}class aG extends B{coder;length;constructor(a,c,d){super("array",a.type+"["+(c>=0?c:"")+"]",d,-1===c||a.dynamic),(0,b.defineProperties)(this,{coder:a,length:c})}defaultValue(){let a=this.coder.defaultValue(),b=[];for(let c=0;c<this.length;c++)b.push(a);return b}encode(a,b){let c=aB.dereference(b,"array");Array.isArray(c)||this._throwError("expected array value",c);let e=this.length;-1===e&&(e=c.length,a.writeValue(c.length)),(0,d.assertArgumentCount)(c.length,e,"coder array"+(this.localName?" "+this.localName:""));let f=[];for(let a=0;a<c.length;a++)f.push(this.coder);return aE(a,f,c)}decode(a){let b=this.length;-1===b&&(b=a.readIndex(),(0,d.assert)(32*b<=a.dataLength,"insufficient data length","BUFFER_OVERRUN",{buffer:a.bytes,offset:32*b,length:a.dataLength}));let c=[];for(let a=0;a<b;a++)c.push(new aD(this.coder));return aF(a,c)}}a.s(["ArrayCoder",()=>aG,"pack",()=>aE,"unpack",()=>aF],17290);class aH extends B{constructor(a){super("bool","bool",a,!1)}defaultValue(){return!1}encode(a,b){let c=aB.dereference(b,"bool");return a.writeValue(+!!c)}decode(a){return!!a.readValue()}}a.s(["BooleanCoder",()=>aH],36286);class aI extends B{constructor(a,b){super(a,a,b,!0)}defaultValue(){return"0x"}encode(a,b){b=(0,c.getBytesCopy)(b);let d=a.writeValue(b.length);return d+a.writeBytes(b)}decode(a){return a.readBytes(a.readIndex(),!0)}}class aJ extends aI{constructor(a){super("bytes",a)}decode(a){return(0,c.hexlify)(super.decode(a))}}a.s(["BytesCoder",()=>aJ,"DynamicBytesCoder",()=>aI],74252);class aK extends B{size;constructor(a,c){let d="bytes"+String(a);super(d,d,c,!1),(0,b.defineProperties)(this,{size:a},{size:"number"})}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+2*this.size)}encode(a,b){let d=(0,c.getBytesCopy)(aB.dereference(b,this.type));return d.length!==this.size&&this._throwError("incorrect data length",b),a.writeBytes(d)}decode(a){return(0,c.hexlify)(a.readBytes(this.size))}}a.s(["FixedBytesCoder",()=>aK],12751);let aL=new Uint8Array([]);class aM extends B{constructor(a){super("null","",a,!1)}defaultValue(){return null}encode(a,b){return null!=b&&this._throwError("not null",b),a.writeBytes(aL)}decode(a){return a.readBytes(0),null}}a.s(["NullCoder",()=>aM],51350);let aN=BigInt(0),aO=BigInt(1),aP=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class aQ extends B{size;signed;constructor(a,c,d){const e=(c?"int":"uint")+8*a;super(e,e,d,!1),(0,b.defineProperties)(this,{size:a,signed:c},{size:"number",signed:"boolean"})}defaultValue(){return 0}encode(a,b){let c=j(aB.dereference(b,this.type)),d=i(aP,256);if(this.signed){let a=i(d,8*this.size-1);(c>a||c<-(a+aO))&&this._throwError("value out-of-bounds",b),c=h(c,256)}else(c<aN||c>i(d,8*this.size))&&this._throwError("value out-of-bounds",b);return a.writeValue(c)}decode(a){let b=i(a.readValue(),8*this.size);return this.signed&&(b=g(b,8*this.size)),b}}a.s(["NumberCoder",()=>aQ],54651)},23916,a=>{"use strict";var b=a.i(75607),c=a.i(49664);function d(a,b,c,d,e){if("BAD_PREFIX"===a||"UNEXPECTED_CONTINUE"===a){let a=0;for(let d=b+1;d<c.length&&c[d]>>6==2;d++)a++;return a}return"OVERRUN"===a?c.length-b-1:0}let e=Object.freeze({error:function(a,b,d,e,f){(0,c.assertArgument)(!1,`invalid codepoint at offset ${b}; ${a}`,"bytes",d)},ignore:d,replace:function(a,b,e,f,g){return"OVERLONG"===a?((0,c.assertArgument)("number"==typeof g,"invalid bad code point for replacement","badCodepoint",g),f.push(g),0):(f.push(65533),d(a,b,e,f,g))}});function f(a,c){null==c&&(c=e.error);let d=(0,b.getBytes)(a,"bytes"),f=[],g=0;for(;g<d.length;){let a=d[g++];if(a>>7==0){f.push(a);continue}let b=null,e=null;if((224&a)==192)b=1,e=127;else if((240&a)==224)b=2,e=2047;else if((248&a)==240)b=3,e=65535;else{(192&a)==128?g+=c("UNEXPECTED_CONTINUE",g-1,d,f):g+=c("BAD_PREFIX",g-1,d,f);continue}if(g-1+b>=d.length){g+=c("OVERRUN",g-1,d,f);continue}let h=a&(1<<8-b-1)-1;for(let a=0;a<b;a++){let a=d[g];if((192&a)!=128){g+=c("MISSING_CONTINUE",g,d,f),h=null;break}h=h<<6|63&a,g++}if(null!==h){if(h>1114111){g+=c("OUT_OF_RANGE",g-1-b,d,f,h);continue}if(h>=55296&&h<=57343){g+=c("UTF16_SURROGATE",g-1-b,d,f,h);continue}if(h<=e){g+=c("OVERLONG",g-1-b,d,f,h);continue}f.push(h)}}return f}function g(a,b){(0,c.assertArgument)("string"==typeof a,"invalid string value","str",a),null!=b&&((0,c.assertNormalize)(b),a=a.normalize(b));let d=[];for(let b=0;b<a.length;b++){let e=a.charCodeAt(b);if(e<128)d.push(e);else if(e<2048)d.push(e>>6|192),d.push(63&e|128);else if((64512&e)==55296){b++;let f=a.charCodeAt(b);(0,c.assertArgument)(b<a.length&&(64512&f)==56320,"invalid surrogate pair","str",a);let g=65536+((1023&e)<<10)+(1023&f);d.push(g>>18|240),d.push(g>>12&63|128),d.push(g>>6&63|128),d.push(63&g|128)}else d.push(e>>12|224),d.push(e>>6&63|128),d.push(63&e|128)}return new Uint8Array(d)}function h(a,b){return f(a,b).map(a=>a<=65535?String.fromCharCode(a):String.fromCharCode(((a-=65536)>>10&1023)+55296,(1023&a)+56320)).join("")}function i(a,b){return f(g(a,b))}a.s(["Utf8ErrorFuncs",0,e,"toUtf8Bytes",()=>g,"toUtf8CodePoints",()=>i,"toUtf8String",()=>h])},12422,46522,5237,a=>{"use strict";var b=a.i(49664),c=a.i(86197),d=a.i(18086),e=a.i(17290),f=a.i(36286),g=a.i(74252),h=a.i(12751),i=a.i(51350),j=a.i(54651),k=a.i(23916),l=a.i(6922),m=g;class n extends m.DynamicBytesCoder{constructor(a){super("string",a)}defaultValue(){return""}encode(a,b){return super.encode(a,(0,k.toUtf8Bytes)(l.Typed.dereference(b,"string")))}decode(a){return(0,k.toUtf8String)(super.decode(a))}}var o=a.i(50942),p=c;class q extends p.Coder{coders;constructor(a,b){let c=!1;const d=[];a.forEach(a=>{a.dynamic&&(c=!0),d.push(a.type)}),super("tuple","tuple("+d.join(",")+")",b,c),(0,o.defineProperties)(this,{coders:Object.freeze(a.slice())})}defaultValue(){let a=[];this.coders.forEach(b=>{a.push(b.defaultValue())});let b=this.coders.reduce((a,b)=>{let c=b.localName;return c&&(a[c]||(a[c]=0),a[c]++),a},{});return this.coders.forEach((c,d)=>{let e=c.localName;e&&1===b[e]&&("length"===e&&(e="_length"),null==a[e]&&(a[e]=a[d]))}),Object.freeze(a)}encode(a,b){let c=l.Typed.dereference(b,"tuple");return(0,e.pack)(a,this.coders,c)}decode(a){return(0,e.unpack)(a,this.coders)}}var r=a.i(51534),s=a.i(99374);function t(a){return(0,s.keccak256)((0,k.toUtf8Bytes)(a))}function u(a){let b=new Set;return a.forEach(a=>b.add(a)),Object.freeze(b)}a.s(["id",()=>t],46522);let v=u("external public payable override".split(" ")),w="constant external internal payable private public pure view override",x=u(w.split(" ")),y="constructor error event fallback function receive struct",z=u(y.split(" ")),A="calldata memory storage payable indexed",B=u(A.split(" ")),C=u([y,A,"tuple returns",w].join(" ").split(" ")),D={"(":"OPEN_PAREN",")":"CLOSE_PAREN","[":"OPEN_BRACKET","]":"CLOSE_BRACKET",",":"COMMA","@":"AT"},E=RegExp("^(\\s*)"),F=RegExp("^([0-9]+)"),G=RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)"),H=RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)$"),I=RegExp("^(address|bool|bytes([0-9]*)|string|u?int([0-9]*))$");class J{#e;#l;get offset(){return this.#e}get length(){return this.#l.length-this.#e}constructor(a){this.#e=0,this.#l=a.slice()}clone(){return new J(this.#l)}reset(){this.#e=0}#m(a=0,b=0){return new J(this.#l.slice(a,b).map(b=>Object.freeze(Object.assign({},b,{match:b.match-a,linkBack:b.linkBack-a,linkNext:b.linkNext-a}))))}popKeyword(a){let b=this.peek();if("KEYWORD"!==b.type||!a.has(b.text))throw Error(`expected keyword ${b.text}`);return this.pop().text}popType(a){if(this.peek().type!==a){let b=this.peek();throw Error(`expected ${a}; got ${b.type} ${JSON.stringify(b.text)}`)}return this.pop().text}popParen(){let a=this.peek();if("OPEN_PAREN"!==a.type)throw Error("bad start");let b=this.#m(this.#e+1,a.match+1);return this.#e=a.match+1,b}popParams(){let a=this.peek();if("OPEN_PAREN"!==a.type)throw Error("bad start");let b=[];for(;this.#e<a.match-1;){let a=this.peek().linkNext;b.push(this.#m(this.#e+1,a)),this.#e=a}return this.#e=a.match+1,b}peek(){if(this.#e>=this.#l.length)throw Error("out-of-bounds");return this.#l[this.#e]}peekKeyword(a){let b=this.peekType("KEYWORD");return null!=b&&a.has(b)?b:null}peekType(a){if(0===this.length)return null;let b=this.peek();return b.type===a?b.text:null}pop(){let a=this.peek();return this.#e++,a}toString(){let a=[];for(let b=this.#e;b<this.#l.length;b++){let c=this.#l[b];a.push(`${c.type}:${c.text}`)}return`<TokenString ${a.join(" ")}>`}}function K(a){let b=[],c=b=>{let c=f<a.length?JSON.stringify(a[f]):"$EOI";throw Error(`invalid token ${c} at ${f}: ${b}`)},d=[],e=[],f=0;for(;f<a.length;){let g=a.substring(f),h=g.match(E);h&&(f+=h[1].length,g=a.substring(f));let i={depth:d.length,linkBack:-1,linkNext:-1,match:-1,type:"",text:"",offset:f,value:-1};b.push(i);let j=D[g[0]]||"";if(j){if(i.type=j,i.text=g[0],f++,"OPEN_PAREN"===j)d.push(b.length-1),e.push(b.length-1);else if("CLOSE_PAREN"==j)0===d.length&&c("no matching open bracket"),i.match=d.pop(),b[i.match].match=b.length-1,i.depth--,i.linkBack=e.pop(),b[i.linkBack].linkNext=b.length-1;else if("COMMA"===j)i.linkBack=e.pop(),b[i.linkBack].linkNext=b.length-1,e.push(b.length-1);else if("OPEN_BRACKET"===j)i.type="BRACKET";else if("CLOSE_BRACKET"===j){let a=b.pop().text;if(b.length>0&&"NUMBER"===b[b.length-1].type){let c=b.pop().text;a=c+a,b[b.length-1].value=(0,r.getNumber)(c)}if(0===b.length||"BRACKET"!==b[b.length-1].type)throw Error("missing opening bracket");b[b.length-1].text+=a}continue}if(h=g.match(G)){if(i.text=h[1],f+=i.text.length,C.has(i.text)){i.type="KEYWORD";continue}if(i.text.match(I)){i.type="TYPE";continue}i.type="ID";continue}if(h=g.match(F)){i.text=h[1],i.type="NUMBER",f+=i.text.length;continue}throw Error(`unexpected token ${JSON.stringify(g[0])} at position ${f}`)}return new J(b.map(a=>Object.freeze(a)))}function L(a,b){let c=[];for(let d in b.keys())a.has(d)&&c.push(d);if(c.length>1)throw Error(`conflicting types: ${c.join(", ")}`)}function M(a,b){if(b.peekKeyword(z)){let c=b.pop().text;if(c!==a)throw Error(`expected ${a}, got ${c}`)}return b.popType("ID")}function N(a,b){let c=new Set;for(;;){let d=a.peekType("KEYWORD");if(null==d||b&&!b.has(d))break;if(a.pop(),c.has(d))throw Error(`duplicate keywords: ${JSON.stringify(d)}`);c.add(d)}return Object.freeze(c)}function O(a){let b=N(a,x);return(L(b,u("constant payable nonpayable".split(" "))),L(b,u("pure view payable nonpayable".split(" "))),b.has("view"))?"view":b.has("pure")?"pure":b.has("payable")?"payable":b.has("nonpayable")?"nonpayable":b.has("constant")?"view":"nonpayable"}function P(a,b){return a.popParams().map(a=>ab.from(a,b))}function Q(a){if(a.peekType("AT")){if(a.pop(),a.peekType("NUMBER"))return(0,r.getBigInt)(a.pop().text);throw Error("invalid gas")}return null}function R(a){if(a.length)throw Error(`unexpected tokens at offset ${a.offset}: ${a.toString()}`)}let S=new RegExp(/^(.*)\[([0-9]*)\]$/);function T(a){let c=a.match(I);if((0,b.assertArgument)(c,"invalid type","type",a),"uint"===a)return"uint256";if("int"===a)return"int256";if(c[2]){let d=parseInt(c[2]);(0,b.assertArgument)(0!==d&&d<=32,"invalid bytes length","type",a)}else if(c[3]){let d=parseInt(c[3]);(0,b.assertArgument)(0!==d&&d<=256&&d%8==0,"invalid numeric width","type",a)}return a}let U={},V=Symbol.for("_ethers_internal"),W="_ParamTypeInternal",X="_ErrorInternal",Y="_EventInternal",Z="_ConstructorInternal",$="_FallbackInternal",_="_FunctionInternal",aa="_StructInternal";class ab{name;type;baseType;indexed;components;arrayLength;arrayChildren;constructor(a,c,d,e,f,g,h,i){if((0,b.assertPrivate)(a,U,"ParamType"),Object.defineProperty(this,V,{value:W}),g&&(g=Object.freeze(g.slice())),"array"===e){if(null==h||null==i)throw Error("")}else if(null!=h||null!=i)throw Error("");if("tuple"===e){if(null==g)throw Error("")}else if(null!=g)throw Error("");(0,o.defineProperties)(this,{name:c,type:d,baseType:e,indexed:f,components:g,arrayLength:h,arrayChildren:i})}format(a){if(null==a&&(a="sighash"),"json"===a){let b=this.name||"";if(this.isArray()){let a=JSON.parse(this.arrayChildren.format("json"));return a.name=b,a.type+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`,JSON.stringify(a)}let c={type:"tuple"===this.baseType?"tuple":this.type,name:b};return"boolean"==typeof this.indexed&&(c.indexed=this.indexed),this.isTuple()&&(c.components=this.components.map(b=>JSON.parse(b.format(a)))),JSON.stringify(c)}let b="";return this.isArray()?(b+=this.arrayChildren.format(a),b+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`):this.isTuple()?b+="("+this.components.map(b=>b.format(a)).join("full"===a?", ":",")+")":b+=this.type,"sighash"!==a&&(!0===this.indexed&&(b+=" indexed"),"full"===a&&this.name&&(b+=" "+this.name)),b}isArray(){return"array"===this.baseType}isTuple(){return"tuple"===this.baseType}isIndexable(){return null!=this.indexed}walk(a,b){if(this.isArray()){if(!Array.isArray(a))throw Error("invalid array value");if(-1!==this.arrayLength&&a.length!==this.arrayLength)throw Error("array is wrong length");let c=this;return a.map(a=>c.arrayChildren.walk(a,b))}if(this.isTuple()){if(!Array.isArray(a))throw Error("invalid tuple value");if(a.length!==this.components.length)throw Error("array is wrong length");let c=this;return a.map((a,d)=>c.components[d].walk(a,b))}return b(this.type,a)}#n(a,b,c,d){if(this.isArray()){if(!Array.isArray(b))throw Error("invalid array value");if(-1!==this.arrayLength&&b.length!==this.arrayLength)throw Error("array is wrong length");let e=this.arrayChildren,f=b.slice();f.forEach((b,d)=>{e.#n(a,b,c,a=>{f[d]=a})}),d(f);return}if(this.isTuple()){let e,f=this.components;if(Array.isArray(b))e=b.slice();else{if(null==b||"object"!=typeof b)throw Error("invalid tuple value");e=f.map(a=>{if(!a.name)throw Error("cannot use object value with unnamed components");if(!(a.name in b))throw Error(`missing value for component ${a.name}`);return b[a.name]})}if(e.length!==this.components.length)throw Error("array is wrong length");e.forEach((b,d)=>{f[d].#n(a,b,c,a=>{e[d]=a})}),d(e);return}let e=c(this.type,b);e.then?a.push(async function(){d(await e)}()):d(e)}async walkAsync(a,b){let c=[],d=[a];return this.#n(c,a,b,a=>{d[0]=a}),c.length&&await Promise.all(c),d[0]}static from(a,c){if(ab.isParamType(a))return a;if("string"==typeof a)try{return ab.from(K(a),c)}catch(c){(0,b.assertArgument)(!1,"invalid param type","obj",a)}else if(a instanceof J){let b="",d="",e=null;N(a,u(["tuple"])).has("tuple")||a.peekType("OPEN_PAREN")?(d="tuple",e=a.popParams().map(a=>ab.from(a)),b=`tuple(${e.map(a=>a.format()).join(",")})`):d=b=T(a.popType("TYPE"));let f=null,g=null;for(;a.length&&a.peekType("BRACKET");){let c=a.pop();f=new ab(U,"",b,d,null,e,g,f),g=c.value,b+=c.text,d="array",e=null}let h=null;if(N(a,B).has("indexed")){if(!c)throw Error("");h=!0}let i=a.peekType("ID")?a.pop().text:"";if(a.length)throw Error("leftover tokens");return new ab(U,i,b,d,h,e,g,f)}let d=a.name;(0,b.assertArgument)(!d||"string"==typeof d&&d.match(H),"invalid name","obj.name",d);let e=a.indexed;null!=e&&((0,b.assertArgument)(c,"parameter cannot be indexed","obj.indexed",a.indexed),e=!!e);let f=a.type,g=f.match(S);if(g){let b=parseInt(g[2]||"-1"),c=ab.from({type:g[1],components:a.components});return new ab(U,d||"",f,"array",e,null,b,c)}if("tuple"===f||f.startsWith("tuple(")||f.startsWith("(")){let b=null!=a.components?a.components.map(a=>ab.from(a)):null;return new ab(U,d||"",f,"tuple",e,b,null,null)}return new ab(U,d||"",f=T(a.type),f,e,null,null,null)}static isParamType(a){return a&&a[V]===W}}class ac{type;inputs;constructor(a,c,d){(0,b.assertPrivate)(a,U,"Fragment"),d=Object.freeze(d.slice()),(0,o.defineProperties)(this,{type:c,inputs:d})}static from(a){if("string"==typeof a){try{ac.from(JSON.parse(a))}catch(a){}return ac.from(K(a))}if(a instanceof J)switch(a.peekKeyword(z)){case"constructor":return ah.from(a);case"error":return af.from(a);case"event":return ag.from(a);case"fallback":case"receive":return ai.from(a);case"function":return aj.from(a);case"struct":return ak.from(a)}else if("object"==typeof a){switch(a.type){case"constructor":return ah.from(a);case"error":return af.from(a);case"event":return ag.from(a);case"fallback":case"receive":return ai.from(a);case"function":return aj.from(a);case"struct":return ak.from(a)}(0,b.assert)(!1,`unsupported type: ${a.type}`,"UNSUPPORTED_OPERATION",{operation:"Fragment.from"})}(0,b.assertArgument)(!1,"unsupported frgament object","obj",a)}static isConstructor(a){return ah.isFragment(a)}static isError(a){return af.isFragment(a)}static isEvent(a){return ag.isFragment(a)}static isFunction(a){return aj.isFragment(a)}static isStruct(a){return ak.isFragment(a)}}class ad extends ac{name;constructor(a,c,d,e){super(a,c,e),(0,b.assertArgument)("string"==typeof d&&d.match(H),"invalid identifier","name",d),e=Object.freeze(e.slice()),(0,o.defineProperties)(this,{name:d})}}function ae(a,b){return"("+b.map(b=>b.format(a)).join("full"===a?", ":",")+")"}class af extends ad{constructor(a,b,c){super(a,"error",b,c),Object.defineProperty(this,V,{value:X})}get selector(){return t(this.format("sighash")).substring(0,10)}format(a){if(null==a&&(a="sighash"),"json"===a)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(b=>JSON.parse(b.format(a)))});let b=[];return"sighash"!==a&&b.push("error"),b.push(this.name+ae(a,this.inputs)),b.join(" ")}static from(a){if(af.isFragment(a))return a;if("string"==typeof a)return af.from(K(a));if(a instanceof J){let b=M("error",a),c=P(a);return R(a),new af(U,b,c)}return new af(U,a.name,a.inputs?a.inputs.map(ab.from):[])}static isFragment(a){return a&&a[V]===X}}class ag extends ad{anonymous;constructor(a,b,c,d){super(a,"event",b,c),Object.defineProperty(this,V,{value:Y}),(0,o.defineProperties)(this,{anonymous:d})}get topicHash(){return t(this.format("sighash"))}format(a){if(null==a&&(a="sighash"),"json"===a)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(b=>JSON.parse(b.format(a)))});let b=[];return"sighash"!==a&&b.push("event"),b.push(this.name+ae(a,this.inputs)),"sighash"!==a&&this.anonymous&&b.push("anonymous"),b.join(" ")}static getTopicHash(a,b){return new ag(U,a,b=(b||[]).map(a=>ab.from(a)),!1).topicHash}static from(a){if(ag.isFragment(a))return a;if("string"==typeof a)try{return ag.from(K(a))}catch(c){(0,b.assertArgument)(!1,"invalid event fragment","obj",a)}else if(a instanceof J){let b=M("event",a),c=P(a,!0),d=!!N(a,u(["anonymous"])).has("anonymous");return R(a),new ag(U,b,c,d)}return new ag(U,a.name,a.inputs?a.inputs.map(a=>ab.from(a,!0)):[],!!a.anonymous)}static isFragment(a){return a&&a[V]===Y}}class ah extends ac{payable;gas;constructor(a,b,c,d,e){super(a,b,c),Object.defineProperty(this,V,{value:Z}),(0,o.defineProperties)(this,{payable:d,gas:e})}format(a){if((0,b.assert)(null!=a&&"sighash"!==a,"cannot format a constructor for sighash","UNSUPPORTED_OPERATION",{operation:"format(sighash)"}),"json"===a)return JSON.stringify({type:"constructor",stateMutability:this.payable?"payable":"undefined",payable:this.payable,gas:null!=this.gas?this.gas:void 0,inputs:this.inputs.map(b=>JSON.parse(b.format(a)))});let c=[`constructor${ae(a,this.inputs)}`];return this.payable&&c.push("payable"),null!=this.gas&&c.push(`@${this.gas.toString()}`),c.join(" ")}static from(a){if(ah.isFragment(a))return a;if("string"==typeof a)try{return ah.from(K(a))}catch(c){(0,b.assertArgument)(!1,"invalid constuctor fragment","obj",a)}else if(a instanceof J){N(a,u(["constructor"]));let b=P(a),c=!!N(a,v).has("payable"),d=Q(a);return R(a),new ah(U,"constructor",b,c,d)}return new ah(U,"constructor",a.inputs?a.inputs.map(ab.from):[],!!a.payable,null!=a.gas?a.gas:null)}static isFragment(a){return a&&a[V]===Z}}class ai extends ac{payable;constructor(a,b,c){super(a,"fallback",b),Object.defineProperty(this,V,{value:$}),(0,o.defineProperties)(this,{payable:c})}format(a){let b=0===this.inputs.length?"receive":"fallback";return"json"===a?JSON.stringify({type:b,stateMutability:this.payable?"payable":"nonpayable"}):`${b}()${this.payable?" payable":""}`}static from(a){if(ai.isFragment(a))return a;if("string"==typeof a)try{return ai.from(K(a))}catch(c){(0,b.assertArgument)(!1,"invalid fallback fragment","obj",a)}else if(a instanceof J){let c=a.toString(),d=a.peekKeyword(u(["fallback","receive"]));if((0,b.assertArgument)(d,"type must be fallback or receive","obj",c),"receive"===a.popKeyword(u(["fallback","receive"]))){let c=P(a);return(0,b.assertArgument)(0===c.length,"receive cannot have arguments","obj.inputs",c),N(a,u(["payable"])),R(a),new ai(U,[],!0)}let e=P(a);e.length?(0,b.assertArgument)(1===e.length&&"bytes"===e[0].type,"invalid fallback inputs","obj.inputs",e.map(a=>a.format("minimal")).join(", ")):e=[ab.from("bytes")];let f=O(a);if((0,b.assertArgument)("nonpayable"===f||"payable"===f,"fallback cannot be constants","obj.stateMutability",f),N(a,u(["returns"])).has("returns")){let c=P(a);(0,b.assertArgument)(1===c.length&&"bytes"===c[0].type,"invalid fallback outputs","obj.outputs",c.map(a=>a.format("minimal")).join(", "))}return R(a),new ai(U,e,"payable"===f)}return"receive"===a.type?new ai(U,[],!0):"fallback"===a.type?new ai(U,[ab.from("bytes")],"payable"===a.stateMutability):void(0,b.assertArgument)(!1,"invalid fallback description","obj",a)}static isFragment(a){return a&&a[V]===$}}class aj extends ad{constant;outputs;stateMutability;payable;gas;constructor(a,b,c,d,e,f){super(a,"function",b,d),Object.defineProperty(this,V,{value:_}),e=Object.freeze(e.slice()),(0,o.defineProperties)(this,{constant:"view"===c||"pure"===c,gas:f,outputs:e,payable:"payable"===c,stateMutability:c})}get selector(){return t(this.format("sighash")).substring(0,10)}format(a){if(null==a&&(a="sighash"),"json"===a)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:"nonpayable"!==this.stateMutability?this.stateMutability:void 0,payable:this.payable,gas:null!=this.gas?this.gas:void 0,inputs:this.inputs.map(b=>JSON.parse(b.format(a))),outputs:this.outputs.map(b=>JSON.parse(b.format(a)))});let b=[];return"sighash"!==a&&b.push("function"),b.push(this.name+ae(a,this.inputs)),"sighash"!==a&&("nonpayable"!==this.stateMutability&&b.push(this.stateMutability),this.outputs&&this.outputs.length&&(b.push("returns"),b.push(ae(a,this.outputs))),null!=this.gas&&b.push(`@${this.gas.toString()}`)),b.join(" ")}static getSelector(a,b){return new aj(U,a,"view",b=(b||[]).map(a=>ab.from(a)),[],null).selector}static from(a){if(aj.isFragment(a))return a;if("string"==typeof a)try{return aj.from(K(a))}catch(c){(0,b.assertArgument)(!1,"invalid function fragment","obj",a)}else if(a instanceof J){let b=M("function",a),c=P(a),d=O(a),e=[];N(a,u(["returns"])).has("returns")&&(e=P(a));let f=Q(a);return R(a),new aj(U,b,d,c,e,f)}let c=a.stateMutability;return null==c&&(c="payable","boolean"==typeof a.constant?(c="view",!a.constant&&(c="payable","boolean"!=typeof a.payable||a.payable||(c="nonpayable"))):"boolean"!=typeof a.payable||a.payable||(c="nonpayable")),new aj(U,a.name,c,a.inputs?a.inputs.map(ab.from):[],a.outputs?a.outputs.map(ab.from):[],null!=a.gas?a.gas:null)}static isFragment(a){return a&&a[V]===_}}class ak extends ad{constructor(a,b,c){super(a,"struct",b,c),Object.defineProperty(this,V,{value:aa})}format(){throw Error("@TODO")}static from(a){if("string"==typeof a)try{return ak.from(K(a))}catch(c){(0,b.assertArgument)(!1,"invalid struct fragment","obj",a)}else if(a instanceof J){let b=M("struct",a),c=P(a);return R(a),new ak(U,b,c)}return new ak(U,a.name,a.inputs?a.inputs.map(ab.from):[])}static isFragment(a){return a&&a[V]===aa}}a.s(["ConstructorFragment",()=>ah,"ErrorFragment",()=>af,"EventFragment",()=>ag,"FallbackFragment",()=>ai,"Fragment",()=>ac,"FunctionFragment",()=>aj,"NamedFragment",()=>ad,"ParamType",()=>ab,"StructFragment",()=>ak],5237);var al=a.i(24495),am=a.i(75607);let an=new Map;an.set(0,"GENERIC_PANIC"),an.set(1,"ASSERT_FALSE"),an.set(17,"OVERFLOW"),an.set(18,"DIVIDE_BY_ZERO"),an.set(33,"ENUM_RANGE_ERROR"),an.set(34,"BAD_STORAGE_DATA"),an.set(49,"STACK_UNDERFLOW"),an.set(50,"ARRAY_RANGE_ERROR"),an.set(65,"OUT_OF_MEMORY"),an.set(81,"UNINITIALIZED_FUNCTION_CALL");let ao=new RegExp(/^bytes([0-9]*)$/),ap=new RegExp(/^(u?int)([0-9]*)$/),aq=null,ar=1024;class as{#o(a){if(a.isArray())return new e.ArrayCoder(this.#o(a.arrayChildren),a.arrayLength,a.name);if(a.isTuple())return new q(a.components.map(a=>this.#o(a)),a.name);switch(a.baseType){case"address":return new d.AddressCoder(a.name);case"bool":return new f.BooleanCoder(a.name);case"string":return new n(a.name);case"bytes":return new g.BytesCoder(a.name);case"":return new i.NullCoder(a.name)}let c=a.type.match(ap);if(c){let d=parseInt(c[2]||"256");return(0,b.assertArgument)(0!==d&&d<=256&&d%8==0,"invalid "+c[1]+" bit length","param",a),new j.NumberCoder(d/8,"int"===c[1],a.name)}if(c=a.type.match(ao)){let d=parseInt(c[1]);return(0,b.assertArgument)(0!==d&&d<=32,"invalid bytes length","param",a),new h.FixedBytesCoder(d,a.name)}(0,b.assertArgument)(!1,"invalid type","type",a.type)}getDefaultValue(a){return new q(a.map(a=>this.#o(ab.from(a))),"_").defaultValue()}encode(a,d){(0,b.assertArgumentCount)(d.length,a.length,"types/values length mismatch");let e=new q(a.map(a=>this.#o(ab.from(a))),"_"),f=new c.Writer;return e.encode(f,d),f.data}decode(a,b,d){return new q(a.map(a=>this.#o(ab.from(a))),"_").decode(new c.Reader(b,d,ar))}static _setDefaultMaxInflation(a){(0,b.assertArgument)("number"==typeof a&&Number.isInteger(a),"invalid defaultMaxInflation factor","value",a),ar=a}static defaultAbiCoder(){return null==aq&&(aq=new as),aq}static getBuiltinCallException(a,c,d){return function(a,c,d,e){let f="missing revert data",g=null,h=null;if(d){f="execution reverted";let a=(0,am.getBytes)(d);if(d=(0,am.hexlify)(d),0===a.length)f+=" (no data present; likely require(false) occurred",g="require(false)";else if(a.length%32!=4)f+=" (could not decode reason; invalid data length)";else if("0x08c379a0"===(0,am.hexlify)(a.slice(0,4)))try{g=e.decode(["string"],a.slice(4))[0],h={signature:"Error(string)",name:"Error",args:[g]},f+=`: ${JSON.stringify(g)}`}catch(a){f+=" (could not decode reason; invalid string data)"}else if("0x4e487b71"===(0,am.hexlify)(a.slice(0,4)))try{let b=Number(e.decode(["uint256"],a.slice(4))[0]);h={signature:"Panic(uint256)",name:"Panic",args:[b]},g=`Panic due to ${an.get(b)||"UNKNOWN"}(${b})`,f+=`: ${g}`}catch(a){f+=" (could not decode panic code)"}else f+=" (unknown custom error)"}let i={to:c.to?(0,al.getAddress)(c.to):null,data:c.data||"0x"};return c.from&&(i.from=(0,al.getAddress)(c.from)),(0,b.makeError)(f,"CALL_EXCEPTION",{action:a,data:d,reason:g,transaction:i,invocation:null,revert:h})}(a,c,d,as.defaultAbiCoder())}}a.s(["AbiCoder",()=>as],12422)},99959,a=>{"use strict";var b=a.i(49664),c=a.i(24495);function d(a){return a&&"function"==typeof a.getAddress}function e(a){try{return(0,c.getAddress)(a),!0}catch(a){}return!1}async function f(a,d){let e=await d;return(null==e||"0x0000000000000000000000000000000000000000"===e)&&((0,b.assert)("string"!=typeof a,"unconfigured name","UNCONFIGURED_NAME",{value:a}),(0,b.assertArgument)(!1,"invalid AddressLike value; did not resolve to a value address","target",a)),(0,c.getAddress)(e)}function g(a,e){return"string"==typeof a?a.match(/^0x[0-9a-f]{40}$/i)?(0,c.getAddress)(a):((0,b.assert)(null!=e,"ENS resolution requires a provider","UNSUPPORTED_OPERATION",{operation:"resolveName"}),f(a,e.resolveName(a))):d(a)?f(a,a.getAddress()):a&&"function"==typeof a.then?f(a,a):void(0,b.assertArgument)(!1,"unsupported addressable value","target",a)}a.s(["isAddress",()=>e,"isAddressable",()=>d,"resolveAddress",()=>g])},49628,a=>{"use strict";var b=a.i(56415),c=a.i(77832);class d extends c.Hash{constructor(a,b,d,e){super(),this.blockLen=a,this.outputLen=b,this.padOffset=d,this.isLE=e,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(a),this.view=(0,c.createView)(this.buffer)}update(a){(0,b.exists)(this);let{view:d,buffer:e,blockLen:f}=this,g=(a=(0,c.toBytes)(a)).length;for(let b=0;b<g;){let h=Math.min(f-this.pos,g-b);if(h===f){let d=(0,c.createView)(a);for(;f<=g-b;b+=f)this.process(d,b);continue}e.set(a.subarray(b,b+h),this.pos),this.pos+=h,b+=h,this.pos===f&&(this.process(d,0),this.pos=0)}return this.length+=a.length,this.roundClean(),this}digestInto(a){(0,b.exists)(this),(0,b.output)(a,this),this.finished=!0;let{buffer:d,view:e,blockLen:f,isLE:g}=this,{pos:h}=this;d[h++]=128,this.buffer.subarray(h).fill(0),this.padOffset>f-h&&(this.process(e,0),h=0);for(let a=h;a<f;a++)d[a]=0;!function(a,b,c,d){if("function"==typeof a.setBigUint64)return a.setBigUint64(b,c,d);let e=BigInt(32),f=BigInt(0xffffffff),g=Number(c>>e&f),h=Number(c&f),i=4*!!d,j=4*!d;a.setUint32(b+i,g,d),a.setUint32(b+j,h,d)}(e,f-8,BigInt(8*this.length),g),this.process(e,0);let i=(0,c.createView)(a),j=this.outputLen;if(j%4)throw Error("_sha2: outputLen should be aligned to 32bit");let k=j/4,l=this.get();if(k>l.length)throw Error("_sha2: outputLen bigger than state");for(let a=0;a<k;a++)i.setUint32(4*a,l[a],g)}digest(){let{buffer:a,outputLen:b}=this;this.digestInto(a);let c=a.slice(0,b);return this.destroy(),c}_cloneInto(a){a||(a=new this.constructor),a.set(...this.get());let{blockLen:b,buffer:c,length:d,finished:e,destroyed:f,pos:g}=this;return a.length=d,a.pos=g,a.finished=e,a.destroyed=f,d%b&&a.buffer.set(c),a}}a.s(["SHA2",()=>d])},34160,a=>{"use strict";var b=a.i(49628),c=a.i(77832);let d=(a,b,c)=>a&b^~a&c,e=(a,b,c)=>a&b^a&c^b&c,f=new Uint32Array([0x428a2f98,0x71374491,0xb5c0fbcf,0xe9b5dba5,0x3956c25b,0x59f111f1,0x923f82a4,0xab1c5ed5,0xd807aa98,0x12835b01,0x243185be,0x550c7dc3,0x72be5d74,0x80deb1fe,0x9bdc06a7,0xc19bf174,0xe49b69c1,0xefbe4786,0xfc19dc6,0x240ca1cc,0x2de92c6f,0x4a7484aa,0x5cb0a9dc,0x76f988da,0x983e5152,0xa831c66d,0xb00327c8,0xbf597fc7,0xc6e00bf3,0xd5a79147,0x6ca6351,0x14292967,0x27b70a85,0x2e1b2138,0x4d2c6dfc,0x53380d13,0x650a7354,0x766a0abb,0x81c2c92e,0x92722c85,0xa2bfe8a1,0xa81a664b,0xc24b8b70,0xc76c51a3,0xd192e819,0xd6990624,0xf40e3585,0x106aa070,0x19a4c116,0x1e376c08,0x2748774c,0x34b0bcb5,0x391c0cb3,0x4ed8aa4a,0x5b9cca4f,0x682e6ff3,0x748f82ee,0x78a5636f,0x84c87814,0x8cc70208,0x90befffa,0xa4506ceb,0xbef9a3f7,0xc67178f2]),g=new Uint32Array([0x6a09e667,0xbb67ae85,0x3c6ef372,0xa54ff53a,0x510e527f,0x9b05688c,0x1f83d9ab,0x5be0cd19]),h=new Uint32Array(64);class i extends b.SHA2{constructor(){super(64,32,8,!1),this.A=0|g[0],this.B=0|g[1],this.C=0|g[2],this.D=0|g[3],this.E=0|g[4],this.F=0|g[5],this.G=0|g[6],this.H=0|g[7]}get(){let{A:a,B:b,C:c,D:d,E:e,F:f,G:g,H:h}=this;return[a,b,c,d,e,f,g,h]}set(a,b,c,d,e,f,g,h){this.A=0|a,this.B=0|b,this.C=0|c,this.D=0|d,this.E=0|e,this.F=0|f,this.G=0|g,this.H=0|h}process(a,b){for(let c=0;c<16;c++,b+=4)h[c]=a.getUint32(b,!1);for(let a=16;a<64;a++){let b=h[a-15],d=h[a-2],e=(0,c.rotr)(b,7)^(0,c.rotr)(b,18)^b>>>3,f=(0,c.rotr)(d,17)^(0,c.rotr)(d,19)^d>>>10;h[a]=f+h[a-7]+e+h[a-16]|0}let{A:g,B:i,C:j,D:k,E:l,F:m,G:n,H:o}=this;for(let a=0;a<64;a++){let b=o+((0,c.rotr)(l,6)^(0,c.rotr)(l,11)^(0,c.rotr)(l,25))+d(l,m,n)+f[a]+h[a]|0,p=((0,c.rotr)(g,2)^(0,c.rotr)(g,13)^(0,c.rotr)(g,22))+e(g,i,j)|0;o=n,n=m,m=l,l=k+b|0,k=j,j=i,i=g,g=b+p|0}g=g+this.A|0,i=i+this.B|0,j=j+this.C|0,k=k+this.D|0,l=l+this.E|0,m=m+this.F|0,n=n+this.G|0,o=o+this.H|0,this.set(g,i,j,k,l,m,n,o)}roundClean(){h.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}let j=(0,c.wrapConstructor)(()=>new i);a.s(["sha256",0,j])},59029,7140,42587,57871,a=>{"use strict";let b=BigInt(0),c=BigInt(1),d=BigInt(2),e=Array.from({length:256},(a,b)=>b.toString(16).padStart(2,"0"));function f(a){if(!(a instanceof Uint8Array))throw Error("Uint8Array expected");let b="";for(let c=0;c<a.length;c++)b+=e[a[c]];return b}function g(a){let b=a.toString(16);return 1&b.length?`0${b}`:b}function h(a){if("string"!=typeof a)throw Error("hex string expected, got "+typeof a);return BigInt(""===a?"0":`0x${a}`)}function i(a){if("string"!=typeof a)throw Error("hex string expected, got "+typeof a);let b=a.length;if(b%2)throw Error("padded hex string expected, got unpadded hex of length "+b);let c=new Uint8Array(b/2);for(let b=0;b<c.length;b++){let d=2*b,e=Number.parseInt(a.slice(d,d+2),16);if(Number.isNaN(e)||e<0)throw Error("Invalid byte sequence");c[b]=e}return c}function j(a){return h(f(a))}function k(a){if(!(a instanceof Uint8Array))throw Error("Uint8Array expected");return h(f(Uint8Array.from(a).reverse()))}function l(a,b){return i(a.toString(16).padStart(2*b,"0"))}function m(a,b){return l(a,b).reverse()}function n(a){return i(g(a))}function o(a,b,c){let d;if("string"==typeof b)try{d=i(b)}catch(c){throw Error(`${a} must be valid hex string, got "${b}". Cause: ${c}`)}else if(b instanceof Uint8Array)d=Uint8Array.from(b);else throw Error(`${a} must be hex string or Uint8Array`);let e=d.length;if("number"==typeof c&&e!==c)throw Error(`${a} expected ${c} bytes, got ${e}`);return d}function p(...a){let b=new Uint8Array(a.reduce((a,b)=>a+b.length,0)),c=0;return a.forEach(a=>{if(!(a instanceof Uint8Array))throw Error("Uint8Array expected");b.set(a,c),c+=a.length}),b}function q(a,b){if(a.length!==b.length)return!1;for(let c=0;c<a.length;c++)if(a[c]!==b[c])return!1;return!0}function r(a){if("string"!=typeof a)throw Error(`utf8ToBytes expected string, got ${typeof a}`);return new Uint8Array(new TextEncoder().encode(a))}function s(a){let d;for(d=0;a>b;a>>=c,d+=1);return d}function t(a,b){return a>>BigInt(b)&c}let u=a=>(d<<BigInt(a-1))-c,v=a=>new Uint8Array(a);function w(a,b,c){if("number"!=typeof a||a<2)throw Error("hashLen must be a number");if("number"!=typeof b||b<2)throw Error("qByteLen must be a number");if("function"!=typeof c)throw Error("hmacFn must be a function");let d=v(a),e=v(a),f=0,g=()=>{d.fill(1),e.fill(0),f=0},h=(...a)=>c(e,d,...a),i=(a=v())=>{let b;if(e=h((b=[0],Uint8Array.from(b)),a),d=h(),0!==a.length){let b;e=h((b=[1],Uint8Array.from(b)),a),d=h()}},j=()=>{if(f++>=1e3)throw Error("drbg: tried 1000 values");let a=0,c=[];for(;a<b;){let b=(d=h()).slice();c.push(b),a+=d.length}return p(...c)};return(a,b)=>{let c;for(g(),i(a);!(c=b(j()));)i();return g(),c}}let x={bigint:a=>"bigint"==typeof a,function:a=>"function"==typeof a,boolean:a=>"boolean"==typeof a,string:a=>"string"==typeof a,stringOrUint8Array:a=>"string"==typeof a||a instanceof Uint8Array,isSafeInteger:a=>Number.isSafeInteger(a),array:a=>Array.isArray(a),field:(a,b)=>b.Fp.isValid(a),hash:a=>"function"==typeof a&&Number.isSafeInteger(a.outputLen)};function y(a,b,c={}){let d=(b,c,d)=>{let e=x[c];if("function"!=typeof e)throw Error(`Invalid validator "${c}", expected function`);let f=a[b];if((!d||void 0!==f)&&!e(f,a))throw Error(`Invalid param ${String(b)}=${f} (${typeof f}), expected ${c}`)};for(let[a,c]of Object.entries(b))d(a,c,!1);for(let[a,b]of Object.entries(c))d(a,b,!0);return a}a.s(["bitGet",()=>t,"bitLen",()=>s,"bitMask",0,u,"bitSet",0,(a,d,e)=>a|(e?c:b)<<BigInt(d),"bytesToHex",()=>f,"bytesToNumberBE",()=>j,"bytesToNumberLE",()=>k,"concatBytes",()=>p,"createHmacDrbg",()=>w,"ensureBytes",()=>o,"equalBytes",()=>q,"hexToBytes",()=>i,"hexToNumber",()=>h,"numberToBytesBE",()=>l,"numberToBytesLE",()=>m,"numberToHexUnpadded",()=>g,"numberToVarBytesBE",()=>n,"utf8ToBytes",()=>r,"validateObject",()=>y],7140);let z=BigInt(0),A=BigInt(1),B=BigInt(2),C=BigInt(3),D=BigInt(4),E=BigInt(5),F=BigInt(8);function G(a,b){let c=a%b;return c>=z?c:b+c}function H(a,b,c){let d=a;for(;b-- >z;)d*=d,d%=c;return d}function I(a,b){if(a===z||b<=z)throw Error(`invert: expected positive integers, got n=${a} mod=${b}`);let c=G(a,b),d=b,e=z,f=A,g=A,h=z;for(;c!==z;){let a=d/c,b=d%c,i=e-g*a,j=f-h*a;d=c,c=b,e=g,f=h,g=i,h=j}if(d!==A)throw Error("invert: does not exist");return G(e,b)}BigInt(9),BigInt(16);let J=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function K(a){return y(a,J.reduce((a,b)=>(a[b]="function",a),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"}))}function L(a,b){let c=void 0!==b?b:a.toString(2).length,d=Math.ceil(c/8);return{nBitLength:c,nByteLength:d}}function M(a,b,c=!1,d={}){if(a<=z)throw Error(`Expected Field ORDER > 0, got ${a}`);let{nBitLength:e,nByteLength:f}=L(a,b);if(f>2048)throw Error("Field lengths over 2048 bytes are not supported");let g=function(a){if(a%D===C){let b=(a+A)/D;return function(a,c){let d=a.pow(c,b);if(!a.eql(a.sqr(d),c))throw Error("Cannot find square root");return d}}if(a%F===E){let b=(a-E)/F;return function(a,c){let d=a.mul(c,B),e=a.pow(d,b),f=a.mul(c,e),g=a.mul(a.mul(f,B),e),h=a.mul(f,a.sub(g,a.ONE));if(!a.eql(a.sqr(h),c))throw Error("Cannot find square root");return h}}return function(a){let b,c,d,e=(a-A)/B;for(b=a-A,c=0;b%B===z;b/=B,c++);for(d=B;d<a&&function(a,b,c){if(c<=z||b<z)throw Error("Expected power/modulo > 0");if(c===A)return z;let d=A;for(;b>z;)b&A&&(d=d*a%c),a=a*a%c,b>>=A;return d}(d,e,a)!==a-A;d++);if(1===c){let b=(a+A)/D;return function(a,c){let d=a.pow(c,b);if(!a.eql(a.sqr(d),c))throw Error("Cannot find square root");return d}}let f=(b+A)/B;return function(a,g){if(a.pow(g,e)===a.neg(a.ONE))throw Error("Cannot find square root");let h=c,i=a.pow(a.mul(a.ONE,d),b),j=a.pow(g,f),k=a.pow(g,b);for(;!a.eql(k,a.ONE);){if(a.eql(k,a.ZERO))return a.ZERO;let b=1;for(let c=a.sqr(k);b<h&&!a.eql(c,a.ONE);b++)c=a.sqr(c);let c=a.pow(i,A<<BigInt(h-b-1));i=a.sqr(c),j=a.mul(j,c),k=a.mul(k,i),h=b}return j}}(a)}(a),h=Object.freeze({ORDER:a,BITS:e,BYTES:f,MASK:u(e),ZERO:z,ONE:A,create:b=>G(b,a),isValid:b=>{if("bigint"!=typeof b)throw Error(`Invalid field element: expected bigint, got ${typeof b}`);return z<=b&&b<a},is0:a=>a===z,isOdd:a=>(a&A)===A,neg:b=>G(-b,a),eql:(a,b)=>a===b,sqr:b=>G(b*b,a),add:(b,c)=>G(b+c,a),sub:(b,c)=>G(b-c,a),mul:(b,c)=>G(b*c,a),pow:(a,b)=>(function(a,b,c){if(c<z)throw Error("Expected power > 0");if(c===z)return a.ONE;if(c===A)return b;let d=a.ONE,e=b;for(;c>z;)c&A&&(d=a.mul(d,e)),e=a.sqr(e),c>>=A;return d})(h,a,b),div:(b,c)=>G(b*I(c,a),a),sqrN:a=>a*a,addN:(a,b)=>a+b,subN:(a,b)=>a-b,mulN:(a,b)=>a*b,inv:b=>I(b,a),sqrt:d.sqrt||(a=>g(h,a)),invertBatch:a=>{let b,c,d;return b=Array(a.length),c=a.reduce((a,c,d)=>h.is0(c)?a:(b[d]=a,h.mul(a,c)),h.ONE),d=h.inv(c),a.reduceRight((a,c,d)=>h.is0(c)?a:(b[d]=h.mul(a,b[d]),h.mul(a,c)),d),b},cmov:(a,b,c)=>c?b:a,toBytes:a=>c?m(a,f):l(a,f),fromBytes:a=>{if(a.length!==f)throw Error(`Fp.fromBytes: expected ${f}, got ${a.length}`);return c?k(a):j(a)}});return Object.freeze(h)}function N(a){if("bigint"!=typeof a)throw Error("field order must be bigint");return Math.ceil(a.toString(2).length/8)}function O(a){let b=N(a);return b+Math.ceil(b/2)}function P(a,b,c=!1){let d=a.length,e=N(b),f=O(b);if(d<16||d<f||d>1024)throw Error(`expected ${f}-1024 bytes of input, got ${d}`);let g=G(c?j(a):k(a),b-A)+A;return c?m(g,e):l(g,e)}a.s(["Field",()=>M,"getMinHashLength",()=>O,"invert",()=>I,"mapHashToField",()=>P,"mod",()=>G,"nLength",()=>L,"pow2",()=>H,"validateField",()=>K],59029);var Q=a.i(7140);let R=BigInt(0),S=BigInt(1);function T(a){return K(a.Fp),y(a,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...L(a.n,a.nBitLength),...a,...{p:a.Fp.ORDER}})}let{bytesToNumberBE:U,hexToBytes:V}=Q,W={Err:class extends Error{constructor(a=""){super(a)}},_parseInt(a){let{Err:b}=W;if(a.length<2||2!==a[0])throw new b("Invalid signature integer tag");let c=a[1],d=a.subarray(2,c+2);if(!c||d.length!==c)throw new b("Invalid signature integer: wrong length");if(128&d[0])throw new b("Invalid signature integer: negative");if(0===d[0]&&!(128&d[1]))throw new b("Invalid signature integer: unnecessary leading zero");return{d:U(d),l:a.subarray(c+2)}},toSig(a){let{Err:b}=W,c="string"==typeof a?V(a):a;if(!(c instanceof Uint8Array))throw Error("ui8a expected");let d=c.length;if(d<2||48!=c[0])throw new b("Invalid signature tag");if(c[1]!==d-2)throw new b("Invalid signature: incorrect length");let{d:e,l:f}=W._parseInt(c.subarray(2)),{d:g,l:h}=W._parseInt(f);if(h.length)throw new b("Invalid signature: left bytes after parsing");return{r:e,s:g}},hexFromSig(a){let b=a=>8&Number.parseInt(a[0],16)?"00"+a:a,c=a=>{let b=a.toString(16);return 1&b.length?`0${b}`:b},d=b(c(a.s)),e=b(c(a.r)),f=d.length/2,g=e.length/2,h=c(f),i=c(g);return`30${c(g+f+4)}02${i}${e}02${h}${d}`}},X=BigInt(0),Y=BigInt(1),Z=BigInt(2),$=BigInt(3),_=BigInt(4);function aa(a){let b,c=(b=T(a),Q.validateObject(b,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...b})),{Fp:d,n:e}=c,f=d.BYTES+1,g=2*d.BYTES+1;function h(a){return G(a,e)}let{ProjectivePoint:i,normPrivateKeyToScalar:j,weierstrassEquation:k,isWithinCurveOrder:l}=function(a){var b;let c,d,e=function(a){let b=T(a);Q.validateObject(b,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});let{endo:c,Fp:d,a:e}=b;if(c){if(!d.eql(e,d.ZERO))throw Error("Endomorphism can only be defined for Koblitz curves that have a=0");if("object"!=typeof c||"bigint"!=typeof c.beta||"function"!=typeof c.splitScalar)throw Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...b})}(a),{Fp:f}=e,g=e.toBytes||((a,b,c)=>{let d=b.toAffine();return Q.concatBytes(Uint8Array.from([4]),f.toBytes(d.x),f.toBytes(d.y))}),h=e.fromBytes||(a=>{let b=a.subarray(1);return{x:f.fromBytes(b.subarray(0,f.BYTES)),y:f.fromBytes(b.subarray(f.BYTES,2*f.BYTES))}});function i(a){let{a:b,b:c}=e,d=f.sqr(a),g=f.mul(d,a);return f.add(f.add(g,f.mul(a,b)),c)}if(!f.eql(f.sqr(e.Gy),i(e.Gx)))throw Error("bad generator point: equation left != right");function j(a){return"bigint"==typeof a&&X<a&&a<e.n}function k(a){if(!j(a))throw Error("Expected valid bigint: 0 < bigint < curve.n")}function l(a){let b,{allowedPrivateKeyLengths:c,nByteLength:d,wrapPrivateKey:f,n:g}=e;if(c&&"bigint"!=typeof a){if(a instanceof Uint8Array&&(a=Q.bytesToHex(a)),"string"!=typeof a||!c.includes(a.length))throw Error("Invalid key");a=a.padStart(2*d,"0")}try{b="bigint"==typeof a?a:Q.bytesToNumberBE(o("private key",a,d))}catch(b){throw Error(`private key must be ${d} bytes, hex or bigint, not ${typeof a}`)}return f&&(b=G(b,g)),k(b),b}let m=new Map;function n(a){if(!(a instanceof p))throw Error("ProjectivePoint expected")}class p{constructor(a,b,c){if(this.px=a,this.py=b,this.pz=c,null==a||!f.isValid(a))throw Error("x required");if(null==b||!f.isValid(b))throw Error("y required");if(null==c||!f.isValid(c))throw Error("z required")}static fromAffine(a){let{x:b,y:c}=a||{};if(!a||!f.isValid(b)||!f.isValid(c))throw Error("invalid affine point");if(a instanceof p)throw Error("projective point not allowed");let d=a=>f.eql(a,f.ZERO);return d(b)&&d(c)?p.ZERO:new p(b,c,f.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(a){let b=f.invertBatch(a.map(a=>a.pz));return a.map((a,c)=>a.toAffine(b[c])).map(p.fromAffine)}static fromHex(a){let b=p.fromAffine(h(o("pointHex",a)));return b.assertValidity(),b}static fromPrivateKey(a){return p.BASE.multiply(l(a))}_setWindowSize(a){this._WINDOW_SIZE=a,m.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint&&!f.is0(this.py))return;throw Error("bad point: ZERO")}let{x:a,y:b}=this.toAffine();if(!f.isValid(a)||!f.isValid(b))throw Error("bad point: x or y not FE");let c=f.sqr(b),d=i(a);if(!f.eql(c,d))throw Error("bad point: equation left != right");if(!this.isTorsionFree())throw Error("bad point: not in prime-order subgroup")}hasEvenY(){let{y:a}=this.toAffine();if(f.isOdd)return!f.isOdd(a);throw Error("Field doesn't support isOdd")}equals(a){n(a);let{px:b,py:c,pz:d}=this,{px:e,py:g,pz:h}=a,i=f.eql(f.mul(b,h),f.mul(e,d)),j=f.eql(f.mul(c,h),f.mul(g,d));return i&&j}negate(){return new p(this.px,f.neg(this.py),this.pz)}double(){let{a,b}=e,c=f.mul(b,$),{px:d,py:g,pz:h}=this,i=f.ZERO,j=f.ZERO,k=f.ZERO,l=f.mul(d,d),m=f.mul(g,g),n=f.mul(h,h),o=f.mul(d,g);return o=f.add(o,o),k=f.mul(d,h),k=f.add(k,k),i=f.mul(a,k),j=f.mul(c,n),j=f.add(i,j),i=f.sub(m,j),j=f.add(m,j),j=f.mul(i,j),i=f.mul(o,i),k=f.mul(c,k),n=f.mul(a,n),o=f.sub(l,n),o=f.mul(a,o),o=f.add(o,k),k=f.add(l,l),l=f.add(k,l),l=f.add(l,n),l=f.mul(l,o),j=f.add(j,l),n=f.mul(g,h),n=f.add(n,n),l=f.mul(n,o),i=f.sub(i,l),k=f.mul(n,m),k=f.add(k,k),new p(i,j,k=f.add(k,k))}add(a){n(a);let{px:b,py:c,pz:d}=this,{px:g,py:h,pz:i}=a,j=f.ZERO,k=f.ZERO,l=f.ZERO,m=e.a,o=f.mul(e.b,$),q=f.mul(b,g),r=f.mul(c,h),s=f.mul(d,i),t=f.add(b,c),u=f.add(g,h);t=f.mul(t,u),u=f.add(q,r),t=f.sub(t,u),u=f.add(b,d);let v=f.add(g,i);return u=f.mul(u,v),v=f.add(q,s),u=f.sub(u,v),v=f.add(c,d),j=f.add(h,i),v=f.mul(v,j),j=f.add(r,s),v=f.sub(v,j),l=f.mul(m,u),j=f.mul(o,s),l=f.add(j,l),j=f.sub(r,l),l=f.add(r,l),k=f.mul(j,l),r=f.add(q,q),r=f.add(r,q),s=f.mul(m,s),u=f.mul(o,u),r=f.add(r,s),s=f.sub(q,s),s=f.mul(m,s),u=f.add(u,s),q=f.mul(r,u),k=f.add(k,q),q=f.mul(v,u),j=f.mul(t,j),j=f.sub(j,q),q=f.mul(t,r),l=f.mul(v,l),new p(j,k,l=f.add(l,q))}subtract(a){return this.add(a.negate())}is0(){return this.equals(p.ZERO)}wNAF(a){return r.wNAFCached(this,m,a,a=>{let b=f.invertBatch(a.map(a=>a.pz));return a.map((a,c)=>a.toAffine(b[c])).map(p.fromAffine)})}multiplyUnsafe(a){let b=p.ZERO;if(a===X)return b;if(k(a),a===Y)return this;let{endo:c}=e;if(!c)return r.unsafeLadder(this,a);let{k1neg:d,k1:g,k2neg:h,k2:i}=c.splitScalar(a),j=b,l=b,m=this;for(;g>X||i>X;)g&Y&&(j=j.add(m)),i&Y&&(l=l.add(m)),m=m.double(),g>>=Y,i>>=Y;return d&&(j=j.negate()),h&&(l=l.negate()),l=new p(f.mul(l.px,c.beta),l.py,l.pz),j.add(l)}multiply(a){let b,c;k(a);let{endo:d}=e;if(d){let{k1neg:e,k1:g,k2neg:h,k2:i}=d.splitScalar(a),{p:j,f:k}=this.wNAF(g),{p:l,f:m}=this.wNAF(i);j=r.constTimeNegate(e,j),l=r.constTimeNegate(h,l),l=new p(f.mul(l.px,d.beta),l.py,l.pz),b=j.add(l),c=k.add(m)}else{let{p:d,f:e}=this.wNAF(a);b=d,c=e}return p.normalizeZ([b,c])[0]}multiplyAndAddUnsafe(a,b,c){let d=p.BASE,e=(a,b)=>b!==X&&b!==Y&&a.equals(d)?a.multiply(b):a.multiplyUnsafe(b),f=e(this,b).add(e(a,c));return f.is0()?void 0:f}toAffine(a){let{px:b,py:c,pz:d}=this,e=this.is0();null==a&&(a=e?f.ONE:f.inv(d));let g=f.mul(b,a),h=f.mul(c,a),i=f.mul(d,a);if(e)return{x:f.ZERO,y:f.ZERO};if(!f.eql(i,f.ONE))throw Error("invZ was invalid");return{x:g,y:h}}isTorsionFree(){let{h:a,isTorsionFree:b}=e;if(a===Y)return!0;if(b)return b(p,this);throw Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){let{h:a,clearCofactor:b}=e;return a===Y?this:b?b(p,this):this.multiplyUnsafe(e.h)}toRawBytes(a=!0){return this.assertValidity(),g(p,this,a)}toHex(a=!0){return Q.bytesToHex(this.toRawBytes(a))}}p.BASE=new p(e.Gx,e.Gy,f.ONE),p.ZERO=new p(f.ZERO,f.ONE,f.ZERO);let q=e.nBitLength,r=(b=e.endo?Math.ceil(q/2):q,c=(a,b)=>{let c=b.negate();return a?c:b},d=a=>({windows:Math.ceil(b/a)+1,windowSize:2**(a-1)}),{constTimeNegate:c,unsafeLadder(a,b){let c=p.ZERO,d=a;for(;b>R;)b&S&&(c=c.add(d)),d=d.double(),b>>=S;return c},precomputeWindow(a,b){let{windows:c,windowSize:e}=d(b),f=[],g=a,h=g;for(let a=0;a<c;a++){h=g,f.push(h);for(let a=1;a<e;a++)h=h.add(g),f.push(h);g=h.double()}return f},wNAF(a,b,e){let{windows:f,windowSize:g}=d(a),h=p.ZERO,i=p.BASE,j=BigInt(2**a-1),k=2**a,l=BigInt(a);for(let a=0;a<f;a++){let d=a*g,f=Number(e&j);e>>=l,f>g&&(f-=k,e+=S);let m=d+Math.abs(f)-1,n=a%2!=0,o=f<0;0===f?i=i.add(c(n,b[d])):h=h.add(c(o,b[m]))}return{p:h,f:i}},wNAFCached(a,b,c,d){let e=a._WINDOW_SIZE||1,f=b.get(a);return f||(f=this.precomputeWindow(a,e),1!==e&&b.set(a,d(f))),this.wNAF(e,f,c)}});return{CURVE:e,ProjectivePoint:p,normPrivateKeyToScalar:l,weierstrassEquation:i,isWithinCurveOrder:j}}({...c,toBytes(a,b,c){let e=b.toAffine(),f=d.toBytes(e.x),g=Q.concatBytes;return c?g(Uint8Array.from([b.hasEvenY()?2:3]),f):g(Uint8Array.from([4]),f,d.toBytes(e.y))},fromBytes(a){let b=a.length,c=a[0],e=a.subarray(1);if(b===f&&(2===c||3===c)){let a=Q.bytesToNumberBE(e);if(!(X<a&&a<d.ORDER))throw Error("Point is not on curve");let b=k(a),f=d.sqrt(b);return(1&c)==1!=((f&Y)===Y)&&(f=d.neg(f)),{x:a,y:f}}if(b===g&&4===c)return{x:d.fromBytes(e.subarray(0,d.BYTES)),y:d.fromBytes(e.subarray(d.BYTES,2*d.BYTES))};throw Error(`Point of length ${b} was invalid. Expected ${f} compressed bytes or ${g} uncompressed bytes`)}}),m=a=>Q.bytesToHex(Q.numberToBytesBE(a,c.nByteLength)),n=(a,b,c)=>Q.bytesToNumberBE(a.slice(b,c));class p{constructor(a,b,c){this.r=a,this.s=b,this.recovery=c,this.assertValidity()}static fromCompact(a){let b=c.nByteLength;return new p(n(a=o("compactSignature",a,2*b),0,b),n(a,b,2*b))}static fromDER(a){let{r:b,s:c}=W.toSig(o("DER",a));return new p(b,c)}assertValidity(){if(!l(this.r))throw Error("r must be 0 < r < CURVE.n");if(!l(this.s))throw Error("s must be 0 < s < CURVE.n")}addRecoveryBit(a){return new p(this.r,this.s,a)}recoverPublicKey(a){let{r:b,s:f,recovery:g}=this,j=s(o("msgHash",a));if(null==g||![0,1,2,3].includes(g))throw Error("recovery id invalid");let k=2===g||3===g?b+c.n:b;if(k>=d.ORDER)throw Error("recovery id 2 or 3 invalid");let l=(1&g)==0?"02":"03",n=i.fromHex(l+m(k)),p=I(k,e),q=h(-j*p),r=h(f*p),t=i.BASE.multiplyAndAddUnsafe(n,q,r);if(!t)throw Error("point at infinify");return t.assertValidity(),t}hasHighS(){return this.s>e>>Y}normalizeS(){return this.hasHighS()?new p(this.r,h(-this.s),this.recovery):this}toDERRawBytes(){return Q.hexToBytes(this.toDERHex())}toDERHex(){return W.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Q.hexToBytes(this.toCompactHex())}toCompactHex(){return m(this.r)+m(this.s)}}function q(a){let b=a instanceof Uint8Array,c="string"==typeof a,d=(b||c)&&a.length;return b?d===f||d===g:c?d===2*f||d===2*g:a instanceof i}let r=c.bits2int||function(a){let b=Q.bytesToNumberBE(a),d=8*a.length-c.nBitLength;return d>0?b>>BigInt(d):b},s=c.bits2int_modN||function(a){return h(r(a))},t=Q.bitMask(c.nBitLength);function u(a){if("bigint"!=typeof a)throw Error("bigint expected");if(!(X<=a&&a<t))throw Error(`bigint expected < 2^${c.nBitLength}`);return Q.numberToBytesBE(a,c.nByteLength)}let v={lowS:c.lowS,prehash:!1},w={lowS:c.lowS,prehash:!1};return i.BASE._setWindowSize(8),{CURVE:c,getPublicKey:function(a,b=!0){return i.fromPrivateKey(a).toRawBytes(b)},getSharedSecret:function(a,b,c=!0){if(q(a))throw Error("first arg must be private key");if(!q(b))throw Error("second arg must be public key");return i.fromHex(b).multiply(j(a)).toRawBytes(c)},sign:function(a,b,f=v){let{seed:g,k2sig:k}=function(a,b,f=v){if(["recovered","canonical"].some(a=>a in f))throw Error("sign() legacy options not supported");let{hash:g,randomBytes:k}=c,{lowS:m,prehash:n,extraEntropy:q}=f;null==m&&(m=!0),a=o("msgHash",a),n&&(a=o("prehashed msgHash",g(a)));let t=s(a),w=j(b),x=[u(w),u(t)];if(null!=q){let a=!0===q?k(d.BYTES):q;x.push(o("extraEntropy",a))}return{seed:Q.concatBytes(...x),k2sig:function(a){var b;let c=r(a);if(!l(c))return;let d=I(c,e),f=i.BASE.multiply(c).toAffine(),g=h(f.x);if(g===X)return;let j=h(d*h(t+g*w));if(j===X)return;let k=2*(f.x!==g)|Number(f.y&Y),n=j;return m&&j>e>>Y&&(n=(b=j)>e>>Y?h(-b):b,k^=1),new p(g,n,k)}}}(a,b,f);return Q.createHmacDrbg(c.hash.outputLen,c.nByteLength,c.hmac)(g,k)},verify:function(a,b,d,f=w){let g,j;if(b=o("msgHash",b),d=o("publicKey",d),"strict"in f)throw Error("options.strict was renamed to lowS");let{lowS:k,prehash:l}=f;try{if("string"==typeof a||a instanceof Uint8Array)try{j=p.fromDER(a)}catch(b){if(!(b instanceof W.Err))throw b;j=p.fromCompact(a)}else if("object"==typeof a&&"bigint"==typeof a.r&&"bigint"==typeof a.s){let{r:b,s:c}=a;j=new p(b,c)}else throw Error("PARSE");g=i.fromHex(d)}catch(a){if("PARSE"===a.message)throw Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(k&&j.hasHighS())return!1;l&&(b=c.hash(b));let{r:m,s:n}=j,q=s(b),r=I(n,e),t=h(q*r),u=h(m*r),v=i.BASE.multiplyAndAddUnsafe(g,t,u)?.toAffine();return!!v&&h(v.x)===m},ProjectivePoint:i,Signature:p,utils:{isValidPrivateKey(a){try{return j(a),!0}catch(a){return!1}},normPrivateKeyToScalar:j,randomPrivateKey:()=>{let a=O(c.n);return P(c.randomBytes(a),c.n)},precompute:(a=8,b=i.BASE)=>(b._setWindowSize(a),b.multiply(BigInt(3)),b)}}}function ab(a,b){if(K(a),!a.isValid(b.A)||!a.isValid(b.B)||!a.isValid(b.Z))throw Error("mapToCurveSimpleSWU: invalid opts");let c=function(a,b){let c=a.ORDER,d=X;for(let a=c-Y;a%Z===X;a/=Z)d+=Y;let e=d,f=Z<<e-Y-Y,g=f*Z,h=(c-Y)/g,i=(h-Y)/Z,j=g-Y,k=a.pow(b,h),l=a.pow(b,(h+Y)/Z),m=(b,c)=>{let d=k,g=a.pow(c,j),h=a.sqr(g);h=a.mul(h,c);let m=a.mul(b,h);m=a.pow(m,i),m=a.mul(m,g),g=a.mul(m,c),h=a.mul(m,b);let n=a.mul(h,g);m=a.pow(n,f);let o=a.eql(m,a.ONE);g=a.mul(h,l),m=a.mul(n,d),h=a.cmov(g,h,o),n=a.cmov(m,n,o);for(let b=e;b>Y;b--){let c=b-Z;c=Z<<c-Y;let e=a.pow(n,c),f=a.eql(e,a.ONE);g=a.mul(h,d),d=a.mul(d,d),e=a.mul(n,d),h=a.cmov(g,h,f),n=a.cmov(e,n,f)}return{isValid:o,value:h}};if(a.ORDER%_===$){let c=(a.ORDER-$)/_,d=a.sqrt(a.neg(b));m=(b,e)=>{let f=a.sqr(e),g=a.mul(b,e);f=a.mul(f,g);let h=a.pow(f,c);h=a.mul(h,g);let i=a.mul(h,d),j=a.mul(a.sqr(h),e),k=a.eql(j,b),l=a.cmov(i,h,k);return{isValid:k,value:l}}}return m}(a,b.Z);if(!a.isOdd)throw Error("Fp.isOdd is not implemented!");return d=>{let e,f,g,h,i,j,k,l;e=a.sqr(d),e=a.mul(e,b.Z),f=a.sqr(e),f=a.add(f,e),g=a.add(f,a.ONE),g=a.mul(g,b.B),h=a.cmov(b.Z,a.neg(f),!a.eql(f,a.ZERO)),h=a.mul(h,b.A),f=a.sqr(g),j=a.sqr(h),i=a.mul(j,b.A),f=a.add(f,i),f=a.mul(f,g),j=a.mul(j,h),i=a.mul(j,b.B),f=a.add(f,i),k=a.mul(e,g);let{isValid:m,value:n}=c(f,j);l=a.mul(e,d),l=a.mul(l,n),k=a.cmov(k,g,m),l=a.cmov(l,n,m);let o=a.isOdd(d)===a.isOdd(l);return l=a.cmov(a.neg(l),l,o),{x:k=a.div(k,h),y:l}}}function ac(a,b){if(a<0||a>=1<<8*b)throw Error(`bad I2OSP call: value=${a} length=${b}`);let c=Array.from({length:b}).fill(0);for(let d=b-1;d>=0;d--)c[d]=255&a,a>>>=8;return new Uint8Array(c)}function ad(a){if(!(a instanceof Uint8Array))throw Error("Uint8Array expected")}function ae(a){if(!Number.isSafeInteger(a))throw Error("number expected")}function af(a,b,c){let d;y(c,{DST:"stringOrUint8Array",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});let{p:e,k:f,m:g,hash:h,expand:i,DST:k}=c;ad(a),ae(b);let l=function(a){if(a instanceof Uint8Array)return a;if("string"==typeof a)return r(a);throw Error("DST must be Uint8Array or string")}(k),m=Math.ceil((e.toString(2).length+f)/8),n=b*g*m;if("xmd"===i)d=function(a,b,c,d){ad(a),ad(b),ae(c),b.length>255&&(b=d(p(r("H2C-OVERSIZE-DST-"),b)));let{outputLen:e,blockLen:f}=d,g=Math.ceil(c/e);if(g>255)throw Error("Invalid xmd length");let h=p(b,ac(b.length,1)),i=ac(0,f),j=ac(c,2),k=Array(g),l=d(p(i,a,j,ac(0,1),h));k[0]=d(p(l,ac(1,1),h));for(let a=1;a<=g;a++){let b=[function(a,b){let c=new Uint8Array(a.length);for(let d=0;d<a.length;d++)c[d]=a[d]^b[d];return c}(l,k[a-1]),ac(a+1,1),h];k[a]=d(p(...b))}return p(...k).slice(0,c)}(a,l,n,h);else if("xof"===i)d=function(a,b,c,d,e){if(ad(a),ad(b),ae(c),b.length>255){let a=Math.ceil(2*d/8);b=e.create({dkLen:a}).update(r("H2C-OVERSIZE-DST-")).update(b).digest()}if(c>65535||b.length>255)throw Error("expand_message_xof: invalid lenInBytes");return e.create({dkLen:c}).update(a).update(ac(c,2)).update(b).update(ac(b.length,1)).digest()}(a,l,n,f,h);else if("_internal_pass"===i)d=a;else throw Error('expand must be "xmd" or "xof"');let o=Array(b);for(let a=0;a<b;a++){let b=Array(g);for(let c=0;c<g;c++){let f=m*(c+a*g),h=d.subarray(f,f+m);b[c]=G(j(h),e)}o[a]=b}return o}function ag(a,b){let c=b.map(a=>Array.from(a).reverse());return(b,d)=>{let[e,f,g,h]=c.map(c=>c.reduce((c,d)=>a.add(a.mul(c,b),d)));return b=a.div(e,f),d=a.mul(d,a.div(g,h)),{x:b,y:d}}}function ah(a,b,c){if("function"!=typeof b)throw Error("mapToCurve() must be defined");return{hashToCurve(d,e){let f=af(d,2,{...c,DST:c.DST,...e}),g=a.fromAffine(b(f[0])),h=a.fromAffine(b(f[1])),i=g.add(h).clearCofactor();return i.assertValidity(),i},encodeToCurve(d,e){let f=af(d,1,{...c,DST:c.encodeDST,...e}),g=a.fromAffine(b(f[0])).clearCofactor();return g.assertValidity(),g}}}a.s(["mapToCurveSimpleSWU",()=>ab,"weierstrass",()=>aa],42587),a.s(["createHasher",()=>ah,"isogenyMap",()=>ag],57871)},57162,a=>{"use strict";var b=a.i(56415),c=a.i(77832);class d extends c.Hash{constructor(a,d){super(),this.finished=!1,this.destroyed=!1,(0,b.hash)(a);const e=(0,c.toBytes)(d);if(this.iHash=a.create(),"function"!=typeof this.iHash.update)throw Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const f=this.blockLen,g=new Uint8Array(f);g.set(e.length>f?a.create().update(e).digest():e);for(let a=0;a<g.length;a++)g[a]^=54;this.iHash.update(g),this.oHash=a.create();for(let a=0;a<g.length;a++)g[a]^=106;this.oHash.update(g),g.fill(0)}update(a){return(0,b.exists)(this),this.iHash.update(a),this}digestInto(a){(0,b.exists)(this),(0,b.bytes)(a,this.outputLen),this.finished=!0,this.iHash.digestInto(a),this.oHash.update(a),this.oHash.digestInto(a),this.destroy()}digest(){let a=new Uint8Array(this.oHash.outputLen);return this.digestInto(a),a}_cloneInto(a){a||(a=Object.create(Object.getPrototypeOf(this),{}));let{oHash:b,iHash:c,finished:d,destroyed:e,blockLen:f,outputLen:g}=this;return a.finished=d,a.destroyed=e,a.blockLen=f,a.outputLen=g,a.oHash=b._cloneInto(a.oHash),a.iHash=c._cloneInto(a.iHash),a}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}let e=(a,b,c)=>new d(a,b).update(c).digest();e.create=(a,b)=>new d(a,b),a.s(["hmac",0,e])},54476,a=>{"use strict";let b;var c,d,e=a.i(34160),f=a.i(77832),g=a.i(59029),h=a.i(42587),i=a.i(7140),j=a.i(57871),k=a.i(57162);let l=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),m=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),n=BigInt(1),o=BigInt(2),p=(a,b)=>(a+b/o)/b,q=(0,g.Field)(l,void 0,void 0,{sqrt:function(a){let b=BigInt(3),c=BigInt(6),d=BigInt(11),e=BigInt(22),f=BigInt(23),h=BigInt(44),i=BigInt(88),j=a*a*a%l,k=j*j*a%l,m=(0,g.pow2)(k,b,l)*k%l,n=(0,g.pow2)(m,b,l)*k%l,p=(0,g.pow2)(n,o,l)*j%l,r=(0,g.pow2)(p,d,l)*p%l,s=(0,g.pow2)(r,e,l)*r%l,t=(0,g.pow2)(s,h,l)*s%l,u=(0,g.pow2)(t,i,l)*t%l,v=(0,g.pow2)(u,h,l)*s%l,w=(0,g.pow2)(v,b,l)*k%l,x=(0,g.pow2)(w,f,l)*r%l,y=(0,g.pow2)(x,c,l)*j%l,z=(0,g.pow2)(y,o,l);if(!q.eql(q.sqr(z),a))throw Error("Cannot find square root");return z}}),r=(c={a:BigInt(0),b:BigInt(7),Fp:q,n:m,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:a=>{let b=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),c=-n*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),d=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),e=BigInt("0x100000000000000000000000000000000"),f=p(b*a,m),h=p(-c*a,m),i=(0,g.mod)(a-f*b-h*d,m),j=(0,g.mod)(-f*c-h*b,m),k=i>e,l=j>e;if(k&&(i=m-i),l&&(j=m-j),i>e||j>e)throw Error("splitScalar: Endomorphism failed, k="+a);return{k1neg:k,k1:i,k2neg:l,k2:j}}}},d=e.sha256,Object.freeze({...(b=a=>(0,h.weierstrass)({...c,...{hash:a,hmac:(b,...c)=>(0,k.hmac)(a,b,(0,f.concatBytes)(...c)),randomBytes:f.randomBytes}}))(d),create:b})),s=BigInt(0);r.ProjectivePoint;let t=(0,j.isogenyMap)(q,[["0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7","0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581","0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262","0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c"],["0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b","0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14","0x0000000000000000000000000000000000000000000000000000000000000001"],["0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c","0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3","0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931","0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84"],["0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b","0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573","0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f","0x0000000000000000000000000000000000000000000000000000000000000001"]].map(a=>a.map(a=>BigInt(a)))),u=(0,h.mapToCurveSimpleSWU)(q,{A:BigInt("0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533"),B:BigInt("1771"),Z:q.create(BigInt("-11"))});(0,j.createHasher)(r.ProjectivePoint,a=>{let{x:b,y:c}=u(q.create(a[0]));return t(b,c)},{DST:"secp256k1_XMD:SHA-256_SSWU_RO_",encodeDST:"secp256k1_XMD:SHA-256_SSWU_NU_",p:q.ORDER,m:1,k:128,expand:"xmd",hash:e.sha256}),a.s(["secp256k1",0,r],54476)},29858,a=>{"use strict";a.s(["ZeroHash",0,"0x0000000000000000000000000000000000000000000000000000000000000000"])},57584,a=>{"use strict";var b=a.i(29858),c=a.i(75607),d=a.i(51534),e=a.i(49664);let f=BigInt(0),g=BigInt(1),h=BigInt(2),i=BigInt(27),j=BigInt(28),k=BigInt(35),l=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),m=l/h,n=Symbol.for("nodejs.util.inspect.custom"),o={};function p(a){return(0,c.zeroPadValue)((0,d.toBeArray)(a),32)}class q{#p;#q;#r;#s;get r(){return this.#p}set r(a){(0,e.assertArgument)(32===(0,c.dataLength)(a),"invalid r","value",a),this.#p=(0,c.hexlify)(a)}get s(){return(0,e.assertArgument)(8>parseInt(this.#q.substring(0,3)),"non-canonical s; use ._s","s",this.#q),this.#q}set s(a){(0,e.assertArgument)(32===(0,c.dataLength)(a),"invalid s","value",a),this.#q=(0,c.hexlify)(a)}get _s(){return this.#q}isValid(){return BigInt(this.#q)<=m}get v(){return this.#r}set v(a){let b=(0,d.getNumber)(a,"value");(0,e.assertArgument)(27===b||28===b,"invalid v","v",a),this.#r=b}get networkV(){return this.#s}get legacyChainId(){let a=this.networkV;return null==a?null:q.getChainId(a)}get yParity(){return+(27!==this.v)}get yParityAndS(){let a=(0,c.getBytes)(this.s);return this.yParity&&(a[0]|=128),(0,c.hexlify)(a)}get compactSerialized(){return(0,c.concat)([this.r,this.yParityAndS])}get serialized(){return(0,c.concat)([this.r,this.s,this.yParity?"0x1c":"0x1b"])}constructor(a,b,c,d){(0,e.assertPrivate)(a,o,"Signature"),this.#p=b,this.#q=c,this.#r=d,this.#s=null}getCanonical(){if(this.isValid())return this;let a=l-BigInt(this._s),b=55-this.v,c=new q(o,this.r,p(a),b);return this.networkV&&(c.#s=this.networkV),c}clone(){let a=new q(o,this.r,this._s,this.v);return this.networkV&&(a.#s=this.networkV),a}toJSON(){let a=this.networkV;return{_type:"signature",networkV:null!=a?a.toString():null,r:this.r,s:this._s,v:this.v}}[n](){return this.toString()}toString(){return this.isValid()?`Signature { r: ${this.r}, s: ${this._s}, v: ${this.v} }`:`Signature { r: ${this.r}, s: ${this._s}, v: ${this.v}, valid: false }`}static getChainId(a){let b=(0,d.getBigInt)(a,"v");return b==i||b==j?f:((0,e.assertArgument)(b>=k,"invalid EIP-155 v","v",a),(b-k)/h)}static getChainIdV(a,b){return(0,d.getBigInt)(a)*h+BigInt(35+b-27)}static getNormalizedV(a){let b=(0,d.getBigInt)(a);return b===f||b===i?27:b===g||b===j?28:((0,e.assertArgument)(b>=k,"invalid v","v",a),b&g?27:28)}static from(a){function f(b,c){(0,e.assertArgument)(b,c,"signature",a)}if(null==a)return new q(o,b.ZeroHash,b.ZeroHash,27);if("string"==typeof a){let b=(0,c.getBytes)(a,"signature");if(64===b.length){let a=(0,c.hexlify)(b.slice(0,32)),d=b.slice(32,64),e=128&d[0]?28:27;return d[0]&=127,new q(o,a,(0,c.hexlify)(d),e)}if(65===b.length){let a=(0,c.hexlify)(b.slice(0,32)),d=(0,c.hexlify)(b.slice(32,64)),e=q.getNormalizedV(b[64]);return new q(o,a,d,e)}f(!1,"invalid raw signature length")}if(a instanceof q)return a.clone();let g=a.r;f(null!=g,"missing r");let h=p(g),i=function(a,b){if(null!=a)return p(a);if(null!=b){f((0,c.isHexString)(b,32),"invalid yParityAndS");let a=(0,c.getBytes)(b);return a[0]&=127,(0,c.hexlify)(a)}f(!1,"missing s")}(a.s,a.yParityAndS),{networkV:j,v:l}=function(a,b,e){if(null!=a){let b=(0,d.getBigInt)(a);return{networkV:b>=k?b:void 0,v:q.getNormalizedV(b)}}if(null!=b)return f((0,c.isHexString)(b,32),"invalid yParityAndS"),{v:128&(0,c.getBytes)(b)[0]?28:27};if(null!=e){switch((0,d.getNumber)(e,"sig.yParity")){case 0:return{v:27};case 1:return{v:28}}f(!1,"invalid yParity")}f(!1,"missing v")}(a.v,a.yParityAndS,a.yParity),m=new q(o,h,i,l);return j&&(m.#s=j),f(null==a.yParity||(0,d.getNumber)(a.yParity,"sig.yParity")===m.yParity,"yParity mismatch"),f(null==a.yParityAndS||a.yParityAndS===m.yParityAndS,"yParityAndS mismatch"),m}}a.s(["Signature",()=>q])},54867,a=>{"use strict";var b=a.i(54476),c=a.i(75607),d=a.i(51534),e=a.i(49664),f=a.i(57584);class g{#t;constructor(a){(0,e.assertArgument)(32===(0,c.dataLength)(a),"invalid private key","privateKey","[REDACTED]"),this.#t=(0,c.hexlify)(a)}get privateKey(){return this.#t}get publicKey(){return g.computePublicKey(this.#t)}get compressedPublicKey(){return g.computePublicKey(this.#t,!0)}sign(a){(0,e.assertArgument)(32===(0,c.dataLength)(a),"invalid digest length","digest",a);let g=b.secp256k1.sign((0,c.getBytesCopy)(a),(0,c.getBytesCopy)(this.#t),{lowS:!0});return f.Signature.from({r:(0,d.toBeHex)(g.r,32),s:(0,d.toBeHex)(g.s,32),v:g.recovery?28:27})}computeSharedSecret(a){let d=g.computePublicKey(a);return(0,c.hexlify)(b.secp256k1.getSharedSecret((0,c.getBytesCopy)(this.#t),(0,c.getBytes)(d),!1))}static computePublicKey(a,d){let e=(0,c.getBytes)(a,"key");if(32===e.length){let a=b.secp256k1.getPublicKey(e,!!d);return(0,c.hexlify)(a)}if(64===e.length){let a=new Uint8Array(65);a[0]=4,a.set(e,1),e=a}let f=b.secp256k1.ProjectivePoint.fromHex(e);return(0,c.hexlify)(f.toRawBytes(d))}static recoverPublicKey(a,d){(0,e.assertArgument)(32===(0,c.dataLength)(a),"invalid digest length","digest",a);let g=f.Signature.from(d),h=b.secp256k1.Signature.fromCompact((0,c.getBytesCopy)((0,c.concat)([g.r,g.s]))),i=(h=h.addRecoveryBit(g.yParity)).recoverPublicKey((0,c.getBytesCopy)(a));return(0,e.assertArgument)(null!=i,"invalid signature for digest","signature",d),"0x"+i.toHex(!1)}static addPoints(a,c,d){let e=b.secp256k1.ProjectivePoint.fromHex(g.computePublicKey(a).substring(2)),f=b.secp256k1.ProjectivePoint.fromHex(g.computePublicKey(c).substring(2));return"0x"+e.add(f).toHex(!!d)}}a.s(["SigningKey",()=>g])},79367,57086,a=>{"use strict";var b=a.i(24495),c=a.i(99374),d=a.i(54867);function e(a){let e;return e="string"==typeof a?d.SigningKey.computePublicKey(a,!1):a.publicKey,(0,b.getAddress)((0,c.keccak256)("0x"+e.substring(4)).substring(26))}function f(a,b){return e(d.SigningKey.recoverPublicKey(a,b))}a.s(["computeAddress",()=>e,"recoverAddress",()=>f],57086);var g=a.i(75607),h=a.i(50942),i=a.i(51534),j=a.i(49664),k=a.i(46522);let l=new Uint8Array(32);l.fill(0);let m=BigInt(-1),n=BigInt(0),o=BigInt(1),p=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),q=(0,i.toBeHex)(o,32),r=(0,i.toBeHex)(n,32),s={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},t=["name","version","chainId","verifyingContract","salt"];function u(a){return function(b){return(0,j.assertArgument)("string"==typeof b,`invalid domain value for ${JSON.stringify(a)}`,`domain.${a}`,b),b}}let v={name:u("name"),version:u("version"),chainId:function(a){let b=(0,i.getBigInt)(a,"domain.chainId");return((0,j.assertArgument)(b>=0,"invalid chain ID","domain.chainId",a),Number.isSafeInteger(b))?Number(b):(0,i.toQuantity)(b)},verifyingContract:function(a){try{return(0,b.getAddress)(a).toLowerCase()}catch(a){}(0,j.assertArgument)(!1,'invalid domain value "verifyingContract"',"domain.verifyingContract",a)},salt:function(a){let b=(0,g.getBytes)(a,"domain.salt");return(0,j.assertArgument)(32===b.length,'invalid domain value "salt"',"domain.salt",a),(0,g.hexlify)(b)}};function w(a){{let b=a.match(/^(u?)int(\d+)$/);if(b){let c=""===b[1],d=parseInt(b[2]);(0,j.assertArgument)(d%8==0&&0!==d&&d<=256&&b[2]===String(d),"invalid numeric width","type",a);let e=(0,i.mask)(p,c?d-1:d),f=c?(e+o)*m:n;return function(b){let d=(0,i.getBigInt)(b,"value");return(0,j.assertArgument)(d>=f&&d<=e,`value out-of-bounds for ${a}`,"value",d),(0,i.toBeHex)(c?(0,i.toTwos)(d,256):d,32)}}}{let b=a.match(/^bytes(\d+)$/);if(b){let c=parseInt(b[1]);return(0,j.assertArgument)(0!==c&&c<=32&&b[1]===String(c),"invalid bytes width","type",a),function(b){let d,e,f=(0,g.getBytes)(b);return(0,j.assertArgument)(f.length===c,`invalid length for ${a}`,"value",b),(e=(d=(0,g.getBytes)(b)).length%32)?(0,g.concat)([d,l.slice(e)]):(0,g.hexlify)(d)}}}switch(a){case"address":return function(a){return(0,g.zeroPadValue)((0,b.getAddress)(a),32)};case"bool":return function(a){return a?q:r};case"bytes":return function(a){return(0,c.keccak256)(a)};case"string":return function(a){return(0,k.id)(a)}}return null}function x(a,b){return`${a}(${b.map(({name:a,type:b})=>b+" "+a).join(",")})`}function y(a){let b=a.match(/^([^\x5b]*)((\x5b\d*\x5d)*)(\x5b(\d*)\x5d)$/);return b?{base:b[1],index:b[2]+b[4],array:{base:b[1],prefix:b[1]+b[2],count:b[5]?parseInt(b[5]):-1}}:{base:a}}class z{primaryType;#u;get types(){return JSON.parse(this.#u)}#v;#w;constructor(a){this.#v=new Map,this.#w=new Map;const b=new Map,c=new Map,d=new Map,e={};for(const f in Object.keys(a).forEach(f=>{e[f]=a[f].map(({name:b,type:c})=>{let{base:d,index:e}=y(c);return"int"!==d||a.int||(d="int256"),"uint"!==d||a.uint||(d="uint256"),{name:b,type:d+(e||"")}}),b.set(f,new Set),c.set(f,[]),d.set(f,new Set)}),this.#u=JSON.stringify(e),e){const d=new Set;for(const g of e[f]){(0,j.assertArgument)(!d.has(g.name),`duplicate variable name ${JSON.stringify(g.name)} in ${JSON.stringify(f)}`,"types",a),d.add(g.name);const e=y(g.type).base;(0,j.assertArgument)(e!==f,`circular type reference to ${JSON.stringify(e)}`,"types",a),w(e)||((0,j.assertArgument)(c.has(e),`unknown type ${JSON.stringify(e)}`,"types",a),c.get(e).push(f),b.get(f).add(e))}}const f=Array.from(c.keys()).filter(a=>0===c.get(a).length);for(const[g,i]of((0,j.assertArgument)(0!==f.length,"missing primary type","types",a),(0,j.assertArgument)(1===f.length,`ambiguous primary types or unused types: ${f.map(a=>JSON.stringify(a)).join(", ")}`,"types",a),(0,h.defineProperties)(this,{primaryType:f[0]}),!function e(f,g){for(let h of((0,j.assertArgument)(!g.has(f),`circular type reference to ${JSON.stringify(f)}`,"types",a),g.add(f),b.get(f)))if(c.has(h))for(let a of(e(h,g),g))d.get(a).add(h);g.delete(f)}(this.primaryType,new Set),d)){const a=Array.from(i);a.sort(),this.#v.set(g,x(g,e[g])+a.map(a=>x(a,e[a])).join(""))}}getEncoder(a){let b=this.#w.get(a);return b||(b=this.#x(a),this.#w.set(a,b)),b}#x(a){{let b=w(a);if(b)return b}let b=y(a).array;if(b){let a=b.prefix,d=this.getEncoder(a);return e=>{(0,j.assertArgument)(-1===b.count||b.count===e.length,`array length mismatch; expected length ${b.count}`,"value",e);let f=e.map(d);return this.#v.has(a)&&(f=f.map(c.keccak256)),(0,c.keccak256)((0,g.concat)(f))}}let d=this.types[a];if(d){let b=(0,k.id)(this.#v.get(a));return a=>{let e=d.map(({name:b,type:d})=>{let e=this.getEncoder(d)(a[b]);return this.#v.has(d)?(0,c.keccak256)(e):e});return e.unshift(b),(0,g.concat)(e)}}(0,j.assertArgument)(!1,`unknown type: ${a}`,"type",a)}encodeType(a){let b=this.#v.get(a);return(0,j.assertArgument)(b,`unknown type: ${JSON.stringify(a)}`,"name",a),b}encodeData(a,b){return this.getEncoder(a)(b)}hashStruct(a,b){return(0,c.keccak256)(this.encodeData(a,b))}encode(a){return this.encodeData(this.primaryType,a)}hash(a){return this.hashStruct(this.primaryType,a)}_visit(a,b,c){if(w(a))return c(a,b);let d=y(a).array;if(d)return(0,j.assertArgument)(-1===d.count||d.count===b.length,`array length mismatch; expected length ${d.count}`,"value",b),b.map(a=>this._visit(d.prefix,a,c));let e=this.types[a];if(e)return e.reduce((a,{name:d,type:e})=>(a[d]=this._visit(e,b[d],c),a),{});(0,j.assertArgument)(!1,`unknown type: ${a}`,"type",a)}visit(a,b){return this._visit(this.primaryType,a,b)}static from(a){return new z(a)}static getPrimaryType(a){return z.from(a).primaryType}static hashStruct(a,b,c){return z.from(b).hashStruct(a,c)}static hashDomain(a){let b=[];for(let c in a){if(null==a[c])continue;let d=s[c];(0,j.assertArgument)(d,`invalid typed-data domain key: ${JSON.stringify(c)}`,"domain",a),b.push({name:c,type:d})}return b.sort((a,b)=>t.indexOf(a.name)-t.indexOf(b.name)),z.hashStruct("EIP712Domain",{EIP712Domain:b},a)}static encode(a,b,c){return(0,g.concat)(["0x1901",z.hashDomain(a),z.from(b).hash(c)])}static hash(a,b,d){return(0,c.keccak256)(z.encode(a,b,d))}static async resolveNames(a,b,c,d){for(let b in a=Object.assign({},a))null==a[b]&&delete a[b];let e={};a.verifyingContract&&!(0,g.isHexString)(a.verifyingContract,20)&&(e[a.verifyingContract]="0x");let f=z.from(b);for(let a in f.visit(c,(a,b)=>("address"!==a||(0,g.isHexString)(b,20)||(e[b]="0x"),b)),e)e[a]=await d(a);return a.verifyingContract&&e[a.verifyingContract]&&(a.verifyingContract=e[a.verifyingContract]),c=f.visit(c,(a,b)=>"address"===a&&e[b]?e[b]:b),{domain:a,value:c}}static getPayload(a,b,c){z.hashDomain(a);let d={},e=[];t.forEach(b=>{let c=a[b];null!=c&&(d[b]=v[b](c),e.push({name:b,type:s[b]}))});let f=z.from(b),h=Object.assign({},b=f.types);return(0,j.assertArgument)(null==h.EIP712Domain,"types must not contain EIP712Domain type","types.EIP712Domain",b),h.EIP712Domain=e,f.encode(c),{types:h,domain:d,primaryType:f.primaryType,message:f.visit(c,(a,b)=>{if(a.match(/^bytes(\d*)/))return(0,g.hexlify)((0,g.getBytes)(b));if(a.match(/^u?int/))return(0,i.getBigInt)(b).toString();switch(a){case"address":return b.toLowerCase();case"bool":return!!b;case"string":return(0,j.assertArgument)("string"==typeof b,"invalid string","value",b),b}(0,j.assertArgument)(!1,"unsupported type","type",a)})}}}function A(a,b,c,d){return f(z.hash(a,b,c),d)}a.s(["TypedDataEncoder",()=>z,"verifyTypedData",()=>A],79367)},55590,a=>{"use strict";var b=a.i(24495),c=a.i(49664),d=a.i(75607);function e(a,e){return{address:(0,b.getAddress)(a),storageKeys:e.map((a,b)=>((0,c.assertArgument)((0,d.isHexString)(a,32),"invalid slot",`storageKeys[${b}]`,a),a.toLowerCase()))}}function f(a){if(Array.isArray(a))return a.map((b,d)=>Array.isArray(b)?((0,c.assertArgument)(2===b.length,"invalid slot set",`value[${d}]`,b),e(b[0],b[1])):((0,c.assertArgument)(null!=b&&"object"==typeof b,"invalid address-slot set","value",a),e(b.address,b.storageKeys)));(0,c.assertArgument)(null!=a&&"object"==typeof a,"invalid access list","value",a);let b=Object.keys(a).map(b=>{let c=a[b].reduce((a,b)=>(a[b]=!0,a),{});return e(b,Object.keys(c).sort())});return b.sort((a,b)=>a.address.localeCompare(b.address)),b}a.s(["accessListify",()=>f])},49317,a=>{"use strict";var b=a.i(24495),c=a.i(57584),d=a.i(51534);function e(a){return{address:(0,b.getAddress)(a.address),nonce:(0,d.getBigInt)(null!=a.nonce?a.nonce:0),chainId:(0,d.getBigInt)(null!=a.chainId?a.chainId:0),signature:c.Signature.from(a.signature)}}a.s(["authorizationify",()=>e])},21517,(a,b,c)=>{b.exports=a.x("http",()=>require("http"))},24836,(a,b,c)=>{b.exports=a.x("https",()=>require("https"))},6461,(a,b,c)=>{b.exports=a.x("zlib",()=>require("zlib"))},74044,58801,a=>{"use strict";var b=a.i(75607);function c(a){return(0,b.getBytesCopy)(Buffer.from(a,"base64"))}function d(a){return Buffer.from((0,b.getBytes)(a)).toString("base64")}a.s(["decodeBase64",()=>c,"encodeBase64",()=>d],58801);var e=a.i(49664),f=a.i(50942),g=a.i(23916),h=a.i(21517),i=a.i(24836),j=a.i(6461);function k(a){return async function(c,d){(0,e.assert)(null==d||!d.cancelled,"request cancelled before sending","CANCELLED");let f=c.url.split(":")[0].toLowerCase();(0,e.assert)("http"===f||"https"===f,`unsupported protocol ${f}`,"UNSUPPORTED_OPERATION",{info:{protocol:f},operation:"request"}),(0,e.assert)("https"===f||!c.credentials||c.allowInsecureAuthentication,"insecure authorized connections unsupported","UNSUPPORTED_OPERATION",{operation:"request"});let g={method:c.method,headers:Object.assign({},c.headers)};a&&a.agent&&(g.agent=a.agent);let k=null;try{g.abort=(k=new AbortController).signal}catch(a){console.log(a)}let l=("http"===f?h.default:i.default).request(c.url,g);l.setTimeout(c.timeout);let m=c.body;return m&&l.write(Buffer.from(m)),l.end(),new Promise((a,f)=>{d&&d.addListener(()=>{k&&k.abort(),f((0,e.makeError)("request cancelled","CANCELLED"))}),l.on("timeout",()=>{f((0,e.makeError)("request timeout","TIMEOUT"))}),l.once("response",g=>{let h=g.statusCode||0,i=g.statusMessage||"",k=Object.keys(g.headers||{}).reduce((a,b)=>{let c=g.headers[b]||"";return Array.isArray(c)&&(c=c.join(", ")),a[b]=c,a},{}),l=null;g.on("data",a=>{if(d)try{d.checkSignal()}catch(a){return f(a)}if(null==l)l=a;else{let b=new Uint8Array(l.length+a.length);b.set(l,0),b.set(a,l.length),l=b}}),g.on("end",()=>{try{"gzip"===k["content-encoding"]&&l&&(l=(0,b.getBytes)((0,j.gunzipSync)(l))),a({statusCode:h,statusMessage:i,headers:k,body:l})}catch(a){f((0,e.makeError)("bad response data","SERVER_ERROR",{request:c,info:{response:g,error:a}}))}}),g.on("error",a=>{a.response={statusCode:h,statusMessage:i,headers:k,body:l},f(a)})}),l.on("error",a=>{f(a)})})}}k({});let l=k(),m=RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),n=RegExp("^ipfs://(ipfs/)?(.*)$","i"),o=!1;async function p(a,b){try{var d;let b=a.match(m);if(!b)throw Error("invalid data");return new w(200,"OK",{"content-type":b[1]||"text/plain"},b[2]?c(b[3]):(d=b[3],(0,g.toUtf8Bytes)(d.replace(/%([0-9a-f][0-9a-f])/gi,(a,b)=>String.fromCharCode(parseInt(b,16))))))}catch(b){return new w(599,"BAD REQUEST (invalid data: URI)",{},null,new v(a))}}function q(a){return async function(b,c){try{let c=b.match(n);if(!c)throw Error("invalid link");return new v(`${a}${c[2]}`)}catch(a){return new w(599,"BAD REQUEST (invalid IPFS URI)",{},null,new v(b))}}}let r={data:p,ipfs:q("https://gateway.ipfs.io/ipfs/")},s=new WeakMap;class t{#y;#z;constructor(a){this.#y=[],this.#z=!1,s.set(a,()=>{if(!this.#z){for(let a of(this.#z=!0,this.#y))setTimeout(()=>{a()},0);this.#y=[]}})}addListener(a){(0,e.assert)(!this.#z,"singal already cancelled","UNSUPPORTED_OPERATION",{operation:"fetchCancelSignal.addCancelListener"}),this.#y.push(a)}get cancelled(){return this.#z}checkSignal(){(0,e.assert)(!this.cancelled,"cancelled","CANCELLED",{})}}function u(a){if(null==a)throw Error("missing signal; should not happen");return a.checkSignal(),a}class v{#A;#B;#C;#D;#E;#F;#G;#H;#I;#J;#K;#L;#M;#N;#O;get url(){return this.#F}set url(a){this.#F=String(a)}get body(){return null==this.#G?null:new Uint8Array(this.#G)}set body(a){if(null==a)this.#G=void 0,this.#H=void 0;else if("string"==typeof a)this.#G=(0,g.toUtf8Bytes)(a),this.#H="text/plain";else if(a instanceof Uint8Array)this.#G=a,this.#H="application/octet-stream";else if("object"==typeof a)this.#G=(0,g.toUtf8Bytes)(JSON.stringify(a)),this.#H="application/json";else throw Error("invalid body")}hasBody(){return null!=this.#G}get method(){return this.#D?this.#D:this.hasBody()?"POST":"GET"}set method(a){null==a&&(a=""),this.#D=String(a).toUpperCase()}get headers(){let a=Object.assign({},this.#C);return this.#I&&(a.authorization=`Basic ${d((0,g.toUtf8Bytes)(this.#I))}`),this.allowGzip&&(a["accept-encoding"]="gzip"),null==a["content-type"]&&this.#H&&(a["content-type"]=this.#H),this.body&&(a["content-length"]=String(this.body.length)),a}getHeader(a){return this.headers[a.toLowerCase()]}setHeader(a,b){this.#C[String(a).toLowerCase()]=String(b)}clearHeaders(){this.#C={}}[Symbol.iterator](){let a=this.headers,b=Object.keys(a),c=0;return{next:()=>{if(c<b.length){let d=b[c++];return{value:[d,a[d]],done:!1}}return{value:void 0,done:!0}}}}get credentials(){return this.#I||null}setCredentials(a,b){(0,e.assertArgument)(!a.match(/:/),"invalid basic authentication username","username","[REDACTED]"),this.#I=`${a}:${b}`}get allowGzip(){return this.#B}set allowGzip(a){this.#B=!!a}get allowInsecureAuthentication(){return!!this.#A}set allowInsecureAuthentication(a){this.#A=!!a}get timeout(){return this.#E}set timeout(a){(0,e.assertArgument)(a>=0,"timeout must be non-zero","timeout",a),this.#E=a}get preflightFunc(){return this.#J||null}set preflightFunc(a){this.#J=a}get processFunc(){return this.#K||null}set processFunc(a){this.#K=a}get retryFunc(){return this.#L||null}set retryFunc(a){this.#L=a}get getUrlFunc(){return this.#O||l}set getUrlFunc(a){this.#O=a}constructor(a){this.#F=String(a),this.#A=!1,this.#B=!0,this.#C={},this.#D="",this.#E=3e5,this.#N={slotInterval:250,maxAttempts:12},this.#O=null}toString(){return`<FetchRequest method=${JSON.stringify(this.method)} url=${JSON.stringify(this.url)} headers=${JSON.stringify(this.headers)} body=${this.#G?(0,b.hexlify)(this.#G):"null"}>`}setThrottleParams(a){null!=a.slotInterval&&(this.#N.slotInterval=a.slotInterval),null!=a.maxAttempts&&(this.#N.maxAttempts=a.maxAttempts)}async #P(a,b,c,d,f){var g;if(a>=this.#N.maxAttempts)return f.makeServerError("exceeded maximum retry limit");(0,e.assert)(x()<=b,"timeout","TIMEOUT",{operation:"request.send",reason:"timeout",request:d}),c>0&&await (g=c,new Promise(a=>setTimeout(a,g)));let h=this.clone(),i=(h.url.split(":")[0]||"").toLowerCase();if(i in r){let a=await r[i](h.url,u(d.#M));if(a instanceof w){let b=a;if(this.processFunc){u(d.#M);try{b=await this.processFunc(h,b)}catch(a){(null==a.throttle||"number"!=typeof a.stall)&&b.makeServerError("error in post-processing function",a).assertOk()}}return b}h=a}this.preflightFunc&&(h=await this.preflightFunc(h));let j=await this.getUrlFunc(h,u(d.#M)),k=new w(j.statusCode,j.statusMessage,j.headers,j.body,d);if(301===k.statusCode||302===k.statusCode){try{let c=k.headers.location||"";return h.redirect(c).#P(a+1,b,0,d,k)}catch(a){}return k}if(429===k.statusCode&&(null==this.retryFunc||await this.retryFunc(h,k,a))){let c=k.headers["retry-after"],e=this.#N.slotInterval*Math.trunc(Math.random()*Math.pow(2,a));return"string"==typeof c&&c.match(/^[1-9][0-9]*$/)&&(e=parseInt(c)),h.clone().#P(a+1,b,e,d,k)}if(this.processFunc){u(d.#M);try{k=await this.processFunc(h,k)}catch(e){(null==e.throttle||"number"!=typeof e.stall)&&k.makeServerError("error in post-processing function",e).assertOk();let c=this.#N.slotInterval*Math.trunc(Math.random()*Math.pow(2,a));return e.stall>=0&&(c=e.stall),h.clone().#P(a+1,b,c,d,k)}}return k}send(){return(0,e.assert)(null==this.#M,"request already sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.send"}),this.#M=new t(this),this.#P(0,x()+this.timeout,0,this,new w(0,"",{},null,this))}cancel(){(0,e.assert)(null!=this.#M,"request has not been sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.cancel"});let a=s.get(this);if(!a)throw Error("missing signal; should not happen");a()}redirect(a){let b=this.url.split(":")[0].toLowerCase(),c=a.split(":")[0].toLowerCase();(0,e.assert)("GET"===this.method&&("https"!==b||"http"!==c)&&a.match(/^https?:/),"unsupported redirect","UNSUPPORTED_OPERATION",{operation:`redirect(${this.method} ${JSON.stringify(this.url)} => ${JSON.stringify(a)})`});let d=new v(a);return d.method="GET",d.allowGzip=this.allowGzip,d.timeout=this.timeout,d.#C=Object.assign({},this.#C),this.#G&&(d.#G=new Uint8Array(this.#G)),d.#H=this.#H,d}clone(){let a=new v(this.url);return a.#D=this.#D,this.#G&&(a.#G=this.#G),a.#H=this.#H,a.#C=Object.assign({},this.#C),a.#I=this.#I,this.allowGzip&&(a.allowGzip=!0),a.timeout=this.timeout,this.allowInsecureAuthentication&&(a.allowInsecureAuthentication=!0),a.#J=this.#J,a.#K=this.#K,a.#L=this.#L,a.#N=Object.assign({},this.#N),a.#O=this.#O,a}static lockConfig(){o=!0}static getGateway(a){return r[a.toLowerCase()]||null}static registerGateway(a,b){if("http"===(a=a.toLowerCase())||"https"===a)throw Error(`cannot intercept ${a}; use registerGetUrl`);if(o)throw Error("gateways locked");r[a]=b}static registerGetUrl(a){if(o)throw Error("gateways locked");l=a}static createGetUrlFunc(a){return k(a)}static createDataGateway(){return p}static createIpfsGatewayFunc(a){return q(a)}}class w{#Q;#R;#C;#G;#S;#T;toString(){return`<FetchResponse status=${this.statusCode} body=${this.#G?(0,b.hexlify)(this.#G):"null"}>`}get statusCode(){return this.#Q}get statusMessage(){return this.#R}get headers(){return Object.assign({},this.#C)}get body(){return null==this.#G?null:new Uint8Array(this.#G)}get bodyText(){try{return null==this.#G?"":(0,g.toUtf8String)(this.#G)}catch(a){(0,e.assert)(!1,"response body is not valid UTF-8 data","UNSUPPORTED_OPERATION",{operation:"bodyText",info:{response:this}})}}get bodyJson(){try{return JSON.parse(this.bodyText)}catch(a){(0,e.assert)(!1,"response body is not valid JSON","UNSUPPORTED_OPERATION",{operation:"bodyJson",info:{response:this}})}}[Symbol.iterator](){let a=this.headers,b=Object.keys(a),c=0;return{next:()=>{if(c<b.length){let d=b[c++];return{value:[d,a[d]],done:!1}}return{value:void 0,done:!0}}}}constructor(a,b,c,d,e){this.#Q=a,this.#R=b,this.#C=Object.keys(c).reduce((a,b)=>(a[b.toLowerCase()]=String(c[b]),a),{}),this.#G=null==d?null:new Uint8Array(d),this.#S=e||null,this.#T={message:""}}makeServerError(a,b){let c;a?c=`CLIENT ESCALATED SERVER ERROR (${this.statusCode} ${this.statusMessage}; ${a})`:(a=`${this.statusCode} ${this.statusMessage}`,c=`CLIENT ESCALATED SERVER ERROR (${a})`);let d=new w(599,c,this.headers,this.body,this.#S||void 0);return d.#T={message:a,error:b},d}throwThrottleError(a,b){null==b?b=-1:(0,e.assertArgument)(Number.isInteger(b)&&b>=0,"invalid stall timeout","stall",b);let c=Error(a||"throttling requests");throw(0,f.defineProperties)(c,{stall:b,throttle:!0}),c}getHeader(a){return this.headers[a.toLowerCase()]}hasBody(){return null!=this.#G}get request(){return this.#S}ok(){return""===this.#T.message&&this.statusCode>=200&&this.statusCode<300}assertOk(){if(this.ok())return;let{message:a,error:b}=this.#T;""===a&&(a=`server response ${this.statusCode} ${this.statusMessage}`);let c=null;this.request&&(c=this.request.url);let d=null;try{this.#G&&(d=(0,g.toUtf8String)(this.#G))}catch(a){}(0,e.assert)(!1,a,"SERVER_ERROR",{request:this.request||"unknown request",response:this,error:b,info:{requestUrl:c,responseBody:d,responseStatus:`${this.statusCode} ${this.statusMessage}`}})}}function x(){return new Date().getTime()}a.s(["FetchCancelSignal",()=>t,"FetchRequest",()=>v,"FetchResponse",()=>w],74044)},17447,a=>{"use strict";a.s(["ZeroAddress",0,"0x0000000000000000000000000000000000000000"])},50550,a=>{"use strict";var b=a.i(99374),c=a.i(46522),d=a.i(75607),e=a.i(51534),f=a.i(50942),g=a.i(49664),h=a.i(12422),i=a.i(86197),j=a.i(5237),k=a.i(6922);class l{fragment;name;signature;topic;args;constructor(a,b,c){const d=a.name,e=a.format();(0,f.defineProperties)(this,{fragment:a,name:d,signature:e,topic:b,args:c})}}class m{fragment;name;args;signature;selector;value;constructor(a,b,c,d){const e=a.name,g=a.format();(0,f.defineProperties)(this,{fragment:a,name:e,args:c,signature:g,selector:b,value:d})}}class n{fragment;name;args;signature;selector;constructor(a,b,c){const d=a.name,e=a.format();(0,f.defineProperties)(this,{fragment:a,name:d,args:c,signature:e,selector:b})}}class o{hash;_isIndexed;static isIndexed(a){return!!(a&&a._isIndexed)}constructor(a){(0,f.defineProperties)(this,{hash:a,_isIndexed:!0})}}let p={0:"generic panic",1:"assert(false)",17:"arithmetic overflow",18:"division or modulo by zero",33:"enum overflow",34:"invalid encoded storage byte array accessed",49:"out-of-bounds array access; popping on an empty array",50:"out-of-bounds access of an array or bytesN",65:"out of memory",81:"uninitialized function"},q={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:a=>`reverted with reason string ${JSON.stringify(a)}`},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"],reason:a=>{let b="unknown panic code";return a>=0&&a<=255&&p[a.toString()]&&(b=p[a.toString()]),`reverted with panic code 0x${a.toString(16)} (${b})`}}};class r{fragments;deploy;fallback;receive;#U;#V;#W;#X;constructor(a){let b=[];b="string"==typeof a?JSON.parse(a):a,this.#W=new Map,this.#U=new Map,this.#V=new Map;const c=[];for(const a of b)try{c.push(j.Fragment.from(a))}catch(b){console.log(`[Warning] Invalid Fragment ${JSON.stringify(a)}:`,b.message)}(0,f.defineProperties)(this,{fragments:Object.freeze(c)});let d=null,e=!1;this.#X=this.getAbiCoder(),this.fragments.forEach((a,b)=>{let c;switch(a.type){case"constructor":if(this.deploy)return void console.log("duplicate definition - constructor");(0,f.defineProperties)(this,{deploy:a});return;case"fallback":0===a.inputs.length?e=!0:((0,g.assertArgument)(!d||a.payable!==d.payable,"conflicting fallback fragments",`fragments[${b}]`,a),e=(d=a).payable);return;case"function":c=this.#W;break;case"event":c=this.#V;break;case"error":c=this.#U;break;default:return}let h=a.format();c.has(h)||c.set(h,a)}),this.deploy||(0,f.defineProperties)(this,{deploy:j.ConstructorFragment.from("constructor()")}),(0,f.defineProperties)(this,{fallback:d,receive:e})}format(a){let b=a?"minimal":"full";return this.fragments.map(a=>a.format(b))}formatJson(){return JSON.stringify(this.fragments.map(a=>a.format("json")).map(a=>JSON.parse(a)))}getAbiCoder(){return h.AbiCoder.defaultAbiCoder()}#Y(a,b,c){if((0,d.isHexString)(a)){let b=a.toLowerCase();for(let a of this.#W.values())if(b===a.selector)return a;return null}if(-1===a.indexOf("(")){let d=[];for(let[b,c]of this.#W)b.split("(")[0]===a&&d.push(c);if(b){let a=b.length>0?b[b.length-1]:null,c=b.length,e=!0;k.Typed.isTyped(a)&&"overrides"===a.type&&(e=!1,c--);for(let a=d.length-1;a>=0;a--){let b=d[a].inputs.length;b===c||e&&b===c-1||d.splice(a,1)}for(let a=d.length-1;a>=0;a--){let c=d[a].inputs;for(let e=0;e<b.length;e++)if(k.Typed.isTyped(b[e])){if(e>=c.length){if("overrides"===b[e].type)continue;d.splice(a,1);break}if(b[e].type!==c[e].baseType){d.splice(a,1);break}}}}if(1===d.length&&b&&b.length!==d[0].inputs.length){let a=b[b.length-1];(null==a||Array.isArray(a)||"object"!=typeof a)&&d.splice(0,1)}if(0===d.length)return null;if(d.length>1&&c){let b=d.map(a=>JSON.stringify(a.format())).join(", ");(0,g.assertArgument)(!1,`ambiguous function description (i.e. matches ${b})`,"key",a)}return d[0]}let e=this.#W.get(j.FunctionFragment.from(a).format());return e||null}getFunctionName(a){let b=this.#Y(a,null,!1);return(0,g.assertArgument)(b,"no matching function","key",a),b.name}hasFunction(a){return!!this.#Y(a,null,!1)}getFunction(a,b){return this.#Y(a,b||null,!0)}forEachFunction(a){let b=Array.from(this.#W.keys());b.sort((a,b)=>a.localeCompare(b));for(let c=0;c<b.length;c++){let d=b[c];a(this.#W.get(d),c)}}#Z(a,b,c){if((0,d.isHexString)(a)){let b=a.toLowerCase();for(let a of this.#V.values())if(b===a.topicHash)return a;return null}if(-1===a.indexOf("(")){let d=[];for(let[b,c]of this.#V)b.split("(")[0]===a&&d.push(c);if(b){for(let a=d.length-1;a>=0;a--)d[a].inputs.length<b.length&&d.splice(a,1);for(let a=d.length-1;a>=0;a--){let c=d[a].inputs;for(let e=0;e<b.length;e++)if(k.Typed.isTyped(b[e])&&b[e].type!==c[e].baseType){d.splice(a,1);break}}}if(0===d.length)return null;if(d.length>1&&c){let b=d.map(a=>JSON.stringify(a.format())).join(", ");(0,g.assertArgument)(!1,`ambiguous event description (i.e. matches ${b})`,"key",a)}return d[0]}let e=this.#V.get(j.EventFragment.from(a).format());return e||null}getEventName(a){let b=this.#Z(a,null,!1);return(0,g.assertArgument)(b,"no matching event","key",a),b.name}hasEvent(a){return!!this.#Z(a,null,!1)}getEvent(a,b){return this.#Z(a,b||null,!0)}forEachEvent(a){let b=Array.from(this.#V.keys());b.sort((a,b)=>a.localeCompare(b));for(let c=0;c<b.length;c++){let d=b[c];a(this.#V.get(d),c)}}getError(a,b){if((0,d.isHexString)(a)){let b=a.toLowerCase();if(q[b])return j.ErrorFragment.from(q[b].signature);for(let a of this.#U.values())if(b===a.selector)return a;return null}if(-1===a.indexOf("(")){let b=[];for(let[c,d]of this.#U)c.split("(")[0]===a&&b.push(d);if(0===b.length)return"Error"===a?j.ErrorFragment.from("error Error(string)"):"Panic"===a?j.ErrorFragment.from("error Panic(uint256)"):null;if(b.length>1){let c=b.map(a=>JSON.stringify(a.format())).join(", ");(0,g.assertArgument)(!1,`ambiguous error description (i.e. ${c})`,"name",a)}return b[0]}if("Error(string)"===(a=j.ErrorFragment.from(a).format()))return j.ErrorFragment.from("error Error(string)");if("Panic(uint256)"===a)return j.ErrorFragment.from("error Panic(uint256)");let c=this.#U.get(a);return c||null}forEachError(a){let b=Array.from(this.#U.keys());b.sort((a,b)=>a.localeCompare(b));for(let c=0;c<b.length;c++){let d=b[c];a(this.#U.get(d),c)}}_decodeParams(a,b){return this.#X.decode(a,b)}_encodeParams(a,b){return this.#X.encode(a,b)}encodeDeploy(a){return this._encodeParams(this.deploy.inputs,a||[])}decodeErrorResult(a,b){if("string"==typeof a){let b=this.getError(a);(0,g.assertArgument)(b,"unknown error","fragment",a),a=b}return(0,g.assertArgument)((0,d.dataSlice)(b,0,4)===a.selector,`data signature does not match error ${a.name}.`,"data",b),this._decodeParams(a.inputs,(0,d.dataSlice)(b,4))}encodeErrorResult(a,b){if("string"==typeof a){let b=this.getError(a);(0,g.assertArgument)(b,"unknown error","fragment",a),a=b}return(0,d.concat)([a.selector,this._encodeParams(a.inputs,b||[])])}decodeFunctionData(a,b){if("string"==typeof a){let b=this.getFunction(a);(0,g.assertArgument)(b,"unknown function","fragment",a),a=b}return(0,g.assertArgument)((0,d.dataSlice)(b,0,4)===a.selector,`data signature does not match function ${a.name}.`,"data",b),this._decodeParams(a.inputs,(0,d.dataSlice)(b,4))}encodeFunctionData(a,b){if("string"==typeof a){let b=this.getFunction(a);(0,g.assertArgument)(b,"unknown function","fragment",a),a=b}return(0,d.concat)([a.selector,this._encodeParams(a.inputs,b||[])])}decodeFunctionResult(a,b){if("string"==typeof a){let b=this.getFunction(a);(0,g.assertArgument)(b,"unknown function","fragment",a),a=b}let c="invalid length for result data",e=(0,d.getBytesCopy)(b);if(e.length%32==0)try{return this.#X.decode(a.outputs,e)}catch(a){c="could not decode result data"}(0,g.assert)(!1,c,"BAD_DATA",{value:(0,d.hexlify)(e),info:{method:a.name,signature:a.format()}})}makeError(a,b){let c=(0,d.getBytes)(a,"data"),e=h.AbiCoder.getBuiltinCallException("call",b,c);if(e.message.startsWith("execution reverted (unknown custom error)")){let a=(0,d.hexlify)(c.slice(0,4)),b=this.getError(a);if(b)try{let a=this.#X.decode(b.inputs,c.slice(4));e.revert={name:b.name,signature:b.format(),args:a},e.reason=e.revert.signature,e.message=`execution reverted: ${e.reason}`}catch(a){e.message="execution reverted (coult not decode custom error)"}}let f=this.parseTransaction(b);return f&&(e.invocation={method:f.name,signature:f.signature,args:f.args}),e}encodeFunctionResult(a,b){if("string"==typeof a){let b=this.getFunction(a);(0,g.assertArgument)(b,"unknown function","fragment",a),a=b}return(0,d.hexlify)(this.#X.encode(a.outputs,b||[]))}encodeFilterTopics(a,f){if("string"==typeof a){let b=this.getEvent(a);(0,g.assertArgument)(b,"unknown event","eventFragment",a),a=b}(0,g.assert)(f.length<=a.inputs.length,`too many arguments for ${a.format()}`,"UNEXPECTED_ARGUMENT",{count:f.length,expectedCount:a.inputs.length});let h=[];a.anonymous||h.push(a.topicHash);let i=(a,f)=>"string"===a.type?(0,c.id)(f):"bytes"===a.type?(0,b.keccak256)((0,d.hexlify)(f)):("bool"===a.type&&"boolean"==typeof f?f=f?"0x01":"0x00":a.type.match(/^u?int/)?f=(0,e.toBeHex)(f):a.type.match(/^bytes/)?f=(0,d.zeroPadBytes)(f,32):"address"===a.type&&this.#X.encode(["address"],[f]),(0,d.zeroPadValue)((0,d.hexlify)(f),32));for(f.forEach((b,c)=>{let d=a.inputs[c];d.indexed?null==b?h.push(null):"array"===d.baseType||"tuple"===d.baseType?(0,g.assertArgument)(!1,"filtering with tuples or arrays not supported","contract."+d.name,b):Array.isArray(b)?h.push(b.map(a=>i(d,a))):h.push(i(d,b)):(0,g.assertArgument)(null==b,"cannot filter non-indexed parameters; must be null","contract."+d.name,b)});h.length&&null===h[h.length-1];)h.pop();return h}encodeEventLog(a,d){if("string"==typeof a){let b=this.getEvent(a);(0,g.assertArgument)(b,"unknown event","eventFragment",a),a=b}let e=[],f=[],h=[];return a.anonymous||e.push(a.topicHash),(0,g.assertArgument)(d.length===a.inputs.length,"event arguments/values mismatch","values",d),a.inputs.forEach((a,g)=>{let i=d[g];if(a.indexed)if("string"===a.type)e.push((0,c.id)(i));else if("bytes"===a.type)e.push((0,b.keccak256)(i));else if("tuple"===a.baseType||"array"===a.baseType)throw Error("not implemented");else e.push(this.#X.encode([a.type],[i]));else f.push(a),h.push(i)}),{data:this.#X.encode(f,h),topics:e}}decodeEventLog(a,b,c){if("string"==typeof a){let b=this.getEvent(a);(0,g.assertArgument)(b,"unknown event","eventFragment",a),a=b}if(null!=c&&!a.anonymous){let b=a.topicHash;(0,g.assertArgument)((0,d.isHexString)(c[0],32)&&c[0].toLowerCase()===b,"fragment/topic mismatch","topics[0]",c[0]),c=c.slice(1)}let e=[],f=[],h=[];a.inputs.forEach((a,b)=>{a.indexed?"string"===a.type||"bytes"===a.type||"tuple"===a.baseType||"array"===a.baseType?(e.push(j.ParamType.from({type:"bytes32",name:a.name})),h.push(!0)):(e.push(a),h.push(!1)):(f.push(a),h.push(!1))});let k=null!=c?this.#X.decode(e,(0,d.concat)(c)):null,l=this.#X.decode(f,b,!0),m=[],n=[],p=0,q=0;return a.inputs.forEach((a,b)=>{let c=null;if(a.indexed)if(null==k)c=new o(null);else if(h[b])c=new o(k[q++]);else try{c=k[q++]}catch(a){c=a}else try{c=l[p++]}catch(a){c=a}m.push(c),n.push(a.name||null)}),i.Result.fromItems(m,n)}parseTransaction(a){let b=(0,d.getBytes)(a.data,"tx.data"),c=(0,e.getBigInt)(null!=a.value?a.value:0,"tx.value"),f=this.getFunction((0,d.hexlify)(b.slice(0,4)));if(!f)return null;let g=this.#X.decode(f.inputs,b.slice(4));return new m(f,f.selector,g,c)}parseCallResult(a){throw Error("@TODO")}parseLog(a){let b=this.getEvent(a.topics[0]);return!b||b.anonymous?null:new l(b,b.topicHash,this.decodeEventLog(b,a.data,a.topics))}parseError(a){let b=(0,d.hexlify)(a),c=this.getError((0,d.dataSlice)(b,0,4));if(!c)return null;let e=this.#X.decode(c.inputs,(0,d.dataSlice)(b,4));return new n(c,c.selector,e)}static from(a){return a instanceof r?a:new r("string"==typeof a?JSON.parse(a):"function"==typeof a.formatJson?a.formatJson():"function"==typeof a.format?a.format("json"):a)}}a.s(["ErrorDescription",()=>n,"Indexed",()=>o,"Interface",()=>r,"LogDescription",()=>l,"TransactionDescription",()=>m])},66585,53901,91615,96781,a=>{"use strict";var b=a.i(50550),c=a.i(6922),d=a.i(99959),e=a.i(50942),f=a.i(51534),g=a.i(75607),h=a.i(49664),i=a.i(55590);let j=BigInt(0);function k(a){return null==a?null:a}function l(a){return null==a?null:a.toString()}class m{gasPrice;maxFeePerGas;maxPriorityFeePerGas;constructor(a,b,c){(0,e.defineProperties)(this,{gasPrice:k(a),maxFeePerGas:k(b),maxPriorityFeePerGas:k(c)})}toJSON(){let{gasPrice:a,maxFeePerGas:b,maxPriorityFeePerGas:c}=this;return{_type:"FeeData",gasPrice:l(a),maxFeePerGas:l(b),maxPriorityFeePerGas:l(c)}}}function n(a){let b={};for(let c of(a.to&&(b.to=a.to),a.from&&(b.from=a.from),a.data&&(b.data=(0,g.hexlify)(a.data)),"chainId,gasLimit,gasPrice,maxFeePerBlobGas,maxFeePerGas,maxPriorityFeePerGas,value".split(/,/)))c in a&&null!=a[c]&&(b[c]=(0,f.getBigInt)(a[c],`request.${c}`));for(let c of"type,nonce".split(/,/))c in a&&null!=a[c]&&(b[c]=(0,f.getNumber)(a[c],`request.${c}`));return a.accessList&&(b.accessList=(0,i.accessListify)(a.accessList)),a.authorizationList&&(b.authorizationList=a.authorizationList.slice()),"blockTag"in a&&(b.blockTag=a.blockTag),"enableCcipRead"in a&&(b.enableCcipRead=!!a.enableCcipRead),"customData"in a&&(b.customData=a.customData),"blobVersionedHashes"in a&&a.blobVersionedHashes&&(b.blobVersionedHashes=a.blobVersionedHashes.slice()),"kzg"in a&&(b.kzg=a.kzg),"blobWrapperVersion"in a&&(b.blobWrapperVersion=a.blobWrapperVersion),"blobs"in a&&a.blobs&&(b.blobs=a.blobs.map(a=>(0,g.isBytesLike)(a)?(0,g.hexlify)(a):Object.assign({},a))),b}class o{provider;number;hash;timestamp;parentHash;parentBeaconBlockRoot;nonce;difficulty;gasLimit;gasUsed;stateRoot;receiptsRoot;blobGasUsed;excessBlobGas;miner;prevRandao;extraData;baseFeePerGas;#$;constructor(a,b){this.#$=a.transactions.map(a=>"string"!=typeof a?new r(a,b):a),(0,e.defineProperties)(this,{provider:b,hash:k(a.hash),number:a.number,timestamp:a.timestamp,parentHash:a.parentHash,parentBeaconBlockRoot:a.parentBeaconBlockRoot,nonce:a.nonce,difficulty:a.difficulty,gasLimit:a.gasLimit,gasUsed:a.gasUsed,blobGasUsed:a.blobGasUsed,excessBlobGas:a.excessBlobGas,miner:a.miner,prevRandao:k(a.prevRandao),extraData:a.extraData,baseFeePerGas:k(a.baseFeePerGas),stateRoot:a.stateRoot,receiptsRoot:a.receiptsRoot})}get transactions(){return this.#$.map(a=>"string"==typeof a?a:a.hash)}get prefetchedTransactions(){let a=this.#$.slice();return 0===a.length?[]:((0,h.assert)("object"==typeof a[0],"transactions were not prefetched with block request","UNSUPPORTED_OPERATION",{operation:"transactionResponses()"}),a)}toJSON(){let{baseFeePerGas:a,difficulty:b,extraData:c,gasLimit:d,gasUsed:e,hash:f,miner:g,prevRandao:h,nonce:i,number:j,parentHash:k,parentBeaconBlockRoot:m,stateRoot:n,receiptsRoot:o,timestamp:p,transactions:q}=this;return{_type:"Block",baseFeePerGas:l(a),difficulty:l(b),extraData:c,gasLimit:l(d),gasUsed:l(e),blobGasUsed:l(this.blobGasUsed),excessBlobGas:l(this.excessBlobGas),hash:f,miner:g,prevRandao:h,nonce:i,number:j,parentHash:k,timestamp:p,parentBeaconBlockRoot:m,stateRoot:n,receiptsRoot:o,transactions:q}}[Symbol.iterator](){let a=0,b=this.transactions;return{next:()=>a<this.length?{value:b[a++],done:!1}:{value:void 0,done:!0}}}get length(){return this.#$.length}get date(){return null==this.timestamp?null:new Date(1e3*this.timestamp)}async getTransaction(a){let b;if("number"==typeof a)b=this.#$[a];else{let c=a.toLowerCase();for(let a of this.#$)if("string"==typeof a){if(a!==c)continue;b=a;break}else{if(a.hash!==c)continue;b=a;break}}if(null==b)throw Error("no such tx");return"string"==typeof b?await this.provider.getTransaction(b):b}getPrefetchedTransaction(a){let b=this.prefetchedTransactions;if("number"==typeof a)return b[a];for(let c of(a=a.toLowerCase(),b))if(c.hash===a)return c;(0,h.assertArgument)(!1,"no matching transaction","indexOrHash",a)}isMined(){return!!this.hash}isLondon(){return!!this.baseFeePerGas}orphanedEvent(){var a;if(!this.isMined())throw Error("");return a=this,{orphan:"drop-block",hash:a.hash,number:a.number}}}class p{provider;transactionHash;blockHash;blockNumber;removed;address;data;topics;index;transactionIndex;constructor(a,b){this.provider=b;const c=Object.freeze(a.topics.slice());(0,e.defineProperties)(this,{transactionHash:a.transactionHash,blockHash:a.blockHash,blockNumber:a.blockNumber,removed:a.removed,address:a.address,data:a.data,topics:c,index:a.index,transactionIndex:a.transactionIndex})}toJSON(){let{address:a,blockHash:b,blockNumber:c,data:d,index:e,removed:f,topics:g,transactionHash:h,transactionIndex:i}=this;return{_type:"log",address:a,blockHash:b,blockNumber:c,data:d,index:e,removed:f,topics:g,transactionHash:h,transactionIndex:i}}async getBlock(){let a=await this.provider.getBlock(this.blockHash);return(0,h.assert)(!!a,"failed to find transaction","UNKNOWN_ERROR",{}),a}async getTransaction(){let a=await this.provider.getTransaction(this.transactionHash);return(0,h.assert)(!!a,"failed to find transaction","UNKNOWN_ERROR",{}),a}async getTransactionReceipt(){let a=await this.provider.getTransactionReceipt(this.transactionHash);return(0,h.assert)(!!a,"failed to find transaction receipt","UNKNOWN_ERROR",{}),a}removedEvent(){var a;return a=this,{orphan:"drop-log",log:{transactionHash:a.transactionHash,blockHash:a.blockHash,blockNumber:a.blockNumber,address:a.address,data:a.data,topics:Object.freeze(a.topics.slice()),index:a.index}}}}class q{provider;to;from;contractAddress;hash;index;blockHash;blockNumber;logsBloom;gasUsed;blobGasUsed;cumulativeGasUsed;gasPrice;blobGasPrice;type;status;root;#_;constructor(a,b){this.#_=Object.freeze(a.logs.map(a=>new p(a,b)));let c=j;null!=a.effectiveGasPrice?c=a.effectiveGasPrice:null!=a.gasPrice&&(c=a.gasPrice),(0,e.defineProperties)(this,{provider:b,to:a.to,from:a.from,contractAddress:a.contractAddress,hash:a.hash,index:a.index,blockHash:a.blockHash,blockNumber:a.blockNumber,logsBloom:a.logsBloom,gasUsed:a.gasUsed,cumulativeGasUsed:a.cumulativeGasUsed,blobGasUsed:a.blobGasUsed,gasPrice:c,blobGasPrice:a.blobGasPrice,type:a.type,status:a.status,root:a.root})}get logs(){return this.#_}toJSON(){let{to:a,from:b,contractAddress:c,hash:d,index:e,blockHash:f,blockNumber:g,logsBloom:h,logs:i,status:j,root:k}=this;return{_type:"TransactionReceipt",blockHash:f,blockNumber:g,contractAddress:c,cumulativeGasUsed:l(this.cumulativeGasUsed),from:b,gasPrice:l(this.gasPrice),blobGasUsed:l(this.blobGasUsed),blobGasPrice:l(this.blobGasPrice),gasUsed:l(this.gasUsed),hash:d,index:e,logs:i,logsBloom:h,root:k,status:j,to:a}}get length(){return this.logs.length}[Symbol.iterator](){let a=0;return{next:()=>a<this.length?{value:this.logs[a++],done:!1}:{value:void 0,done:!0}}}get fee(){return this.gasUsed*this.gasPrice}async getBlock(){let a=await this.provider.getBlock(this.blockHash);if(null==a)throw Error("TODO");return a}async getTransaction(){let a=await this.provider.getTransaction(this.hash);if(null==a)throw Error("TODO");return a}async getResult(){return await this.provider.getTransactionResult(this.hash)}async confirmations(){return await this.provider.getBlockNumber()-this.blockNumber+1}removedEvent(){return t(this)}reorderedEvent(a){return(0,h.assert)(!a||a.isMined(),"unmined 'other' transction cannot be orphaned","UNSUPPORTED_OPERATION",{operation:"reorderedEvent(other)"}),s(this,a)}}class r{provider;blockNumber;blockHash;index;hash;type;to;from;nonce;gasLimit;gasPrice;maxPriorityFeePerGas;maxFeePerGas;maxFeePerBlobGas;data;value;chainId;signature;accessList;blobVersionedHashes;authorizationList;#aa;constructor(a,b){this.provider=b,this.blockNumber=null!=a.blockNumber?a.blockNumber:null,this.blockHash=null!=a.blockHash?a.blockHash:null,this.hash=a.hash,this.index=a.index,this.type=a.type,this.from=a.from,this.to=a.to||null,this.gasLimit=a.gasLimit,this.nonce=a.nonce,this.data=a.data,this.value=a.value,this.gasPrice=a.gasPrice,this.maxPriorityFeePerGas=null!=a.maxPriorityFeePerGas?a.maxPriorityFeePerGas:null,this.maxFeePerGas=null!=a.maxFeePerGas?a.maxFeePerGas:null,this.maxFeePerBlobGas=null!=a.maxFeePerBlobGas?a.maxFeePerBlobGas:null,this.chainId=a.chainId,this.signature=a.signature,this.accessList=null!=a.accessList?a.accessList:null,this.blobVersionedHashes=null!=a.blobVersionedHashes?a.blobVersionedHashes:null,this.authorizationList=null!=a.authorizationList?a.authorizationList:null,this.#aa=-1}toJSON(){let{blockNumber:a,blockHash:b,index:c,hash:d,type:e,to:f,from:g,nonce:h,data:i,signature:j,accessList:k,blobVersionedHashes:m}=this;return{_type:"TransactionResponse",accessList:k,blockNumber:a,blockHash:b,blobVersionedHashes:m,chainId:l(this.chainId),data:i,from:g,gasLimit:l(this.gasLimit),gasPrice:l(this.gasPrice),hash:d,maxFeePerGas:l(this.maxFeePerGas),maxPriorityFeePerGas:l(this.maxPriorityFeePerGas),maxFeePerBlobGas:l(this.maxFeePerBlobGas),nonce:h,signature:j,to:f,index:c,type:e,value:l(this.value)}}async getBlock(){let a=this.blockNumber;if(null==a){let b=await this.getTransaction();b&&(a=b.blockNumber)}if(null==a)return null;let b=this.provider.getBlock(a);if(null==b)throw Error("TODO");return b}async getTransaction(){return this.provider.getTransaction(this.hash)}async confirmations(){if(null==this.blockNumber){let{tx:a,blockNumber:b}=await (0,e.resolveProperties)({tx:this.getTransaction(),blockNumber:this.provider.getBlockNumber()});return null==a||null==a.blockNumber?0:b-a.blockNumber+1}return await this.provider.getBlockNumber()-this.blockNumber+1}async wait(a,b){let c=null==a?1:a,d=null==b?0:b,f=this.#aa,g=-1,i=-1===f,k=async()=>{if(i)return null;let{blockNumber:a,nonce:b}=await (0,e.resolveProperties)({blockNumber:this.provider.getBlockNumber(),nonce:this.provider.getTransactionCount(this.from)});if(b<this.nonce){f=a;return}if(i)return null;let d=await this.getTransaction();if(!d||null==d.blockNumber)for(-1===g&&(g=f-3)<this.#aa&&(g=this.#aa);g<=a;){if(i)return null;let b=await this.provider.getBlock(g,!0);if(null==b)break;for(let a of b)if(a===this.hash)return;for(let d=0;d<b.length;d++){let e=await b.getTransaction(d);if(e.from===this.from&&e.nonce===this.nonce){if(i)return null;let b=await this.provider.getTransactionReceipt(e.hash);if(null==b||a-b.blockNumber+1<c)return;let d="replaced";e.data===this.data&&e.to===this.to&&e.value===this.value?d="repriced":"0x"===e.data&&e.from===e.to&&e.value===j&&(d="cancelled"),(0,h.assert)(!1,"transaction was replaced","TRANSACTION_REPLACED",{cancelled:"replaced"===d||"cancelled"===d,reason:d,replacement:e.replaceableTransaction(f),hash:e.hash,receipt:b})}}g++}},l=a=>{if(null==a||0!==a.status)return a;(0,h.assert)(!1,"transaction execution reverted","CALL_EXCEPTION",{action:"sendTransaction",data:null,reason:null,invocation:null,revert:null,transaction:{to:a.to,from:a.from,data:""},receipt:a})},m=await this.provider.getTransactionReceipt(this.hash);if(0===c)return l(m);if(m){if(1===c||await m.confirmations()>=c)return l(m)}else if(await k(),0===c)return null;let n=new Promise((a,b)=>{let e=[],g=()=>{e.forEach(a=>a())};if(e.push(()=>{i=!0}),d>0){let a=setTimeout(()=>{g(),b((0,h.makeError)("wait for transaction timeout","TIMEOUT"))},d);e.push(()=>{clearTimeout(a)})}let j=async d=>{if(await d.confirmations()>=c){g();try{a(l(d))}catch(a){b(a)}}};if(e.push(()=>{this.provider.off(this.hash,j)}),this.provider.on(this.hash,j),f>=0){let a=async()=>{try{await k()}catch(a){if((0,h.isError)(a,"TRANSACTION_REPLACED")){g(),b(a);return}}i||this.provider.once("block",a)};e.push(()=>{this.provider.off("block",a)}),this.provider.once("block",a)}});return await n}isMined(){return null!=this.blockHash}isLegacy(){return 0===this.type}isBerlin(){return 1===this.type}isLondon(){return 2===this.type}isCancun(){return 3===this.type}removedEvent(){return(0,h.assert)(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),t(this)}reorderedEvent(a){return(0,h.assert)(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),(0,h.assert)(!a||a.isMined(),"unmined 'other' transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),s(this,a)}replaceableTransaction(a){(0,h.assertArgument)(Number.isInteger(a)&&a>=0,"invalid startBlock","startBlock",a);let b=new r(this,this.provider);return b.#aa=a,b}}function s(a,b){return{orphan:"reorder-transaction",tx:a,other:b}}function t(a){return{orphan:"drop-transaction",tx:a}}a.s(["Block",()=>o,"FeeData",()=>m,"Log",()=>p,"TransactionReceipt",()=>q,"TransactionResponse",()=>r,"copyRequest",()=>n],53901);class u{filter;emitter;#ab;constructor(a,b,c){this.#ab=b,(0,e.defineProperties)(this,{emitter:a,filter:c})}async removeListener(){null!=this.#ab&&await this.emitter.off(this.filter,this.#ab)}}a.s(["EventPayload",()=>u],91615);class v extends p{interface;fragment;args;constructor(a,b,c){super(a,a.provider);const d=b.decodeEventLog(c,a.data,a.topics);(0,e.defineProperties)(this,{args:d,fragment:c,interface:b})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}class w extends p{error;constructor(a,b){super(a,a.provider),(0,e.defineProperties)(this,{error:b})}}class x extends q{#ac;constructor(a,b,c){super(c,b),this.#ac=a}get logs(){return super.logs.map(a=>{let b=a.topics.length?this.#ac.getEvent(a.topics[0]):null;if(b)try{return new v(a,this.#ac,b)}catch(b){return new w(a,b)}return a})}}class y extends r{#ac;constructor(a,b,c){super(c,b),this.#ac=a}async wait(a,b){let c=await super.wait(a,b);return null==c?null:new x(this.#ac,this.provider,c)}}class z extends u{log;constructor(a,b,c,d){super(a,b,c),(0,e.defineProperties)(this,{log:d})}async getBlock(){return await this.log.getBlock()}async getTransaction(){return await this.log.getTransaction()}async getTransactionReceipt(){return await this.log.getTransactionReceipt()}}class A extends z{constructor(a,b,c,d,f){super(a,b,c,new v(f,a.interface,d));const g=a.interface.decodeEventLog(d,this.log.data,this.log.topics);(0,e.defineProperties)(this,{args:g,fragment:d})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}a.s(["ContractEventPayload",()=>A,"ContractTransactionReceipt",()=>x,"ContractTransactionResponse",()=>y,"ContractUnknownEventPayload",()=>z,"EventLog",()=>v,"UndecodedEventLog",()=>w],96781);let B=BigInt(0);function C(a){return a&&"function"==typeof a.call}function D(a){return a&&"function"==typeof a.estimateGas}function E(a){return a&&"function"==typeof a.resolveName}function F(a){return a&&"function"==typeof a.sendTransaction}function G(a){if(null!=a){if(E(a))return a;if(a.provider)return a.provider}}class H{#ad;fragment;constructor(a,b,c){if((0,e.defineProperties)(this,{fragment:b}),b.inputs.length<c.length)throw Error("too many arguments");const f=I(a.runner,"resolveName"),g=E(f)?f:null;this.#ad=async function(){let e=await Promise.all(b.inputs.map((a,b)=>null==c[b]?null:a.walkAsync(c[b],(a,b)=>"address"===a?Array.isArray(b)?Promise.all(b.map(a=>(0,d.resolveAddress)(a,g))):(0,d.resolveAddress)(b,g):b)));return a.interface.encodeFilterTopics(b,e)}()}getTopicFilter(){return this.#ad}}function I(a,b){return null==a?null:"function"==typeof a[b]?a:a.provider&&"function"==typeof a.provider[b]?a.provider:null}function J(a){return null==a?null:a.provider||null}async function K(a,b){let d=c.Typed.dereference(a,"overrides");(0,h.assertArgument)("object"==typeof d,"invalid overrides parameter","overrides",a);let e=n(d);return(0,h.assertArgument)(null==e.to||(b||[]).indexOf("to")>=0,"cannot override to","overrides.to",e.to),(0,h.assertArgument)(null==e.data||(b||[]).indexOf("data")>=0,"cannot override data","overrides.data",e.data),e.from&&(e.from=e.from),e}async function L(a,b,e){let f=I(a,"resolveName"),g=E(f)?f:null;return await Promise.all(b.map((a,b)=>a.walkAsync(e[b],(a,b)=>(b=c.Typed.dereference(b,a),"address"===a)?(0,d.resolveAddress)(b,g):b)))}let M=Symbol.for("_ethersInternal_contract"),N=new WeakMap;function O(a){return N.get(a[M])}async function P(a,b){let c,d=null;if(Array.isArray(b)){let d=function(b){if((0,g.isHexString)(b,32))return b;let c=a.interface.getEvent(b);return(0,h.assertArgument)(c,"unknown fragment","name",b),c.topicHash};c=b.map(a=>null==a?null:Array.isArray(a)?a.map(d):d(a))}else if("*"===b)c=[null];else if("string"==typeof b)(0,g.isHexString)(b,32)?c=[b]:(d=a.interface.getEvent(b),(0,h.assertArgument)(d,"unknown fragment","event",b),c=[d.topicHash]);else b&&"object"==typeof b&&"getTopicFilter"in b&&"function"==typeof b.getTopicFilter&&b.fragment?c=await b.getTopicFilter():"fragment"in b?c=[(d=b.fragment).topicHash]:(0,h.assertArgument)(!1,"unknown event name","event",b);return{fragment:d,tag:(c=c.map(a=>{if(null==a)return null;if(Array.isArray(a)){let b=Array.from(new Set(a.map(a=>a.toLowerCase())).values());return 1===b.length?b[0]:(b.sort(),b)}return a.toLowerCase()})).map(a=>null==a?"null":Array.isArray(a)?a.join("|"):a).join("&"),topics:c}}async function Q(a,b){let{subs:c}=O(a);return c.get((await P(a,b)).tag)||null}async function R(a,b,c){let d=J(a.runner);(0,h.assert)(d,"contract runner does not support subscribing","UNSUPPORTED_OPERATION",{operation:b});let{fragment:e,tag:f,topics:g}=await P(a,c),{addr:i,subs:j}=O(a),k=j.get(f);if(!k){let b={address:i||a,topics:g},h=b=>{let d=e;if(null==d)try{d=a.interface.getEvent(b.topics[0])}catch(a){}if(d){let f=d,g=e?a.interface.decodeEventLog(e,b.data,b.topics):[];U(a,c,g,d=>new A(a,d,c,f,b))}else U(a,c,[],d=>new z(a,d,c,b))},l=[];k={tag:f,listeners:[],start:()=>{l.length||l.push(d.on(b,h))},stop:async()=>{if(0==l.length)return;let a=l;l=[],await Promise.all(a),d.off(b,h)}},j.set(f,k)}return k}let S=Promise.resolve();async function T(a,b,c,d){await S;let e=await Q(a,b);if(!e)return!1;let f=e.listeners.length;return e.listeners=e.listeners.filter(({listener:b,once:e})=>{let f=Array.from(c);d&&f.push(d(e?null:b));try{b.call(a,...f)}catch(a){}return!e}),0===e.listeners.length&&(e.stop(),O(a).subs.delete(e.tag)),f>0}async function U(a,b,c,d){try{await S}catch(a){}let e=T(a,b,c,d);return S=e,await e}let V=["then"];class W{target;interface;runner;filters;[M];fallback;constructor(a,c,i,j){let k;(0,h.assertArgument)("string"==typeof a||(0,d.isAddressable)(a),"invalid value for Contract target","target",a),null==i&&(i=null);const l=b.Interface.from(c);(0,e.defineProperties)(this,{target:a,runner:i,interface:l}),Object.defineProperty(this,M,{value:{}});let m=null,n=null;if(j){const a=J(i);n=new y(this.interface,a,j)}let o=new Map;if("string"==typeof a)if((0,g.isHexString)(a))m=a,k=Promise.resolve(a);else{const b=I(i,"resolveName");if(!E(b))throw(0,h.makeError)("contract runner does not support name resolution","UNSUPPORTED_OPERATION",{operation:"resolveName"});k=b.resolveName(a).then(b=>{if(null==b)throw(0,h.makeError)("an ENS name used for a contract target must be correctly configured","UNCONFIGURED_NAME",{value:a});return O(this).addr=b,b})}else k=a.getAddress().then(a=>{if(null==a)throw Error("TODO");return O(this).addr=a,a});!function(a,b){N.set(a[M],b)}(this,{addrPromise:k,addr:m,deployTx:n,subs:o});const p=new Proxy({},{get:(a,b,c)=>{if("symbol"==typeof b||V.indexOf(b)>=0)return Reflect.get(a,b,c);try{return this.getEvent(b)}catch(a){if(!(0,h.isError)(a,"INVALID_ARGUMENT")||"key"!==a.argument)throw a}},has:(a,b)=>V.indexOf(b)>=0?Reflect.has(a,b):Reflect.has(a,b)||this.interface.hasEvent(String(b))});return(0,e.defineProperties)(this,{filters:p}),(0,e.defineProperties)(this,{fallback:l.receive||l.fallback?function(a){let b=async function(b){let c=await K(b,["data"]);c.to=await a.getAddress(),c.from&&(c.from=await (0,d.resolveAddress)(c.from,G(a.runner)));let e=a.interface,g=(0,f.getBigInt)(c.value||B,"overrides.value")===B,i="0x"===(c.data||"0x");!e.fallback||e.fallback.payable||!e.receive||i||g||(0,h.assertArgument)(!1,"cannot send data to receive or send value to non-payable fallback","overrides",b),(0,h.assertArgument)(e.fallback||i,"cannot send data to receive-only contract","overrides.data",c.data);let j=e.receive||e.fallback&&e.fallback.payable;return(0,h.assertArgument)(j||g,"cannot send value to non-payable fallback","overrides.value",c.value),(0,h.assertArgument)(e.fallback||i,"cannot send data to receive-only contract","overrides.data",c.data),c},c=async function(c){let d=I(a.runner,"call");(0,h.assert)(C(d),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});let e=await b(c);try{return await d.call(e)}catch(b){if((0,h.isCallException)(b)&&b.data)throw a.interface.makeError(b.data,e);throw b}},g=async function(c){let d=a.runner;(0,h.assert)(F(d),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});let e=await d.sendTransaction(await b(c)),f=J(a.runner);return new y(a.interface,f,e)},i=async function(c){let d=I(a.runner,"estimateGas");return(0,h.assert)(D(d),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await d.estimateGas(await b(c))},j=async a=>await g(a);return(0,e.defineProperties)(j,{_contract:a,estimateGas:i,populateTransaction:b,send:g,staticCall:c}),j}(this):null}),new Proxy(this,{get:(a,b,c)=>{if("symbol"==typeof b||b in a||V.indexOf(b)>=0)return Reflect.get(a,b,c);try{return a.getFunction(b)}catch(a){if(!(0,h.isError)(a,"INVALID_ARGUMENT")||"key"!==a.argument)throw a}},has:(a,b)=>"symbol"==typeof b||b in a||V.indexOf(b)>=0?Reflect.has(a,b):a.interface.hasFunction(b)})}connect(a){return new W(this.target,this.interface,a)}attach(a){return new W(a,this.interface,this.runner)}async getAddress(){return await O(this).addrPromise}async getDeployedCode(){let a=J(this.runner);(0,h.assert)(a,"runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"getDeployedCode"});let b=await a.getCode(await this.getAddress());return"0x"===b?null:b}async waitForDeployment(){let a=this.deploymentTransaction();if(a)return await a.wait(),this;if(null!=await this.getDeployedCode())return this;let b=J(this.runner);return(0,h.assert)(null!=b,"contract runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"waitForDeployment"}),new Promise((a,c)=>{let d=async()=>{try{let c=await this.getDeployedCode();if(null!=c)return a(this);b.once("block",d)}catch(a){c(a)}};d()})}deploymentTransaction(){return O(this).deployTx}getFunction(a){var b,c;let f,g,i,j,k,l,m;return"string"!=typeof a&&(a=a.format()),b=this,c=a,f=function(...a){let d=b.interface.getFunction(c,a);return(0,h.assert)(d,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:c,args:a}}),d},g=async function(...a){let c=f(...a),g={};if(c.inputs.length+1===a.length&&(g=await K(a.pop())).from&&(g.from=await (0,d.resolveAddress)(g.from,G(b.runner))),c.inputs.length!==a.length)throw Error("internal error: fragment inputs doesn't match arguments; should not happen");let h=await L(b.runner,c.inputs,a);return Object.assign({},g,await (0,e.resolveProperties)({to:b.getAddress(),data:b.interface.encodeFunctionData(c,h)}))},i=async function(...a){let b=await l(...a);return 1===b.length?b[0]:b},j=async function(...a){let c=b.runner;(0,h.assert)(F(c),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});let d=await c.sendTransaction(await g(...a)),e=J(b.runner);return new y(b.interface,e,d)},k=async function(...a){let c=I(b.runner,"estimateGas");return(0,h.assert)(D(c),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await c.estimateGas(await g(...a))},l=async function(...a){let c=I(b.runner,"call");(0,h.assert)(C(c),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});let d=await g(...a),e="0x";try{e=await c.call(d)}catch(a){if((0,h.isCallException)(a)&&a.data)throw b.interface.makeError(a.data,d);throw a}let i=f(...a);return b.interface.decodeFunctionResult(i,e)},m=async(...a)=>f(...a).constant?await i(...a):await j(...a),(0,e.defineProperties)(m,{name:b.interface.getFunctionName(c),_contract:b,_key:c,getFragment:f,estimateGas:k,populateTransaction:g,send:j,staticCall:i,staticCallResult:l}),Object.defineProperty(m,"fragment",{configurable:!1,enumerable:!0,get:()=>{let a=b.interface.getFunction(c);return(0,h.assert)(a,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:c}}),a}}),m}getEvent(a){var b,c;let d,f;return"string"!=typeof a&&(a=a.format()),b=this,c=a,d=function(...a){let d=b.interface.getEvent(c,a);return(0,h.assert)(d,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:c,args:a}}),d},f=function(...a){return new H(b,d(...a),a)},(0,e.defineProperties)(f,{name:b.interface.getEventName(c),_contract:b,_key:c,getFragment:d}),Object.defineProperty(f,"fragment",{configurable:!1,enumerable:!0,get:()=>{let a=b.interface.getEvent(c);return(0,h.assert)(a,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:c}}),a}}),f}async queryTransaction(a){throw Error("@TODO")}async queryFilter(a,b,c){null==b&&(b=0),null==c&&(c="latest");let{addr:d,addrPromise:e}=O(this),f=d||await e,{fragment:g,topics:i}=await P(this,a),j={address:f,topics:i,fromBlock:b,toBlock:c},k=J(this.runner);return(0,h.assert)(k,"contract runner does not have a provider","UNSUPPORTED_OPERATION",{operation:"queryFilter"}),(await k.getLogs(j)).map(a=>{let b=g;if(null==b)try{b=this.interface.getEvent(a.topics[0])}catch(a){}if(b)try{return new v(a,this.interface,b)}catch(b){return new w(a,b)}return new p(a,k)})}async on(a,b){let c=await R(this,"on",a);return c.listeners.push({listener:b,once:!1}),c.start(),this}async once(a,b){let c=await R(this,"once",a);return c.listeners.push({listener:b,once:!0}),c.start(),this}async emit(a,...b){return await U(this,a,b,null)}async listenerCount(a){if(a){let b=await Q(this,a);return b?b.listeners.length:0}let{subs:b}=O(this),c=0;for(let{listeners:a}of b.values())c+=a.length;return c}async listeners(a){if(a){let b=await Q(this,a);return b?b.listeners.map(({listener:a})=>a):[]}let{subs:b}=O(this),c=[];for(let{listeners:a}of b.values())c=c.concat(a.map(({listener:a})=>a));return c}async off(a,b){let c=await Q(this,a);if(!c)return this;if(b){let a=c.listeners.map(({listener:a})=>a).indexOf(b);a>=0&&c.listeners.splice(a,1)}return(null==b||0===c.listeners.length)&&(c.stop(),O(this).subs.delete(c.tag)),this}async removeAllListeners(a){if(a){let b=await Q(this,a);if(!b)return this;b.stop(),O(this).subs.delete(b.tag)}else{let{subs:a}=O(this);for(let{tag:b,stop:c}of a.values())c(),a.delete(b)}return this}async addListener(a,b){return await this.on(a,b)}async removeListener(a,b){return await this.off(a,b)}static buildClass(a){return class extends W{constructor(b,c=null){super(b,a,c)}}}static from(a,b,c){return null==c&&(c=null),new this(a,b,c)}}function X(){return W}class Y extends X(){}a.s(["BaseContract",()=>W,"Contract",()=>Y,"copyOverrides",()=>K,"resolveArgs",()=>L],66585)},53184,a=>{"use strict";let b,c,d,e,f,g,h,i,j,k,l,m,n,o,p;var q=a.i(99374),r=a.i(75607),s=a.i(49664),t=a.i(23916);let u=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]);function v(a){var b;let c;return b=function(a){let b=0;function c(){return a[b++]<<8|a[b++]}let d=c(),e=1,f=[0,1];for(let a=1;a<d;a++)f.push(e+=c());let g=c(),h=b;b+=g;let i=0,j=0;function k(){return 0==i&&(j=j<<8|a[b++],i=8),j>>--i&1}let l=0x80000000-1,m=0;for(let a=0;a<31;a++)m=m<<1|k();let n=[],o=0,p=0x80000000;for(;;){let a=Math.floor(((m-o+1)*e-1)/p),b=0,c=d;for(;c-b>1;){let d=b+c>>>1;a<f[d]?c=d:b=d}if(0==b)break;n.push(b);let g=o+Math.floor(p*f[b]/e),h=o+Math.floor(p*f[b+1]/e)-1;for(;((g^h)&0x40000000)==0;)m=m<<1&l|k(),g=g<<1&l,h=h<<1&l|1;for(;g&~h&0x20000000;)m=0x40000000&m|m<<1&l>>>1|k(),g=g<<1^0x40000000,h=(0x40000000^h)<<1|0x40000001;o=g,p=1+h-g}let q=d-4;return n.map(b=>{switch(b-q){case 3:return q+65792+(a[h++]<<16|a[h++]<<8|a[h++]);case 2:return q+256+(a[h++]<<8|a[h++]);case 1:return q+a[h++];default:return b-1}})}(function(a){let b=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach((a,c)=>b[a.charCodeAt(0)]=c);let c=a.length,d=new Uint8Array(6*c>>3);for(let e=0,f=0,g=0,h=0;e<c;e++)h=h<<6|b[a.charCodeAt(e)],(g+=6)>=8&&(d[f++]=h>>(g-=8));return d}(a)),c=0,()=>b[c++]}function w(a,b=0){let c=[];for(;;){let d=a(),e=a();if(!e)break;b+=d;for(let a=0;a<e;a++)c.push(b+a);b+=e+1}return c}function x(a){return z(()=>{let b=w(a);if(b.length)return b})}function y(a){let b=[];for(;;){let c=a();if(0==c)break;b.push(function(a,b){let c=1+b(),d=b(),e=z(b);return A(e.length,1+a,b).flatMap((a,b)=>{let[f,...g]=a;return Array(e[b]).fill().map((a,b)=>{let e=b*d;return[f+b*c,g.map(a=>a+e)]})})}(c,a))}for(;;){var c,d;let e=a()-1;if(e<0)break;b.push((c=e,A(1+(d=a)(),1+c,d).map(a=>[a[0],a.slice(1)])))}return b.flat()}function z(a){let b=[];for(;;){let c=a(b.length);if(!c)break;b.push(c)}return b}function A(a,b,c){let d=Array(a).fill().map(()=>[]);for(let e=0;e<b;e++)(function(a,b){let c=Array(a);for(let e=0,f=0;e<a;e++){var d;c[e]=f+=1&(d=b())?~d>>1:d>>1}return c})(a,c).forEach((a,b)=>d[b].push(a));return d}function B(a){return`{${a.toString(16).toUpperCase().padStart(2,"0")}}`}function C(a){let b=a.length;if(b<4096)return String.fromCodePoint(...a);let c=[];for(let d=0;d<b;)c.push(String.fromCodePoint(...a.slice(d,d+=4096)));return c.join("")}function D(a,b){let c=a.length,d=c-b.length;for(let e=0;0==d&&e<c;e++)d=a[e]-b[e];return d}let E=55204;function F(a){return a>>24&255}function G(a){return 0xffffff&a}function H(a){return a>=44032&&a<E}function I(a){b||function(){let a=v("AEUDTAHBCFQATQDRADAAcgAgADQAFAAsABQAHwAOACQADQARAAoAFwAHABIACAAPAAUACwAFAAwABAAQAAMABwAEAAoABQAIAAIACgABAAQAFAALAAIACwABAAIAAQAHAAMAAwAEAAsADAAMAAwACgANAA0AAwAKAAkABAAdAAYAZwDSAdsDJgC0CkMB8xhZAqfoC190UGcThgBurwf7PT09Pb09AjgJum8OjDllxHYUKXAPxzq6tABAxgK8ysUvWAgMPT09PT09PSs6LT2HcgWXWwFLoSMEEEl5RFVMKvO0XQ8ExDdJMnIgsj26PTQyy8FfEQ8AY8IPAGcEbwRwBHEEcgRzBHQEdQR2BHcEeAR6BHsEfAR+BIAEgfndBQoBYgULAWIFDAFiBNcE2ATZBRAFEQUvBdALFAsVDPcNBw13DYcOMA4xDjMB4BllHI0B2grbAMDpHLkQ7QHVAPRNQQFnGRUEg0yEB2uaJF8AJpIBpob5AERSMAKNoAXqaQLUBMCzEiACnwRZEkkVsS7tANAsBG0RuAQLEPABv9HICTUBXigPZwRBApMDOwAamhtaABqEAY8KvKx3LQ4ArAB8UhwEBAVSagD8AEFZADkBIadVj2UMUgx5Il4ANQC9AxIB1BlbEPMAs30CGxlXAhwZKQIECBc6EbsCoxngzv7UzRQA8M0BawL6ZwkN7wABAD33OQRcsgLJCjMCjqUChtw/km+NAsXPAoP2BT84PwURAK0RAvptb6cApQS/OMMey5HJS84UdxpxTPkCogVFITaTOwERAK5pAvkNBOVyA7q3BKlOJSALAgUIBRcEdASpBXqzABXFSWZOawLCOqw//AolCZdvv3dSBkEQGyelEPcMMwG1ATsN7UvYBPEGOwTJH30ZGQ/NlZwIpS3dDO0m4y6hgFoj9SqDBe1L9DzdC01RaA9ZC2UJ4zpjgU4DIQENIosK3Q05CG0Q8wrJaw3lEUUHOQPVSZoApQcBCxEdNRW1JhBirAsJOXcG+xr2C48mrxMpevwF0xohBk0BKRr/AM8u54WwWjFcHE9fBgMLJSPHFKhQIA0lQLd4SBobBxUlqQKRQ3BKh1E2HpMh9jw9DWYuE1F8B/U8BRlPC4E8nkarRQ4R0j6NPUgiSUwsBDV/LC8niwnPD4UMuXxyAVkJIQmxDHETMREXN8UIOQcZLZckJxUIIUaVYJoE958D8xPRAwsFPwlBBxMDtRwtEy4VKQUNgSTXAvM21S6zAo9WgAEXBcsPJR/fEFBH4A7pCJsCZQODJesALRUhABcimwhDYwBfj9hTBS7LCMdqbCN0A2cU52ERcweRDlcHpxwzFb8c4XDIXguGCCijrwlbAXUJmQFfBOMICTVbjKAgQWdTi1gYmyBhQT9d/AIxDGUVn0S9h3gCiw9rEhsBNQFzBzkNAQJ3Ee0RaxCVCOuGBDW1M/g6JQRPIYMgEQonA09szgsnJvkM+GkBoxJiAww0PXfuZ6tgtiQX/QcZMsVBYCHxC5JPzQycGsEYQlQuGeQHvwPzGvMn6kFXBf8DowMTOk0z7gS9C2kIiwk/AEkOoxcH1xhqCnGM0AExiwG3mQNXkYMCb48GNwcLAGcLhwV55QAdAqcIowAFAM8DVwA5Aq0HnQAZAIVBAT0DJy8BIeUCjwOTCDHLAZUvAfMpBBvDDBUA9zduSgLDsQKAamaiBd1YAo4CSTUBTSUEBU5HUQOvceEA2wBLBhPfRwEVq0rLGuNDAd9vKwDHAPsABTUHBUEBzQHzbQC3AV8LMQmis7UBTekpAIMAFWsB1wKJAN0ANQB/8QFTAE0FWfkF0wJPSQERMRgrV2EBuwMfATMBDQB5BsuNpckHHwRtB9MCEBsV4QLvLge1AQMi3xPNQsUCvd5VoWACZIECYkJbTa9bNyACofcCaJgCZgkCn4Q4GwsCZjsCZiYEbgR/A38TA36SOQY5dxc5gjojIwJsHQIyNjgKAm3HAm2u74ozZ0UrAWcA3gDhAEoFB5gMjQD+C8IADbUCdy8CdqI/AnlLQwJ4uh1c20WuRtcCfD8CesgCfQkCfPAFWQUgSABIfWMkAoFtAoAAAoAFAn+uSVhKWxUXSswC0QEC0MxLJwOITwOH5kTFkTIC8qFdAwMDrkvOTC0lA89NTE2vAos/AorYwRsHHUNnBbcCjjcCjlxAl4ECjtkCjlx4UbRTNQpS1FSFApP7ApMMAOkAHFUeVa9V0AYsGymVhjLheGZFOzkCl58C77JYIagAWSUClo8ClnycAKlZrFoJgU0AOwKWtQKWTlxEXNECmcsCmWRcyl0HGQKcmznCOp0CnBYCn5sCnriKAB0PMSoPAp3xAp6SALU9YTRh7wKe0wKgbgGpAp6fHwKeTqVjyGQnJSsCJ68CJn4CoPsCoEwCot0CocQCpi8Cpc4Cp/8AfQKn8mh8aLEAA0lqHGrRAqzjAqyuAq1nAq0CAlcdAlXcArHh1wMfTmyXArK9DQKy6Bds4G1jbUhfAyXNArZcOz9ukAMpRQK4XgK5RxUCuSp3cDZw4QK9GQK72nCWAzIRAr6IcgIDM3ECvhpzInNPAsPLAsMEc4J0SzVFdOADPKcDPJoDPb8CxXwCxkcCxhCJAshpUQLIRALJTwLJLgJknQLd0nh5YXiueSVL0AMYo2cCAmH0GfOVJHsLXpJeuxECz2sCz2wvS1PS8xOfAMatAs9zASnqA04SfksFAtwnAtuKAtJPA1JcA1NfAQEDVYyAiT8AyxbtYEWCHILTgs6DjQLaxwLZ3oQQhEmnPAOGpQAvA2QOhnFZ+QBVAt9lAt64c3cC4i/tFAHzMCcB9JsB8tKHAuvzAulweQLq+QLq5AD5RwG5Au6JAuuclqqXAwLuPwOF4Jh5cOBxoQLzAwBpA44WmZMC9xMDkW4DkocC95gC+dkC+GaaHJqruzebHgOdgwL++gEbADmfHJ+zAwWNA6ZqA6bZANHFAwZqoYiiBQkDDEkCwAA/AwDhQRdTARHzA2sHl2cFAJMtK7evvdsBiZkUfxEEOQH7KQUhDp0JnwCS/SlXxQL3AZ0AtwW5AG8LbUEuFCaNLgFDAYD8AbUmAHUDDgRtACwCFgyhAAAKAj0CagPdA34EkQEgRQUhfAoABQBEABMANhICdwEABdUDa+8KxQIA9wqfJ7+xt+UBkSFBQgHpFH8RNMCJAAQAGwBaAkUChIsABjpTOpSNbQC4Oo860ACNOME63AClAOgAywE6gTo7Ofw5+Tt2iTpbO56JOm85GAFWATMBbAUvNV01njWtNWY1dTW2NcU1gjWRNdI14TWeNa017jX9NbI1wTYCNhE1xjXVNhY2JzXeNe02LjY9Ni41LSE2OjY9Njw2yTcIBJA8VzY4Nt03IDcPNsogN4k3MAoEsDxnNiQ3GTdsOo03IULUQwdC4EMLHA8PCZsobShRVQYA6X8A6bABFCnXAukBowC9BbcAbwNzBL8MDAMMAQgDAAkKCwsLCQoGBAVVBI/DvwDz9b29kaUCb0QtsRTNLt4eGBcSHAMZFhYZEhYEARAEBUEcQRxBHEEcQRxBHEEaQRxBHEFCSTxBPElISUhBNkM2QTYbNklISVmBVIgBFLWZAu0BhQCjBcEAbykBvwGJAaQcEZ0ePCklMAAhMvAIMAL54gC7Bm8EescjzQMpARQpKgDUABavAj626xQAJP0A3etzuf4NNRA7efy2Z9NQrCnC0OSyANz5BBIbJ5IFDR6miIavYS6tprjjmuKebxm5C74Q225X1pkaYYPb6f1DK4k3xMEBb9S2WMjEibTNWhsRJIA+vwNVEiXTE5iXs/wezV66oFLfp9NZGYW+Gk19J2+bCT6Ye2w6LDYdgzKMUabk595eLBCXANz9HUpWbATq9vqXVx9XDg+Pc9Xp4+bsS005SVM/BJBM4687WUuf+Uj9dEi8aDNaPxtpbDxcG1THTImUMZq4UCaaNYpsVqraNyKLJXDYsFZ/5jl7bLRtO88t7P3xZaAxhb5OdPMXqsSkp1WCieG8jXm1U99+blvLlXzPCS+M93VnJCiK+09LfaSaBAVBomyDgJua8dfUzR7ga34IvR2Nvj+A9heJ6lsl1KG4NkI1032Cnff1m1wof2B9oHJK4bi6JkEdSqeNeiuo6QoZZincoc73/TH9SXF8sCE7XyuYyW8WSgbGFCjPV0ihLKhdPs08Tx82fYAkLLc4I2wdl4apY7GU5lHRFzRWJep7Ww3wbeA3qmd59/86P4xuNaqDpygXt6M85glSBHOCGgJDnt+pN9bK7HApMguX6+06RZNjzVmcZJ+wcUrJ9//bpRNxNuKpNl9uFds+S9tdx7LaM5ZkIrPj6nIU9mnbFtVbs9s/uLgl8MVczAwet+iOEzzBlYW7RCMgE6gyNLeq6+1tIx4dpgZnd0DksJS5f+JNDpwwcPNXaaVspq1fbQajOrJgK0ofKtJ1Ne90L6VO4MOl5S886p7u6xo7OLjG8TGL+HU1JXGJgppg4nNbNJ5nlzSpuPYy21JUEcUA94PoFiZfjZue+QnyQ80ekOuZVkxx4g+cvhJfHgNl4hy1/a6+RKcKlar/J29y//EztlbVPHVUeQ1zX86eQVAjR/M3dA9w4W8LfaXp4EgM85wOWasli837PzVMOnsLzR+k3o75/lRPAJSE1xAKQzEi5v10ke+VBvRt1cwQRMd+U5mLCTGVd6XiZtgBG5cDi0w22GKcVNvHiu5LQbZEDVtz0onn7k5+heuKXVsZtSzilkLRAUmjMXEMB3J9YC50XBxPiz53SC+EhnPl9WsKCv92SM/OFFIMJZYfl0WW8tIO3UxYcwdMAj7FSmgrsZ2aAZO03BOhP1bNNZItyXYQFTpC3SG1VuPDqH9GkiCDmE+JwxyIVSO5siDErAOpEXFgjy6PQtOVDj+s6e1r8heWVvmZnTciuf4EiNZzCAd7SOMhXERIOlsHIMG399i9aLTy3m2hRLZjJVDNLS53iGIK11dPqQt0zBDyg6qc7YqkDm2M5Ve6dCWCaCbTXX2rToaIgz6+zh4lYUi/+6nqcFMAkQJKHYLK0wYk5N9szV6xihDbDDFr45lN1K4aCXBq/FitPSud9gLt5ZVn+ZqGX7cwm2z5EGMgfFpIFyhGGuDPmso6TItTMwny+7uPnLCf4W6goFQFV0oQSsc9VfMmVLcLr6ZetDZbaSFTLqnSO/bIPjA3/zAUoqgGFAEQS4IhuMzEp2I3jJzbzkk/IEmyax+rhZTwd6f+CGtwPixu8IvzACquPWPREu9ZvGkUzpRwvRRuaNN6cr0W1wWits9ICdYJ7ltbgMiSL3sTPeufgNcVqMVWFkCPDH4jG2jA0XcVgQj62Cb29v9f/z/+2KbYvIv/zzjpQAPkliaVDzNrW57TZ/ZOyZD0nlfMmAIBIAGAI0D3k/mdN4xr9v85ZbZbbqfH2jGd5hUqNZWwl5SPfoGmfElmazUIeNL1j/mkF7VNAzTq4jNt8JoQ11NQOcmhprXoxSxfRGJ9LDEOAQ+dmxAQH90iti9e2u/MoeuaGcDTHoC+xsmEeWmxEKefQuIzHbpw5Tc5cEocboAD09oipWQhtTO1wivf/O+DRe2rpl/E9wlrzBorjJsOeG1B/XPW4EaJEFdNlECEZga5ZoGRHXgYouGRuVkm8tDESiEyFNo+3s5M5puSdTyUL2llnINVHEt91XUNW4ewdMgJ4boJfEyt/iY5WXqbA+A2Fkt5Z0lutiWhe9nZIyIUjyXDC3UsaG1t+eNx6z4W/OYoTB7A6x+dNSTOi9AInctbESqm5gvOLww7OWXPrmHwVZasrl4eD113pm+JtT7JVOvnCXqdzzdTRHgJ0PiGTFYW5Gvt9R9LD6Lzfs0v/TZZHSmyVNq7viIHE6DBK7Qp07Iz55EM8SYtQvZf/obBniTWi5C2/ovHfw4VndkE5XYdjOhCMRjDeOEfXeN/CwfGduiUIfsoFeUxXeQXba7c7972XNv8w+dTjjUM0QeNAReW+J014dKAD/McQYXT7c0GQPIkn3Ll6R7gGjuiQoZD0TEeEqQpKoZ15g/0OPQI17QiSv9AUROa/V/TQN3dvLArec3RrsYlvBm1b8LWzltdugsC50lNKYLEp2a+ZZYqPejULRlOJh5zj/LVMyTDvwKhMxxwuDkxJ1QpoNI0OTWLom4Z71SNzI9TV1iXJrIu9Wcnd+MCaAw8o1jSXd94YU/1gnkrC9BUEOtQvEIQ7g0i6h+KL2JKk8Ydl7HruvgWMSAmNe+LshGhV4qnWHhO9/RIPQzY1tHRj2VqOyNsDpK0cww+56AdDC4gsWwY0XxoucIWIqs/GcwnWqlaT0KPr8mbK5U94/301i1WLt4YINTVvCFBrFZbIbY8eycOdeJ2teD5IfPLCRg7jjcFTwlMFNl9zdh/o3E/hHPwj7BWg0MU09pPrBLbrCgm54A6H+I6v27+jL5gkjWg/iYdks9jbfVP5y/n0dlgWEMlKasl7JvFZd56LfybW1eeaVO0gxTfXZwD8G4SI116yx7UKVRgui6Ya1YpixqXeNLc8IxtAwCU5IhwQgn+NqHnRaDv61CxKhOq4pOX7M6pkA+Pmpd4j1vn6ACUALoLLc4vpXci8VidLxzm7qFBe7s+quuJs6ETYmnpgS3LwSZxPIltgBDXz8M1k/W2ySNv2f9/NPhxLGK2D21dkHeSGmenRT3Yqcdl0m/h3OYr8V+lXNYGf8aCCpd4bWjE4QIPj7vUKN4Nrfs7ML6Y2OyS830JCnofg/k7lpFpt4SqZc5HGg1HCOrHvOdC8bP6FGDbE/VV0mX4IakzbdS/op+Kt3G24/8QbBV7y86sGSQ/vZzU8FXs7u6jIvwchsEP2BpIhW3G8uWNwa3HmjfH/ZjhhCWvluAcF+nMf14ClKg5hGgtPLJ98ueNAkc5Hs2WZlk2QHvfreCK1CCGO6nMZVSb99VM/ajr8WHTte9JSmkXq/i/U943HEbdzW6Re/S88dKgg8pGOLlAeNiqrcLkUR3/aClFpMXcOUP3rmETcWSfMXZE3TUOi8i+fqRnTYLflVx/Vb/6GJ7eIRZUA6k3RYR3iFSK9c4iDdNwJuZL2FKz/IK5VimcNWEqdXjSoxSgmF0UPlDoUlNrPcM7ftmA8Y9gKiqKEHuWN+AZRIwtVSxye2Kf8rM3lhJ5XcBXU9n4v0Oy1RU2M+4qM8AQPVwse8ErNSob5oFPWxuqZnVzo1qB/IBxkM3EVUKFUUlO3e51259GgNcJbCmlvrdjtoTW7rChm1wyCKzpCTwozUUEOIcWLneRLgMXh+SjGSFkAllzbGS5HK7LlfCMRNRDSvbQPjcXaenNYxCvu2Qyznz6StuxVj66SgI0T8B6/sfHAJYZaZ78thjOSIFumNWLQbeZixDCCC+v0YBtkxiBB3jefHqZ/dFHU+crbj6OvS1x/JDD7vlm7zOVPwpUC01nhxZuY/63E7g");for(let[f,g]of(b=new Map(x(a).flatMap((a,b)=>a.map(a=>[a,b+1<<24]))),c=new Set(w(a)),d=new Map,e=new Map,y(a))){if(!c.has(f)&&2==g.length){let[a,b]=g,c=e.get(a);c||(c=new Map,e.set(a,c)),c.set(b,f)}d.set(f,g.reverse())}}();let f=[],g=[],h=!1;function i(a){let c=b.get(a);c&&(h=!0,a|=c),f.push(a)}for(let b of a)for(;;){if(b<128)f.push(b);else if(H(b)){let a=b-44032,c=a/588|0,d=a%588/28|0,e=a%28;i(4352+c),i(4449+d),e>0&&i(4519+e)}else{let a=d.get(b);a?g.push(...a):i(b)}if(!g.length)break;b=g.pop()}if(h&&f.length>1){let a=F(f[0]);for(let b=1;b<f.length;b++){let c=F(f[b]);if(0==c||a<=c){a=c;continue}let d=b-1;for(;;){let b=f[d+1];if(f[d+1]=f[d],f[d]=b,!d||(a=F(f[--d]))<=c)break}a=F(f[b])}}return f}function J(a){return function(a){let b=[],c=[],d=-1,f=0;for(let g of a){let a=F(g),h=G(g);if(-1==d)0==a?d=h:b.push(h);else if(f>0&&f>=a)0==a?(b.push(d,...c),c.length=0,d=h):c.push(h),f=a;else{let g=function(a,b){if(a>=4352&&a<4371&&b>=4449&&b<4470)return 44032+(a-4352)*588+(b-4449)*28;{if(H(a)&&b>4519&&b<4547&&(a-44032)%28==0)return a+(b-4519);let c=e.get(a);return c&&(c=c.get(b))?c:-1}}(d,h);g>=0?d=g:0==f&&0==a?(b.push(d),d=h):(c.push(h),f=a)}}return d>=0&&b.push(d,...c),b}(I(a))}let K=a=>Array.from(a);function L(a,b){return a.P.has(b)||a.Q.has(b)}class M extends Array{get is_emoji(){return!0}}function N(){let a,b;if(f)return;let c=v("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"),d=()=>new Set(w(c)),e=(a,b)=>b.forEach(b=>a.add(b));f=new Map(y(c)),g=d(),h=w(c),i=new Set(w(c).map(a=>h[a])),h=new Set(h),j=d(),d();let q=x(c),r=c(),s=()=>{let a=new Set;return w(c).forEach(b=>e(a,q[b])),e(a,w(c)),a};k=z(a=>{let b=z(c).map(a=>a+96);if(b.length){let d=a>=r;b[0]-=32,b=C(b),d&&(b=`Restricted[${b}]`);let e=s();return{N:b,P:e,Q:s(),M:!c(),R:d}}}),l=d(),m=new Map;let t=w(c).concat(K(l)).sort((a,b)=>a-b);for(let{V:a,M:b}of(t.forEach((a,b)=>{let d=c(),e=t[b]=d?t[b-d]:{V:[],M:new Map};e.V.push(a),l.has(a)||m.set(a,e)}),new Set(m.values()))){let c=[];for(let b of a){let a=k.filter(a=>L(a,b)),d=c.find(({G:b})=>a.some(a=>b.has(a)));d||(d={G:new Set,V:[]},c.push(d)),d.V.push(b),e(d.G,a)}let d=c.flatMap(a=>K(a.G));for(let{G:a,V:e}of c){let c=new Set(d.filter(b=>!a.has(b)));for(let a of e)b.set(a,c)}}n=new Set;let u=new Set,A=a=>n.has(a)?u.add(a):n.add(a);for(let a of k){for(let b of a.P)A(b);for(let b of a.Q)A(b)}for(let a of n)m.has(a)||u.has(a)||m.set(a,1);for(let d of(e(n,I(n).map(G)),o=(a=[],b=w(c),function b({S:c,B:d},e,f){if(!(4&c)||f!==e[e.length-1])for(let g of(2&c&&(f=e[e.length-1]),1&c&&a.push(e),d))for(let a of g.Q)b(g,[...e,a],f)}(function a(d){return{S:c(),B:z(()=>{let d=w(c).map(a=>b[a]);if(d.length)return a(d)}),Q:d}}([]),[]),a).map(a=>M.from(a)).sort(D),p=new Map,o)){let a=[p];for(let b of d){let c=a.map(a=>{let c=a.get(b);return c||(c=new Map,a.set(b,c)),c});65039===b?a.push(...c):a=c}for(let b of a)b.V=d}}function O(a){return(R(a)?"":`${P(Q([a]))} `)+B(a)}function P(a){return`"${a}"\u200E`}function Q(a,b=1/0,c=B){var d;let e=[];d=a[0],N(),h.has(d)&&e.push(""),a.length>b&&(b>>=1,a=[...a.slice(0,b),8230,...a.slice(-b)]);let f=0,g=a.length;for(let b=0;b<g;b++){let d=a[b];R(d)&&(e.push(C(a.slice(f,b))),e.push(c(d)),f=b+1)}return e.push(C(a.slice(f,g))),e.join("")}function R(a){return N(),j.has(a)}function S(a){return Error(`disallowed character: ${O(a)}`)}function T(a,b){let c=O(b),d=k.find(a=>a.P.has(b));return d&&(c=`${d.N} ${c}`),Error(`illegal mixture: ${a.N} + ${c}`)}function U(a){return Error(`illegal placement: ${a}`)}function V(a){return a.filter(a=>65039!=a)}let W=new Uint8Array(32);function X(a){return(0,s.assertArgument)(0!==a.length,"invalid ENS name; empty component","comp",a),a}function Y(a){let b=(0,t.toUtf8Bytes)(Z(a)),c=[];if(0===a.length)return c;let d=0;for(let a=0;a<b.length;a++)46===b[a]&&(c.push(X(b.slice(d,a))),d=a+1);return(0,s.assertArgument)(d<b.length,"invalid ENS name; empty component","name",a),c.push(X(b.slice(d))),c}function Z(a){try{var b;if(0===a.length)throw Error("empty label");return(b=function(a,b,c){if(!a)return[];N();let d=0;return a.split(".").map(a=>{let e=function(a){let b=[];for(let c=0,d=a.length;c<d;){let d=a.codePointAt(c);c+=d<65536?1:2,b.push(d)}return b}(a),j={input:e,offset:d};d+=e.length+1;try{let a,d=j.tokens=function(a,b,c){let d=[],e=[];for(a=a.slice().reverse();a.length;){let h=function(a,b){let c,d=p,e=a.length;for(;e&&(d=d.get(a[--e]));){let{V:b}=d;b&&(c=b,a.length=e)}return c}(a);if(h)e.length&&(d.push(b(e)),e=[]),d.push(c(h));else{let b=a.pop();if(n.has(b))e.push(b);else{let a=f.get(b);if(a)e.push(...a);else if(!g.has(b))throw S(b)}}}return e.length&&d.push(b(e)),d}(e,b,c),l=d.length;if(!l)throw Error("empty label");let o=j.output=d.flat();for(let a=o.lastIndexOf(95);a>0;)if(95!==o[--a])throw Error("underscore allowed only at start");if(!(j.emoji=l>1||d[0].is_emoji)&&o.every(a=>a<128)){if(o.length>=4&&45==o[2]&&45==o[3])throw Error(`invalid label extension: "${C(o.slice(0,4))}"`);a="ASCII"}else{let b=d.flatMap(a=>a.is_emoji?[]:a);if(b.length){if(h.has(o[0]))throw U("leading combining mark");for(let a=1;a<l;a++){let b=d[a];if(!b.is_emoji&&h.has(b[0]))throw U(`emoji + combining mark: "${C(d[a-1])} + ${Q([b[0]])}"`)}!function(a){let b=a[0],c=u.get(b);if(c)throw U(`leading ${c}`);let d=a.length,e=-1;for(let f=1;f<d;f++){b=a[f];let d=u.get(b);if(d){if(e==f)throw U(`${c} + ${d}`);e=f+1,c=d}}if(e==d)throw U(`trailing ${c}`)}(o);let c=K(new Set(b)),[e]=function(a){let b=k;for(let c of a){let a=b.filter(a=>L(a,c));if(!a.length)if(k.some(a=>L(a,c)))throw T(b[0],c);else throw S(c);if(b=a,1==a.length)break}return b}(c);(function(a,b){for(let c of b)if(!L(a,c))throw T(a,c);if(a.M){let a=I(b).map(G);for(let b=1,c=a.length;b<c;b++)if(i.has(a[b])){let d=b+1;for(let e;d<c&&i.has(e=a[d]);d++)for(let c=b;c<d;c++)if(a[c]==e)throw Error(`duplicate non-spacing marks: ${O(e)}`);if(d-b>4)throw Error(`excessive non-spacing marks: ${P(Q(a.slice(b-1,d)))} (${d-b}/4)`);b=d}}})(e,b),function(a,b){let c,d=[];for(let a of b){let b=m.get(a);if(1===b)return;if(b){let d=b.M.get(a);if(!(c=c?c.filter(a=>d.has(a)):K(d)).length)return}else d.push(a)}if(c){for(let b of c)if(d.every(a=>L(b,a)))throw Error(`whole-script confusable: ${a.N}/${b.N}`)}}(e,c),a=e.N}else a="Emoji"}j.type=a}catch(a){j.error=a}return j})}(a,J,V)).map(({input:a,error:c,output:d})=>{if(c){let d=c.message;throw Error(1==b.length?d:`Invalid label ${P(Q(a,63))}: ${d}`)}return C(d)}).join(".")}catch(b){(0,s.assertArgument)(!1,`invalid ENS name (${b.message})`,"name",a)}}function $(a){try{return 0!==Y(a).length}catch(a){}return!1}function _(a){(0,s.assertArgument)("string"==typeof a,"invalid ENS name; not a string","name",a),(0,s.assertArgument)(a.length,"invalid ENS name (empty label)","name",a);let b=W,c=Y(a);for(;c.length;)b=(0,q.keccak256)((0,r.concat)([b,(0,q.keccak256)(c.pop())]));return(0,r.hexlify)(b)}function aa(a,b){let c=null!=b?b:63;return(0,s.assertArgument)(c<=255,"DNS encoded label cannot exceed 255","length",c),(0,r.hexlify)((0,r.concat)(Y(a).map(b=>{(0,s.assertArgument)(b.length<=c,`label ${JSON.stringify(a)} exceeds ${c} bytes`,"name",a);let d=new Uint8Array(b.length+1);return d.set(b,1),d[0]=d.length-1,d})))+"00"}W.fill(0),a.s(["dnsEncode",()=>aa,"ensNormalize",()=>Z,"isValidName",()=>$,"namehash",()=>_],53184)},54799,(a,b,c)=>{b.exports=a.x("crypto",()=>require("crypto"))},57536,a=>{"use strict";var b=a.i(54799),c=a.i(75607);let d=function(a){return(0,b.createHash)("sha256").update(a).digest()},e=function(a){return(0,b.createHash)("sha512").update(a).digest()},f=d,g=e,h=!1,i=!1;function j(a){let b=(0,c.getBytes)(a,"data");return(0,c.hexlify)(f(b))}function k(a){let b=(0,c.getBytes)(a,"data");return(0,c.hexlify)(g(b))}j._=d,j.lock=function(){h=!0},j.register=function(a){if(h)throw Error("sha256 is locked");f=a},Object.freeze(j),k._=e,k.lock=function(){i=!0},k.register=function(a){if(i)throw Error("sha512 is locked");g=a},Object.freeze(j),a.s(["sha256",()=>j,"sha512",()=>k])},24911,a=>{"use strict";var b=a.i(75607),c=a.i(49664);function d(a,b,c){let d=0;for(let e=0;e<c;e++)d=256*d+a[b+e];return d}function e(a,b,d,e){let g=[];for(;d<b+1+e;){let h=f(a,d);g.push(h.result),d+=h.consumed,(0,c.assert)(d<=b+1+e,"child data too short","BUFFER_OVERRUN",{buffer:a,length:e,offset:b})}return{consumed:1+e,result:g}}function f(a,f){(0,c.assert)(0!==a.length,"data too short","BUFFER_OVERRUN",{buffer:a,length:0,offset:1});let g=b=>{(0,c.assert)(b<=a.length,"data short segment too short","BUFFER_OVERRUN",{buffer:a,length:a.length,offset:b})};if(a[f]>=248){let b=a[f]-247;g(f+1+b);let c=d(a,f+1,b);return g(f+1+b+c),e(a,f,f+1+b,b+c)}if(a[f]>=192){let b=a[f]-192;return g(f+1+b),e(a,f,f+1,b)}if(a[f]>=184){let c=a[f]-183;g(f+1+c);let e=d(a,f+1,c);g(f+1+c+e);let h=(0,b.hexlify)(a.slice(f+1+c,f+1+c+e));return{consumed:1+c+e,result:h}}if(a[f]>=128){let c=a[f]-128;g(f+1+c);let d=(0,b.hexlify)(a.slice(f+1,f+1+c));return{consumed:1+c,result:d}}return{consumed:1,result:function(a){let b=a.toString(16);for(;b.length<2;)b="0"+b;return"0x"+b}(a[f])}}function g(a){let d=(0,b.getBytes)(a,"data"),e=f(d,0);return(0,c.assertArgument)(e.consumed===d.length,"unexpected junk after rlp payload","data",a),e.result}a.s(["decodeRlp",()=>g])},65507,a=>{"use strict";var b=a.i(75607);function c(a){let b=[];for(;a;)b.unshift(255&a),a>>=8;return b}let d="0123456789abcdef";function e(a){let e="0x";for(let f of function a(d){if(Array.isArray(d)){let b=[];if(d.forEach(function(c){b=b.concat(a(c))}),b.length<=55)return b.unshift(192+b.length),b;let e=c(b.length);return e.unshift(247+e.length),e.concat(b)}let e=Array.prototype.slice.call((0,b.getBytes)(d,"object"));if(1===e.length&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;let f=c(e.length);return f.unshift(183+f.length),f.concat(e)}(a))e+=d[f>>4],e+=d[15&f];return e}a.s(["encodeRlp",()=>e])},72396,82589,4008,a=>{"use strict";var b=a.i(24495),c=a.i(17447),d=a.i(99374),e=a.i(57536),f=a.i(57584),g=a.i(54867),h=a.i(75607),i=a.i(24911),j=a.i(65507),k=a.i(51534),l=a.i(49664),m=a.i(55590),n=a.i(49317),o=a.i(57086);let p=BigInt(0),q=BigInt(2),r=BigInt(27),s=BigInt(28),t=BigInt(35),u=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),v=Symbol.for("nodejs.util.inspect.custom");function w(a,b){let c=a.toString(16);for(;c.length<2;)c="0"+c;return"0x"+(c+=(0,e.sha256)(b).substring(4))}function x(a){return"0x"===a?null:(0,b.getAddress)(a)}function y(a,b){try{return(0,m.accessListify)(a)}catch(c){(0,l.assertArgument)(!1,c.message,b,a)}}function z(a,b){return"0x"===a?0:(0,k.getNumber)(a,b)}function A(a,b){if("0x"===a)return p;let c=(0,k.getBigInt)(a,b);return(0,l.assertArgument)(c<=u,"value exceeds uint size",b,c),c}function B(a,b){let c=(0,k.getBigInt)(a,"value"),d=(0,k.toBeArray)(c);return(0,l.assertArgument)(d.length<=32,"value too large",`tx.${b}`,c),d}function C(a){return(0,m.accessListify)(a).map(a=>[a.address,a.storageKeys])}function D(a,b){let c;try{if(c=z(b[0],"yParity"),0!==c&&1!==c)throw Error("bad yParity")}catch(a){(0,l.assertArgument)(!1,"invalid yParity","yParity",b[0])}let d=(0,h.zeroPadValue)(b[1],32),e=(0,h.zeroPadValue)(b[2],32);a.signature=f.Signature.from({r:d,s:e,yParity:c})}class E{#ae;#af;#b;#ag;#ah;#ai;#aj;#ak;#al;#am;#an;#ao;#ap;#aq;#ar;#as;#at;#au;get type(){return this.#ae}set type(a){switch(a){case null:this.#ae=null;break;case 0:case"legacy":this.#ae=0;break;case 1:case"berlin":case"eip-2930":this.#ae=1;break;case 2:case"london":case"eip-1559":this.#ae=2;break;case 3:case"cancun":case"eip-4844":this.#ae=3;break;case 4:case"pectra":case"eip-7702":this.#ae=4;break;default:(0,l.assertArgument)(!1,"unsupported transaction type","type",a)}}get typeName(){switch(this.type){case 0:return"legacy";case 1:return"eip-2930";case 2:return"eip-1559";case 3:return"eip-4844";case 4:return"eip-7702"}return null}get to(){let a=this.#af;return null==a&&3===this.type?c.ZeroAddress:a}set to(a){this.#af=null==a?null:(0,b.getAddress)(a)}get nonce(){return this.#ag}set nonce(a){this.#ag=(0,k.getNumber)(a,"value")}get gasLimit(){return this.#ah}set gasLimit(a){this.#ah=(0,k.getBigInt)(a)}get gasPrice(){let a=this.#ai;return null==a&&(0===this.type||1===this.type)?p:a}set gasPrice(a){this.#ai=null==a?null:(0,k.getBigInt)(a,"gasPrice")}get maxPriorityFeePerGas(){let a=this.#aj;return null==a?2===this.type||3===this.type?p:null:a}set maxPriorityFeePerGas(a){this.#aj=null==a?null:(0,k.getBigInt)(a,"maxPriorityFeePerGas")}get maxFeePerGas(){let a=this.#ak;return null==a?2===this.type||3===this.type?p:null:a}set maxFeePerGas(a){this.#ak=null==a?null:(0,k.getBigInt)(a,"maxFeePerGas")}get data(){return this.#b}set data(a){this.#b=(0,h.hexlify)(a)}get value(){return this.#al}set value(a){this.#al=(0,k.getBigInt)(a,"value")}get chainId(){return this.#am}set chainId(a){this.#am=(0,k.getBigInt)(a)}get signature(){return this.#an||null}set signature(a){this.#an=null==a?null:f.Signature.from(a)}isValid(){let a=this.signature;if(a&&!a.isValid())return!1;let b=this.authorizationList;if(b){for(let a of b)if(!a.signature.isValid())return!1}return!0}get accessList(){let a=this.#ao||null;return null==a?1===this.type||2===this.type||3===this.type?[]:null:a}set accessList(a){this.#ao=null==a?null:(0,m.accessListify)(a)}get authorizationList(){let a=this.#at||null;return null==a&&4===this.type?[]:a}set authorizationList(a){this.#at=null==a?null:a.map(a=>(0,n.authorizationify)(a))}get maxFeePerBlobGas(){let a=this.#ap;return null==a&&3===this.type?p:a}set maxFeePerBlobGas(a){this.#ap=null==a?null:(0,k.getBigInt)(a,"maxFeePerBlobGas")}get blobVersionedHashes(){let a=this.#aq;return null==a&&3===this.type?[]:a}set blobVersionedHashes(a){if(null!=a){(0,l.assertArgument)(Array.isArray(a),"blobVersionedHashes must be an Array","value",a),a=a.slice();for(let b=0;b<a.length;b++)(0,l.assertArgument)((0,h.isHexString)(a[b],32),"invalid blobVersionedHash",`value[${b}]`,a[b])}this.#aq=a}get blobs(){return null==this.#as?null:this.#as.map(a=>Object.assign({},a))}set blobs(a){if(null==a){this.#as=null;return}let b=[],c=[];for(let d=0;d<a.length;d++){let e=a[d];if((0,h.isBytesLike)(e)){(0,l.assert)(this.#ar,"adding a raw blob requires a KZG library","UNSUPPORTED_OPERATION",{operation:"set blobs()"});let a=(0,h.getBytes)(e);if((0,l.assertArgument)(a.length<=131072,"blob is too large",`blobs[${d}]`,e),131072!==a.length){let b=new Uint8Array(131072);b.set(a),a=b}let f=this.#ar.blobToKzgCommitment(a),g=(0,h.hexlify)(this.#ar.computeBlobKzgProof(a,f));b.push({data:(0,h.hexlify)(a),commitment:(0,h.hexlify)(f),proof:g}),c.push(w(1,f))}else{let a=(0,h.hexlify)(e.data),d=(0,h.hexlify)(e.commitment),f=(0,h.hexlify)(e.proof);b.push({data:a,commitment:d,proof:f}),c.push(w(1,d))}}this.#as=b,this.#aq=c}get kzg(){return this.#ar}set kzg(a){if(null==a)this.#ar=null;else this.#ar={blobToKzgCommitment:b=>{if("computeBlobProof"in a){if("blobToKzgCommitment"in a&&"function"==typeof a.blobToKzgCommitment)return(0,h.getBytes)(a.blobToKzgCommitment((0,h.hexlify)(b)))}else if("blobToKzgCommitment"in a&&"function"==typeof a.blobToKzgCommitment)return(0,h.getBytes)(a.blobToKzgCommitment(b));if("blobToKZGCommitment"in a&&"function"==typeof a.blobToKZGCommitment)return(0,h.getBytes)(a.blobToKZGCommitment((0,h.hexlify)(b)));(0,l.assertArgument)(!1,"unsupported KZG library","kzg",a)},computeBlobKzgProof:(b,c)=>"computeBlobProof"in a&&"function"==typeof a.computeBlobProof?(0,h.getBytes)(a.computeBlobProof((0,h.hexlify)(b),(0,h.hexlify)(c))):"computeBlobKzgProof"in a&&"function"==typeof a.computeBlobKzgProof?a.computeBlobKzgProof(b,c):"computeBlobKZGProof"in a&&"function"==typeof a.computeBlobKZGProof?(0,h.getBytes)(a.computeBlobKZGProof((0,h.hexlify)(b),(0,h.hexlify)(c))):void(0,l.assertArgument)(!1,"unsupported KZG library","kzg",a)}}get blobWrapperVersion(){return this.#au}set blobWrapperVersion(a){this.#au=a}constructor(){this.#ae=null,this.#af=null,this.#ag=0,this.#ah=p,this.#ai=null,this.#aj=null,this.#ak=null,this.#b="0x",this.#al=p,this.#am=p,this.#an=null,this.#ao=null,this.#ap=null,this.#aq=null,this.#ar=null,this.#as=null,this.#at=null,this.#au=null}get hash(){return null==this.signature?null:(0,d.keccak256)(this.#av(!0,!1))}get unsignedHash(){return(0,d.keccak256)(this.unsignedSerialized)}get from(){return null==this.signature?null:(0,o.recoverAddress)(this.unsignedHash,this.signature.getCanonical())}get fromPublicKey(){return null==this.signature?null:g.SigningKey.recoverPublicKey(this.unsignedHash,this.signature.getCanonical())}isSigned(){return null!=this.signature}#av(a,b){(0,l.assert)(!a||null!=this.signature,"cannot serialize unsigned transaction; maybe you meant .unsignedSerialized","UNSUPPORTED_OPERATION",{operation:".serialized"});let d=a?this.signature:null;switch(this.inferType()){case 0:return function(a,b){let c=[B(a.nonce,"nonce"),B(a.gasPrice||0,"gasPrice"),B(a.gasLimit,"gasLimit"),a.to||"0x",B(a.value,"value"),a.data],d=p;if(a.chainId!=p)d=(0,k.getBigInt)(a.chainId,"tx.chainId"),(0,l.assertArgument)(!b||null==b.networkV||b.legacyChainId===d,"tx.chainId/sig.v mismatch","sig",b);else if(a.signature){let b=a.signature.legacyChainId;null!=b&&(d=b)}if(!b)return d!==p&&(c.push((0,k.toBeArray)(d)),c.push("0x"),c.push("0x")),(0,j.encodeRlp)(c);let e=BigInt(27+b.yParity);return d!==p?e=f.Signature.getChainIdV(d,b.v):BigInt(b.v)!==e&&(0,l.assertArgument)(!1,"tx.chainId/sig.v mismatch","sig",b),c.push((0,k.toBeArray)(e)),c.push((0,k.toBeArray)(b.r)),c.push((0,k.toBeArray)(b._s)),(0,j.encodeRlp)(c)}(this,d);case 1:let e;return e=[B(this.chainId,"chainId"),B(this.nonce,"nonce"),B(this.gasPrice||0,"gasPrice"),B(this.gasLimit,"gasLimit"),this.to||"0x",B(this.value,"value"),this.data,C(this.accessList||[])],d&&(e.push(B(d.yParity,"recoveryParam")),e.push((0,k.toBeArray)(d.r)),e.push((0,k.toBeArray)(d.s))),(0,h.concat)(["0x01",(0,j.encodeRlp)(e)]);case 2:let g;return g=[B(this.chainId,"chainId"),B(this.nonce,"nonce"),B(this.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),B(this.maxFeePerGas||0,"maxFeePerGas"),B(this.gasLimit,"gasLimit"),this.to||"0x",B(this.value,"value"),this.data,C(this.accessList||[])],d&&(g.push(B(d.yParity,"yParity")),g.push((0,k.toBeArray)(d.r)),g.push((0,k.toBeArray)(d.s))),(0,h.concat)(["0x02",(0,j.encodeRlp)(g)]);case 3:return function(a,b,d){let e=[B(a.chainId,"chainId"),B(a.nonce,"nonce"),B(a.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),B(a.maxFeePerGas||0,"maxFeePerGas"),B(a.gasLimit,"gasLimit"),a.to||c.ZeroAddress,B(a.value,"value"),a.data,C(a.accessList||[]),B(a.maxFeePerBlobGas||0,"maxFeePerBlobGas"),function(a,b){(0,l.assertArgument)(Array.isArray(a),`invalid ${b}`,"value",a);for(let b=0;b<a.length;b++)(0,l.assertArgument)((0,h.isHexString)(a[b],32),"invalid ${ param } hash",`value[${b}]`,a[b]);return a}(a.blobVersionedHashes||[],"blobVersionedHashes")];if(b&&(e.push(B(b.yParity,"yParity")),e.push((0,k.toBeArray)(b.r)),e.push((0,k.toBeArray)(b.s)),d)){if(null!=a.blobWrapperVersion){let b=(0,k.toBeArray)(a.blobWrapperVersion),c=[];for(let{proof:a}of d){let b=(0,h.getBytes)(a),d=b.length/128;for(let a=0;a<b.length;a+=d)c.push(b.subarray(a,a+d))}return(0,h.concat)(["0x03",(0,j.encodeRlp)([e,b,d.map(a=>a.data),d.map(a=>a.commitment),c])])}return(0,h.concat)(["0x03",(0,j.encodeRlp)([e,d.map(a=>a.data),d.map(a=>a.commitment),d.map(a=>a.proof)])])}return(0,h.concat)(["0x03",(0,j.encodeRlp)(e)])}(this,d,b?this.blobs:null);case 4:let i=[B(this.chainId,"chainId"),B(this.nonce,"nonce"),B(this.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),B(this.maxFeePerGas||0,"maxFeePerGas"),B(this.gasLimit,"gasLimit"),this.to||"0x",B(this.value,"value"),this.data,C(this.accessList||[]),(this.authorizationList||[]).map(a=>[B(a.chainId,"chainId"),a.address,B(a.nonce,"nonce"),B(a.signature.yParity,"yParity"),(0,k.toBeArray)(a.signature.r),(0,k.toBeArray)(a.signature._s)])];return d&&(i.push(B(d.yParity,"yParity")),i.push((0,k.toBeArray)(d.r)),i.push((0,k.toBeArray)(d.s))),(0,h.concat)(["0x04",(0,j.encodeRlp)(i)])}(0,l.assert)(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".serialized"})}get serialized(){return this.#av(!0,!0)}get unsignedSerialized(){return this.#av(!1,!1)}inferType(){let a=this.inferTypes();return a.indexOf(2)>=0?2:a.pop()}inferTypes(){let a=null!=this.gasPrice,b=null!=this.maxFeePerGas||null!=this.maxPriorityFeePerGas,c=null!=this.accessList,d=null!=this.#ap||this.#aq;null!=this.maxFeePerGas&&null!=this.maxPriorityFeePerGas&&(0,l.assert)(this.maxFeePerGas>=this.maxPriorityFeePerGas,"priorityFee cannot be more than maxFee","BAD_DATA",{value:this}),(0,l.assert)(!b||0!==this.type&&1!==this.type,"transaction type cannot have maxFeePerGas or maxPriorityFeePerGas","BAD_DATA",{value:this}),(0,l.assert)(0!==this.type||!c,"legacy transaction cannot have accessList","BAD_DATA",{value:this});let e=[];return null!=this.type?e.push(this.type):this.authorizationList&&this.authorizationList.length?e.push(4):b?e.push(2):a?(e.push(1),c||e.push(0)):c?(e.push(1),e.push(2)):(d&&this.to||(e.push(0),e.push(1),e.push(2)),e.push(3)),e.sort(),e}isLegacy(){return 0===this.type}isBerlin(){return 1===this.type}isLondon(){return 2===this.type}isCancun(){return 3===this.type}clone(){return E.from(this)}toJSON(){let a=a=>null==a?null:a.toString();return{type:this.type,to:this.to,data:this.data,nonce:this.nonce,gasLimit:a(this.gasLimit),gasPrice:a(this.gasPrice),maxPriorityFeePerGas:a(this.maxPriorityFeePerGas),maxFeePerGas:a(this.maxFeePerGas),value:a(this.value),chainId:a(this.chainId),sig:this.signature?this.signature.toJSON():null,accessList:this.accessList}}[v](){return this.toString()}toString(){let a=[],b=b=>{let c=this[b];"string"==typeof c&&(c=JSON.stringify(c)),a.push(`${b}: ${c}`)};this.type&&b("type"),b("to"),b("data"),b("nonce"),b("gasLimit"),b("value"),null!=this.chainId&&b("chainId"),this.signature&&(b("from"),a.push(`signature: ${this.signature.toString()}`));let c=this.authorizationList;if(c){let b=[];for(let a of c){let c=[];c.push(`address: ${JSON.stringify(a.address)}`),null!=a.nonce&&c.push(`nonce: ${a.nonce}`),null!=a.chainId&&c.push(`chainId: ${a.chainId}`),a.signature&&c.push(`signature: ${a.signature.toString()}`),b.push(`Authorization { ${c.join(", ")} }`)}a.push(`authorizations: [ ${b.join(", ")} ]`)}return`Transaction { ${a.join(", ")} }`}static from(a){if(null==a)return new E;if("string"==typeof a){let b=(0,h.getBytes)(a);if(b[0]>=127)return E.from(function(a){let b=(0,i.decodeRlp)(a);(0,l.assertArgument)(Array.isArray(b)&&(9===b.length||6===b.length),"invalid field count for legacy transaction","data",a);let c={type:0,nonce:z(b[0],"nonce"),gasPrice:A(b[1],"gasPrice"),gasLimit:A(b[2],"gasLimit"),to:x(b[3]),value:A(b[4],"value"),data:(0,h.hexlify)(b[5]),chainId:p};if(6===b.length)return c;let d=A(b[6],"v"),e=A(b[7],"r"),g=A(b[8],"s");if(e===p&&g===p)c.chainId=d;else{let a=(d-t)/q;a<p&&(a=p),c.chainId=a,(0,l.assertArgument)(a!==p||d===r||d===s,"non-canonical legacy v","v",b[6]),c.signature=f.Signature.from({r:(0,h.zeroPadValue)(b[7],32),s:(0,h.zeroPadValue)(b[8],32),v:d})}return c}(b));switch(b[0]){case 1:let c,d;return E.from((c=(0,i.decodeRlp)((0,h.getBytes)(b).slice(1)),(0,l.assertArgument)(Array.isArray(c)&&(8===c.length||11===c.length),"invalid field count for transaction type: 1","data",(0,h.hexlify)(b)),d={type:1,chainId:A(c[0],"chainId"),nonce:z(c[1],"nonce"),gasPrice:A(c[2],"gasPrice"),gasLimit:A(c[3],"gasLimit"),to:x(c[4]),value:A(c[5],"value"),data:(0,h.hexlify)(c[6]),accessList:y(c[7],"accessList")},8===c.length||D(d,c.slice(8)),d));case 2:let e,g;return E.from((e=(0,i.decodeRlp)((0,h.getBytes)(b).slice(1)),(0,l.assertArgument)(Array.isArray(e)&&(9===e.length||12===e.length),"invalid field count for transaction type: 2","data",(0,h.hexlify)(b)),g={type:2,chainId:A(e[0],"chainId"),nonce:z(e[1],"nonce"),maxPriorityFeePerGas:A(e[2],"maxPriorityFeePerGas"),maxFeePerGas:A(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:A(e[4],"gasLimit"),to:x(e[5]),value:A(e[6],"value"),data:(0,h.hexlify)(e[7]),accessList:y(e[8],"accessList")},9===e.length||D(g,e.slice(9)),g));case 3:return E.from(function(a){let b=(0,i.decodeRlp)((0,h.getBytes)(a).slice(1)),c="3",d=null,e=null;if(4===b.length&&Array.isArray(b[0])){c="3 (network format)";let a=b[1],d=b[2],f=b[3];(0,l.assertArgument)(Array.isArray(a),"invalid network format: blobs not an array","fields[1]",a),(0,l.assertArgument)(Array.isArray(d),"invalid network format: commitments not an array","fields[2]",d),(0,l.assertArgument)(Array.isArray(f),"invalid network format: proofs not an array","fields[3]",f),(0,l.assertArgument)(a.length===d.length,"invalid network format: blobs/commitments length mismatch","fields",b),(0,l.assertArgument)(a.length===f.length,"invalid network format: blobs/proofs length mismatch","fields",b),e=[];for(let c=0;c<b[1].length;c++)e.push({data:a[c],commitment:d[c],proof:f[c]});b=b[0]}else if(5===b.length&&Array.isArray(b[0])){c="3 (EIP-7594 network format)",d=(0,k.getNumber)(b[1]);let a=b[2],f=b[3],g=b[4];(0,l.assertArgument)(1===d,`unsupported EIP-7594 network format version: ${d}`,"fields[1]",d),(0,l.assertArgument)(Array.isArray(a),"invalid EIP-7594 network format: blobs not an array","fields[2]",a),(0,l.assertArgument)(Array.isArray(f),"invalid EIP-7594 network format: commitments not an array","fields[3]",f),(0,l.assertArgument)(Array.isArray(g),"invalid EIP-7594 network format: proofs not an array","fields[4]",g),(0,l.assertArgument)(a.length===f.length,"invalid network format: blobs/commitments length mismatch","fields",b),(0,l.assertArgument)(128*a.length===g.length,"invalid network format: blobs/proofs length mismatch","fields",b),e=[];for(let b=0;b<a.length;b++){let c=[];for(let a=0;a<128;a++)c.push(g[128*b+a]);e.push({data:a[b],commitment:f[b],proof:(0,h.concat)(c)})}b=b[0]}(0,l.assertArgument)(Array.isArray(b)&&(11===b.length||14===b.length),`invalid field count for transaction type: ${c}`,"data",(0,h.hexlify)(a));let f={type:3,chainId:A(b[0],"chainId"),nonce:z(b[1],"nonce"),maxPriorityFeePerGas:A(b[2],"maxPriorityFeePerGas"),maxFeePerGas:A(b[3],"maxFeePerGas"),gasPrice:null,gasLimit:A(b[4],"gasLimit"),to:x(b[5]),value:A(b[6],"value"),data:(0,h.hexlify)(b[7]),accessList:y(b[8],"accessList"),maxFeePerBlobGas:A(b[9],"maxFeePerBlobGas"),blobVersionedHashes:b[10],blobWrapperVersion:d};e&&(f.blobs=e),(0,l.assertArgument)(null!=f.to,`invalid address for transaction type: ${c}`,"data",a),(0,l.assertArgument)(Array.isArray(f.blobVersionedHashes),"invalid blobVersionedHashes: must be an array","data",a);for(let b=0;b<f.blobVersionedHashes.length;b++)(0,l.assertArgument)((0,h.isHexString)(f.blobVersionedHashes[b],32),`invalid blobVersionedHash at index ${b}: must be length 32`,"data",a);return 11===b.length||D(f,b.slice(11)),f}(b));case 4:let j,m;return E.from((j=(0,i.decodeRlp)((0,h.getBytes)(b).slice(1)),(0,l.assertArgument)(Array.isArray(j)&&(10===j.length||13===j.length),"invalid field count for transaction type: 4","data",(0,h.hexlify)(b)),m={type:4,chainId:A(j[0],"chainId"),nonce:z(j[1],"nonce"),maxPriorityFeePerGas:A(j[2],"maxPriorityFeePerGas"),maxFeePerGas:A(j[3],"maxFeePerGas"),gasPrice:null,gasLimit:A(j[4],"gasLimit"),to:x(j[5]),value:A(j[6],"value"),data:(0,h.hexlify)(j[7]),accessList:y(j[8],"accessList"),authorizationList:function(a,b){try{if(!Array.isArray(a))throw Error("authorizationList: invalid array");let b=[];for(let c=0;c<a.length;c++){let d=a[c];if(!Array.isArray(d))throw Error(`authorization[${c}]: invalid array`);if(6!==d.length)throw Error(`authorization[${c}]: wrong length`);if(!d[1])throw Error(`authorization[${c}]: null address`);b.push({address:x(d[1]),nonce:A(d[2],"nonce"),chainId:A(d[0],"chainId"),signature:f.Signature.from({yParity:z(d[3],"yParity"),r:(0,h.zeroPadValue)(d[4],32),s:(0,h.zeroPadValue)(d[5],32)})})}return b}catch(c){(0,l.assertArgument)(!1,c.message,b,a)}}(j[9],"authorizationList")},10===j.length||D(m,j.slice(10)),m))}(0,l.assert)(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:"from"})}let b=new E;return null!=a.type&&(b.type=a.type),null!=a.to&&(b.to=a.to),null!=a.nonce&&(b.nonce=a.nonce),null!=a.gasLimit&&(b.gasLimit=a.gasLimit),null!=a.gasPrice&&(b.gasPrice=a.gasPrice),null!=a.maxPriorityFeePerGas&&(b.maxPriorityFeePerGas=a.maxPriorityFeePerGas),null!=a.maxFeePerGas&&(b.maxFeePerGas=a.maxFeePerGas),null!=a.maxFeePerBlobGas&&(b.maxFeePerBlobGas=a.maxFeePerBlobGas),null!=a.data&&(b.data=a.data),null!=a.value&&(b.value=a.value),null!=a.chainId&&(b.chainId=a.chainId),null!=a.signature&&(b.signature=f.Signature.from(a.signature)),null!=a.accessList&&(b.accessList=a.accessList),null!=a.authorizationList&&(b.authorizationList=a.authorizationList),null!=a.blobVersionedHashes&&(b.blobVersionedHashes=a.blobVersionedHashes),null!=a.kzg&&(b.kzg=a.kzg),null!=a.blobWrapperVersion&&(b.blobWrapperVersion=a.blobWrapperVersion),null!=a.blobs&&(b.blobs=a.blobs),null!=a.hash&&((0,l.assertArgument)(b.isSigned(),"unsigned transaction cannot define '.hash'","tx",a),(0,l.assertArgument)(b.hash===a.hash,"hash mismatch","tx",a)),null!=a.from&&((0,l.assertArgument)(b.isSigned(),"unsigned transaction cannot define '.from'","tx",a),(0,l.assertArgument)(b.from.toLowerCase()===(a.from||"").toLowerCase(),"from mismatch","tx",a)),b}}a.s(["Transaction",()=>E],72396);var F=a.i(66585),G=a.i(53184),H=a.i(50942);let I="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",J=null,K=BigInt(0),L=BigInt(58);function M(a){let b=(0,h.getBytes)(a),c=(0,k.toBigInt)(b),d="";for(;c;)d=I[Number(c%L)]+d,c/=L;for(let a=0;a<b.length&&!b[a];a++)d=I[0]+d;return d}function N(a){let b=K;for(let c=0;c<a.length;c++)b*=L,b+=function(a){if(null==J){J={};for(let a=0;a<I.length;a++)J[I[a]]=BigInt(a)}let b=J[a];return(0,l.assertArgument)(null!=b,"invalid base58 value","letter",a),b}(a[c]);return b}a.s(["decodeBase58",()=>N,"encodeBase58",()=>M],82589);var O=a.i(74044);function P(a){return a.match(/^ipfs:\/\/ipfs\//i)?a=a.substring(12):a.match(/^ipfs:\/\//i)?a=a.substring(7):(0,l.assertArgument)(!1,"unsupported IPFS format","link",a),`https://gateway.ipfs.io/ipfs/${a}`}class Q{name;constructor(a){(0,H.defineProperties)(this,{name:a})}connect(a){return this}supportsCoinType(a){return!1}async encodeAddress(a,b){throw Error("unsupported coin")}async decodeAddress(a,b){throw Error("unsupported coin")}}let R=RegExp("^(ipfs)://(.*)$","i"),S=[RegExp("^(https)://(.*)$","i"),RegExp("^(data):(.*)$","i"),R,RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];class T{provider;address;name;#aw;#ax;constructor(a,b,c){(0,H.defineProperties)(this,{provider:a,address:b,name:c}),this.#aw=null,this.#ax=new F.Contract(b,["function supportsInterface(bytes4) view returns (bool)","function resolve(bytes, bytes) view returns (bytes)","function addr(bytes32) view returns (address)","function addr(bytes32, uint) view returns (bytes)","function text(bytes32, string) view returns (string)","function contenthash(bytes32) view returns (bytes)"],a)}async supportsWildcard(){return null==this.#aw&&(this.#aw=(async()=>{try{return await this.#ax.supportsInterface("0x9061b923")}catch(a){if((0,l.isError)(a,"CALL_EXCEPTION"))return!1;throw this.#aw=null,a}})()),await this.#aw}async #ay(a,b){b=(b||[]).slice();let c=this.#ax.interface;b.unshift((0,G.namehash)(this.name));let d=null;await this.supportsWildcard()&&(d=c.getFunction(a),(0,l.assert)(d,"missing fragment","UNKNOWN_ERROR",{info:{funcName:a}}),b=[(0,G.dnsEncode)(this.name,255),c.encodeFunctionData(d,b)],a="resolve(bytes,bytes)"),b.push({enableCcipRead:!0});try{let e=await this.#ax[a](...b);if(d)return c.decodeFunctionResult(d,e)[0];return e}catch(a){if(!(0,l.isError)(a,"CALL_EXCEPTION"))throw a}return null}async getAddress(a){if(null==a&&(a=60),60===a)try{let a=await this.#ay("addr(bytes32)");if(null==a||a===c.ZeroAddress)return null;return a}catch(a){if((0,l.isError)(a,"CALL_EXCEPTION"))return null;throw a}if(a>=0&&a<0x80000000){let c=a+0x80000000,d=await this.#ay("addr(bytes32,uint)",[c]);if((0,h.isHexString)(d,20))return(0,b.getAddress)(d)}let d=null;for(let b of this.provider.plugins)if(b instanceof Q&&b.supportsCoinType(a)){d=b;break}if(null==d)return null;let e=await this.#ay("addr(bytes32,uint)",[a]);if(null==e||"0x"===e)return null;let f=await d.decodeAddress(a,e);if(null!=f)return f;(0,l.assert)(!1,"invalid coin data","UNSUPPORTED_OPERATION",{operation:`getAddress(${a})`,info:{coinType:a,data:e}})}async getText(a){let b=await this.#ay("text(bytes32,string)",[a]);return null==b||"0x"===b?null:b}async getContentHash(){let a=await this.#ay("contenthash(bytes32)");if(null==a||"0x"===a)return null;let b=a.match(/^0x(e3010170|e5010172)(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(b){let a="e3010170"===b[1]?"ipfs":"ipns",c=parseInt(b[4],16);if(b[5].length===2*c)return`${a}://${M("0x"+b[2])}`}let c=a.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(c&&64===c[1].length)return`bzz://${c[1]}`;(0,l.assert)(!1,"invalid or unsupported content hash data","UNSUPPORTED_OPERATION",{operation:"getContentHash()",info:{data:a}})}async getAvatar(){return(await this._getAvatar()).url}async _getAvatar(){let a=[{type:"name",value:this.name}];try{let b=await this.getText("avatar");if(null==b)return a.push({type:"!avatar",value:""}),{url:null,linkage:a};a.push({type:"avatar",value:b});for(let c=0;c<S.length;c++){let d=b.match(S[c]);if(null==d)continue;let e=d[1].toLowerCase();switch(e){case"https":case"data":return a.push({type:"url",value:b}),{linkage:a,url:b};case"ipfs":{let c=P(b);return a.push({type:"ipfs",value:b}),a.push({type:"url",value:c}),{linkage:a,url:c}}case"erc721":case"erc1155":{let c="erc721"===e?"tokenURI(uint256)":"uri(uint256)";a.push({type:e,value:b});let f=await this.getAddress();if(null==f)return a.push({type:"!owner",value:""}),{url:null,linkage:a};let g=(d[2]||"").split("/");if(2!==g.length)return a.push({type:`!${e}caip`,value:d[2]||""}),{url:null,linkage:a};let i=g[1],j=new F.Contract(g[0],["function tokenURI(uint) view returns (string)","function ownerOf(uint) view returns (address)","function uri(uint) view returns (string)","function balanceOf(address, uint256) view returns (uint)"],this.provider);if("erc721"===e){let b=await j.ownerOf(i);if(f!==b)return a.push({type:"!owner",value:b}),{url:null,linkage:a};a.push({type:"owner",value:b})}else if("erc1155"===e){let b=await j.balanceOf(f,i);if(!b)return a.push({type:"!balance",value:"0"}),{url:null,linkage:a};a.push({type:"balance",value:b.toString()})}let l=await j[c](i);if(null==l||"0x"===l)return a.push({type:"!metadata-url",value:""}),{url:null,linkage:a};a.push({type:"metadata-url-base",value:l}),"erc1155"===e&&(l=l.replace("{id}",(0,k.toBeHex)(i,32).substring(2)),a.push({type:"metadata-url-expanded",value:l})),l.match(/^ipfs:/i)&&(l=P(l)),a.push({type:"metadata-url",value:l});let m={},n=await new O.FetchRequest(l).send();n.assertOk();try{m=n.bodyJson}catch(b){try{a.push({type:"!metadata",value:n.bodyText})}catch(c){let b=n.body;b&&a.push({type:"!metadata",value:(0,h.hexlify)(b)})}return{url:null,linkage:a}}if(!m)return a.push({type:"!metadata",value:""}),{url:null,linkage:a};a.push({type:"metadata",value:JSON.stringify(m)});let o=m.image;if("string"!=typeof o)return a.push({type:"!imageUrl",value:""}),{url:null,linkage:a};if(o.match(/^(https:\/\/|data:)/i));else{let b=o.match(R);if(null==b)return a.push({type:"!imageUrl-ipfs",value:o}),{url:null,linkage:a};a.push({type:"imageUrl-ipfs",value:o}),o=P(o)}return a.push({type:"url",value:o}),{linkage:a,url:o}}}}}catch(a){}return{linkage:a,url:null}}static async getEnsAddress(a){let b=await a.getNetwork(),c=b.getPlugin("org.ethers.plugins.network.Ens");return(0,l.assert)(c,"network does not support ENS","UNSUPPORTED_OPERATION",{operation:"getEnsAddress",info:{network:b}}),c.address}static async #az(a,b){let d=await T.getEnsAddress(a);try{let e=new F.Contract(d,["function resolver(bytes32) view returns (address)"],a),f=await e.resolver((0,G.namehash)(b),{enableCcipRead:!0});if(f===c.ZeroAddress)return null;return f}catch(a){throw a}}static async fromName(a,b){let c=b;for(;;){if(""===c||"."===c||"eth"!==b&&"eth"===c)return null;let d=await T.#az(a,c);if(null!=d){let e=new T(a,d,b);if(c!==b&&!await e.supportsWildcard())return null;return e}c=c.split(".").slice(1).join(".")}}}a.s(["EnsResolver",()=>T,"MulticoinProviderPlugin",()=>Q],4008)},34219,a=>{"use strict";var b=a.i(99374),c=a.i(75607),d=a.i(51534),e=a.i(65507),f=a.i(49664),g=a.i(24495);function h(a){let f=(0,g.getAddress)(a.from),h=(0,d.getBigInt)(a.nonce,"tx.nonce").toString(16);return h="0"===h?"0x":h.length%2?"0x0"+h:"0x"+h,(0,g.getAddress)((0,c.dataSlice)((0,b.keccak256)((0,e.encodeRlp)([f,h])),12))}function i(a,d,e){let h=(0,g.getAddress)(a),i=(0,c.getBytes)(d,"salt"),j=(0,c.getBytes)(e,"initCodeHash");return(0,f.assertArgument)(32===i.length,"salt must be 32 bytes","salt",d),(0,f.assertArgument)(32===j.length,"initCodeHash must be 32 bytes","initCodeHash",e),(0,g.getAddress)((0,c.dataSlice)((0,b.keccak256)((0,c.concat)(["0xff",h,i,j])),12))}a.s(["getCreate2Address",()=>i,"getCreateAddress",()=>h])},36827,a=>{"use strict";var b=a.i(24495),c=a.i(34219),d=a.i(57584),e=a.i(55590),f=a.i(51534),g=a.i(75607),h=a.i(49664);let i=BigInt(0);function j(a,b){return function(c){return null==c?b:a(c)}}function k(a,b){return c=>{if(b&&null==c)return null;if(!Array.isArray(c))throw Error("not an array");return c.map(b=>a(b))}}function l(a,b){return c=>{let d={};for(let e in a){let f=e;if(b&&e in b&&!(f in c)){for(let a of b[e])if(a in c){f=a;break}}try{let b=a[e](c[f]);void 0!==b&&(d[e]=b)}catch(b){let a=b instanceof Error?b.message:"not-an-error";(0,h.assert)(!1,`invalid value for value.${e} (${a})`,"BAD_DATA",{value:c})}}return d}}function m(a){return(0,h.assertArgument)((0,g.isHexString)(a,!0),"invalid data","value",a),a}function n(a){return(0,h.assertArgument)((0,g.isHexString)(a,32),"invalid hash","value",a),a}let o=l({address:b.getAddress,blockHash:n,blockNumber:f.getNumber,data:m,index:f.getNumber,removed:j(function(a){switch(a){case!0:case"true":return!0;case!1:case"false":return!1}(0,h.assertArgument)(!1,`invalid boolean; ${JSON.stringify(a)}`,"value",a)},!1),topics:k(n),transactionHash:n,transactionIndex:f.getNumber},{index:["logIndex"]});function p(a){return o(a)}let q=l({hash:j(n),parentHash:n,parentBeaconBlockRoot:j(n,null),number:f.getNumber,timestamp:f.getNumber,nonce:j(m),difficulty:f.getBigInt,gasLimit:f.getBigInt,gasUsed:f.getBigInt,stateRoot:j(n,null),receiptsRoot:j(n,null),blobGasUsed:j(f.getBigInt,null),excessBlobGas:j(f.getBigInt,null),miner:j(b.getAddress),prevRandao:j(n,null),extraData:m,baseFeePerGas:j(f.getBigInt)},{prevRandao:["mixHash"]});function r(a){let b=q(a);return b.transactions=a.transactions.map(a=>"string"==typeof a?a:v(a)),b}let s=l({transactionIndex:f.getNumber,blockNumber:f.getNumber,transactionHash:n,address:b.getAddress,topics:k(n),data:m,index:f.getNumber,blockHash:n},{index:["logIndex"]}),t=l({to:j(b.getAddress,null),from:j(b.getAddress,null),contractAddress:j(b.getAddress,null),index:f.getNumber,root:j(g.hexlify),gasUsed:f.getBigInt,blobGasUsed:j(f.getBigInt,null),logsBloom:j(m),blockHash:n,hash:n,logs:k(function(a){return s(a)}),blockNumber:f.getNumber,cumulativeGasUsed:f.getBigInt,effectiveGasPrice:j(f.getBigInt),blobGasPrice:j(f.getBigInt,null),status:j(f.getNumber),type:j(f.getNumber,0)},{effectiveGasPrice:["gasPrice"],hash:["transactionHash"],index:["transactionIndex"]});function u(a){return t(a)}function v(a){a.to&&(0,f.getBigInt)(a.to)===i&&(a.to="0x0000000000000000000000000000000000000000");let g=l({hash:n,index:j(f.getNumber,void 0),type:a=>"0x"===a||null==a?0:(0,f.getNumber)(a),accessList:j(e.accessListify,null),blobVersionedHashes:j(k(n,!0),null),authorizationList:j(k(a=>{let c;if(a.signature)c=a.signature;else{let b=a.yParity;"0x1b"===b?b=0:"0x1c"===b&&(b=1),c=Object.assign({},a,{yParity:b})}return{address:(0,b.getAddress)(a.address),chainId:(0,f.getBigInt)(a.chainId),nonce:(0,f.getBigInt)(a.nonce),signature:d.Signature.from(c)}},!1),null),blockHash:j(n,null),blockNumber:j(f.getNumber,null),transactionIndex:j(f.getNumber,null),from:b.getAddress,gasPrice:j(f.getBigInt),maxPriorityFeePerGas:j(f.getBigInt),maxFeePerGas:j(f.getBigInt),maxFeePerBlobGas:j(f.getBigInt,null),gasLimit:f.getBigInt,to:j(b.getAddress,null),value:f.getBigInt,nonce:f.getNumber,data:m,creates:j(b.getAddress,null),chainId:j(f.getBigInt,null)},{data:["input"],gasLimit:["gas"],index:["transactionIndex"]})(a);if(null==g.to&&null==g.creates&&(g.creates=(0,c.getCreateAddress)(g)),(1===a.type||2===a.type)&&null==a.accessList&&(g.accessList=[]),a.signature?g.signature=d.Signature.from(a.signature):g.signature=d.Signature.from(a),null==g.chainId){let a=g.signature.legacyChainId;null!=a&&(g.chainId=a)}return g.blockHash&&(0,f.getBigInt)(g.blockHash)===i&&(g.blockHash=null),g}a.s(["formatBlock",()=>r,"formatLog",()=>p,"formatTransactionReceipt",()=>u,"formatTransactionResponse",()=>v])},95982,71471,a=>{"use strict";var b=a.i(55590),c=a.i(51534),d=a.i(49664),e=a.i(50942);class f{name;constructor(a){(0,e.defineProperties)(this,{name:a})}clone(){return new f(this.name)}}class g extends f{effectiveBlock;txBase;txCreate;txDataZero;txDataNonzero;txAccessListStorageKey;txAccessListAddress;constructor(a,b){null==a&&(a=0),super(`org.ethers.network.plugins.GasCost#${a||0}`);const c={effectiveBlock:a};function f(a,e){let f=(b||{})[a];null==f&&(f=e),(0,d.assertArgument)("number"==typeof f,`invalud value for ${a}`,"costs",b),c[a]=f}f("txBase",21e3),f("txCreate",32e3),f("txDataZero",4),f("txDataNonzero",16),f("txAccessListStorageKey",1900),f("txAccessListAddress",2400),(0,e.defineProperties)(this,c)}clone(){return new g(this.effectiveBlock,this)}}class h extends f{address;targetNetwork;constructor(a,b){super("org.ethers.plugins.network.Ens"),(0,e.defineProperties)(this,{address:a||"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",targetNetwork:null==b?1:b})}clone(){return new h(this.address,this.targetNetwork)}}class i extends f{#aA;get feeDataFunc(){return this.#aA}constructor(a){super("org.ethers.plugins.network.FeeData"),this.#aA=a}async getFeeData(a){return await this.#aA(a)}clone(){return new i(this.#aA)}}class j extends f{#F;#aB;get url(){return this.#F}get processFunc(){return this.#aB}constructor(a,b){super("org.ethers.plugins.network.FetchUrlFeeDataPlugin"),this.#F=a,this.#aB=b}clone(){return this}}a.s(["EnsPlugin",()=>h,"FeeDataNetworkPlugin",()=>i,"FetchUrlFeeDataNetworkPlugin",()=>j,"GasCostPlugin",()=>g,"NetworkPlugin",()=>f],71471);let k=new Map;class l{#aC;#am;#aD;constructor(a,b){this.#aC=a,this.#am=(0,c.getBigInt)(b),this.#aD=new Map}toJSON(){return{name:this.name,chainId:String(this.chainId)}}get name(){return this.#aC}set name(a){this.#aC=a}get chainId(){return this.#am}set chainId(a){this.#am=(0,c.getBigInt)(a,"chainId")}matches(a){if(null==a)return!1;if("string"==typeof a){try{return this.chainId===(0,c.getBigInt)(a)}catch(a){}return this.name===a}if("number"==typeof a||"bigint"==typeof a){try{return this.chainId===(0,c.getBigInt)(a)}catch(a){}return!1}if("object"==typeof a){if(null!=a.chainId){try{return this.chainId===(0,c.getBigInt)(a.chainId)}catch(a){}return!1}if(null!=a.name)return this.name===a.name}return!1}get plugins(){return Array.from(this.#aD.values())}attachPlugin(a){if(this.#aD.get(a.name))throw Error(`cannot replace existing plugin: ${a.name} `);return this.#aD.set(a.name,a.clone()),this}getPlugin(a){return this.#aD.get(a)||null}getPlugins(a){return this.plugins.filter(b=>b.name.split("#")[0]===a)}clone(){let a=new l(this.name,this.chainId);return this.plugins.forEach(b=>{a.attachPlugin(b.clone())}),a}computeIntrinsicGas(a){let c=this.getPlugin("org.ethers.plugins.network.GasCost")||new g,d=c.txBase;if(null==a.to&&(d+=c.txCreate),a.data)for(let b=2;b<a.data.length;b+=2)"00"===a.data.substring(b,b+2)?d+=c.txDataZero:d+=c.txDataNonzero;if(a.accessList){let e=(0,b.accessListify)(a.accessList);for(let a in e)d+=c.txAccessListAddress+c.txAccessListStorageKey*e[a].storageKeys.length}return d}static from(a){if(function(){o||(o=!0,a("mainnet",1,{ensNetwork:1,altNames:["homestead"]}),a("ropsten",3,{ensNetwork:3}),a("rinkeby",4,{ensNetwork:4}),a("goerli",5,{ensNetwork:5}),a("kovan",42,{ensNetwork:42}),a("sepolia",0xaa36a7,{ensNetwork:0xaa36a7}),a("holesky",17e3,{ensNetwork:17e3}),a("classic",61,{}),a("classicKotti",6,{}),a("arbitrum",42161,{ensNetwork:1}),a("arbitrum-goerli",421613,{}),a("arbitrum-sepolia",421614,{}),a("base",8453,{ensNetwork:1}),a("base-goerli",84531,{}),a("base-sepolia",84532,{}),a("bnb",56,{ensNetwork:1}),a("bnbt",97,{}),a("filecoin",314,{}),a("filecoin-calibration",314159,{}),a("linea",59144,{ensNetwork:1}),a("linea-goerli",59140,{}),a("linea-sepolia",59141,{}),a("matic",137,{ensNetwork:1,plugins:[n("https://gasstation.polygon.technology/v2")]}),a("matic-amoy",80002,{}),a("matic-mumbai",80001,{altNames:["maticMumbai","maticmum"],plugins:[n("https://gasstation-testnet.polygon.technology/v2")]}),a("optimism",10,{ensNetwork:1,plugins:[]}),a("optimism-goerli",420,{}),a("optimism-sepolia",0xaa37dc,{}),a("xdai",100,{ensNetwork:1}));function a(a,b,c){let d=function(){let d=new l(a,b);return null!=c.ensNetwork&&d.attachPlugin(new h(null,c.ensNetwork)),d.attachPlugin(new g),(c.plugins||[]).forEach(a=>{d.attachPlugin(a)}),d};l.register(a,d),l.register(b,d),c.altNames&&c.altNames.forEach(a=>{l.register(a,d)})}}(),null==a)return l.from("mainnet");if("number"==typeof a&&(a=BigInt(a)),"string"==typeof a||"bigint"==typeof a){let b=k.get(a);if(b)return b();if("bigint"==typeof a)return new l("unknown",a);(0,d.assertArgument)(!1,"unknown network","network",a)}if("function"==typeof a.clone)return a.clone();if("object"==typeof a){(0,d.assertArgument)("string"==typeof a.name&&"number"==typeof a.chainId,"invalid network object name or chainId","network",a);let b=new l(a.name,a.chainId);return(a.ensAddress||null!=a.ensNetwork)&&b.attachPlugin(new h(a.ensAddress,a.ensNetwork)),b}(0,d.assertArgument)(!1,"invalid network","network",a)}static register(a,b){"number"==typeof a&&(a=BigInt(a));let c=k.get(a);c&&(0,d.assertArgument)(!1,`conflicting network for ${JSON.stringify(c.name)}`,"nameOrChainId",a),k.set(a,b)}}function m(a,b){let c=String(a);if(!c.match(/^[0-9.]+$/))throw Error(`invalid gwei value: ${a}`);let d=c.split(".");if(1===d.length&&d.push(""),2!==d.length)throw Error(`invalid gwei value: ${a}`);for(;d[1].length<b;)d[1]+="0";if(d[1].length>9){let a=BigInt(d[1].substring(0,9));!d[1].substring(9).match(/^0+$/)&&a++,d[1]=a.toString()}return BigInt(d[0]+d[1])}function n(a){return new j(a,async(a,b,c)=>{let e;c.setHeader("User-Agent","ethers");try{let[b,d]=await Promise.all([c.send(),a()]),f=(e=b).bodyJson.standard;return{gasPrice:d.gasPrice,maxFeePerGas:m(f.maxFee,9),maxPriorityFeePerGas:m(f.maxPriorityFee,9)}}catch(a){(0,d.assert)(!1,`error encountered with polygon gas station (${JSON.stringify(c.url)})`,"SERVER_ERROR",{request:c,response:e,error:a})}})}let o=!1;a.s(["Network",()=>l],95982)},85085,77817,44737,47703,68270,a=>{"use strict";let b,c;var d,e=a.i(87924),f=a.i(72131),g=a.i(49664),h=a.i(12422),i=a.i(24495),j=a.i(99959),k=a.i(79367),l=a.i(55590),m=a.i(49317),n=a.i(50942),o=a.i(51534),p=a.i(75607),q=a.i(23916),r=a.i(74044),s=a.i(17447),t=a.i(66585),u=a.i(53184),v=a.i(72396),w=a.i(91615),x=a.i(4008),y=a.i(36827),z=a.i(95982),A=a.i(53901);function B(a){return JSON.parse(JSON.stringify(a))}class C{#aE;#aF;#aG;#aH;constructor(a){this.#aE=a,this.#aF=null,this.#aG=4e3,this.#aH=-2}get pollingInterval(){return this.#aG}set pollingInterval(a){this.#aG=a}async #aI(){try{let a=await this.#aE.getBlockNumber();if(-2===this.#aH){this.#aH=a;return}if(a!==this.#aH){for(let b=this.#aH+1;b<=a;b++){if(null==this.#aF)return;await this.#aE.emit("block",b)}this.#aH=a}}catch(a){}null!=this.#aF&&(this.#aF=this.#aE._setTimeout(this.#aI.bind(this),this.#aG))}start(){this.#aF||(this.#aF=this.#aE._setTimeout(this.#aI.bind(this),this.#aG),this.#aI())}stop(){this.#aF&&(this.#aE._clearTimeout(this.#aF),this.#aF=null)}pause(a){this.stop(),a&&(this.#aH=-2)}resume(){this.start()}}class D{#aE;#aI;#aJ;constructor(a){this.#aE=a,this.#aJ=!1,this.#aI=a=>{this._poll(a,this.#aE)}}async _poll(a,b){throw Error("sub-classes must override this")}start(){this.#aJ||(this.#aJ=!0,this.#aI(-2),this.#aE.on("block",this.#aI))}stop(){this.#aJ&&(this.#aJ=!1,this.#aE.off("block",this.#aI))}pause(a){this.stop()}resume(){this.start()}}class E extends D{#aK;#aL;constructor(a,b){super(a),this.#aK=b,this.#aL=-2}pause(a){a&&(this.#aL=-2),super.pause(a)}async _poll(a,b){let c=await b.getBlock(this.#aK);null!=c&&(-2===this.#aL?this.#aL=c.number:c.number>this.#aL&&(b.emit(this.#aK,c.number),this.#aL=c.number))}}class F extends D{#ad;constructor(a,b){super(a),this.#ad=B(b)}async _poll(a,b){throw Error("@TODO")}}class G extends D{#aM;constructor(a,b){super(a),this.#aM=b}async _poll(a,b){let c=await b.getTransactionReceipt(this.#aM);c&&b.emit(this.#aM,c)}}class H{#aE;#ad;#aF;#aJ;#aH;constructor(a,b){this.#aE=a,this.#ad=B(b),this.#aF=this.#aI.bind(this),this.#aJ=!1,this.#aH=-2}async #aI(a){if(-2===this.#aH)return;let b=B(this.#ad);b.fromBlock=this.#aH+1,b.toBlock=a;let c=await this.#aE.getLogs(b);if(0===c.length){this.#aH<a-60&&(this.#aH=a-60);return}for(let a of c)this.#aE.emit(this.#ad,a),this.#aH=a.blockNumber}start(){this.#aJ||(this.#aJ=!0,-2===this.#aH&&this.#aE.getBlockNumber().then(a=>{this.#aH=a}),this.#aE.on("block",this.#aF))}stop(){this.#aJ&&(this.#aJ=!1,this.#aE.off("block",this.#aF))}pause(a){this.stop(),a&&(this.#aH=-2)}resume(){this.start()}}let I=BigInt(2);function J(a){return a&&"function"==typeof a.then}function K(a,b){return a+":"+JSON.stringify(b,(a,b)=>{if(null==b)return"null";if("bigint"==typeof b)return`bigint:${b.toString()}`;if("string"==typeof b)return b.toLowerCase();if("object"==typeof b&&!Array.isArray(b)){let a=Object.keys(b);return a.sort(),a.reduce((a,c)=>(a[c]=b[c],a),{})}return b})}class L{name;constructor(a){(0,n.defineProperties)(this,{name:a})}start(){}stop(){}pause(a){}resume(){}}function M(a){return(a=Array.from(new Set(a).values())).sort(),a}async function N(a,b){if(null==a)throw Error("invalid event");if(Array.isArray(a)&&(a={topics:a}),"string"==typeof a)switch(a){case"block":case"debug":case"error":case"finalized":case"network":case"pending":case"safe":return{type:a,tag:a}}if((0,p.isHexString)(a,32)){let b=a.toLowerCase();return{type:"transaction",tag:K("tx",{hash:b}),hash:b}}if(a.orphan){let b=a;return{type:"orphan",tag:K("orphan",b),filter:JSON.parse(JSON.stringify(b))}}if(a.address||a.topics){let c=a,d={topics:(c.topics||[]).map(a=>null==a?null:Array.isArray(a)?M(a.map(a=>a.toLowerCase())):a.toLowerCase())};if(c.address){let a=[],e=[],f=c=>{(0,p.isHexString)(c)?a.push(c):e.push((async()=>{a.push(await (0,j.resolveAddress)(c,b))})())};Array.isArray(c.address)?c.address.forEach(f):f(c.address),e.length&&await Promise.all(e),d.address=M(a.map(a=>a.toLowerCase()))}return{filter:d,tag:K("event",d),type:"event"}}(0,g.assertArgument)(!1,"unknown ProviderEvent","event",a)}function O(){return new Date().getTime()}let P={cacheTimeout:250,pollingInterval:4e3};class Q{#aN;#aD;#aO;#aP;#aQ;#aR;#aS;#aT;#aU;#aV;#aW;#k;constructor(a,b){if(this.#k=Object.assign({},P,b||{}),"any"===a)this.#aR=!0,this.#aQ=null;else if(a){const b=z.Network.from(a);this.#aR=!1,this.#aQ=Promise.resolve(b),setTimeout(()=>{this.emit("network",b,null)},0)}else this.#aR=!1,this.#aQ=null;this.#aT=-1,this.#aS=new Map,this.#aN=new Map,this.#aD=new Map,this.#aO=null,this.#aP=!1,this.#aU=1,this.#aV=new Map,this.#aW=!1}get pollingInterval(){return this.#k.pollingInterval}get provider(){return this}get plugins(){return Array.from(this.#aD.values())}attachPlugin(a){if(this.#aD.get(a.name))throw Error(`cannot replace existing plugin: ${a.name} `);return this.#aD.set(a.name,a.connect(this)),this}getPlugin(a){return this.#aD.get(a)||null}get disableCcipRead(){return this.#aW}set disableCcipRead(a){this.#aW=!!a}async #aX(a){let b=this.#k.cacheTimeout;if(b<0)return await this._perform(a);let c=K(a.method,a),d=this.#aS.get(c);return d||(d=this._perform(a),this.#aS.set(c,d),setTimeout(()=>{this.#aS.get(c)===d&&this.#aS.delete(c)},b)),await d}async ccipReadFetch(a,b,c){if(this.disableCcipRead||0===c.length||null==a.to)return null;let d=a.to.toLowerCase(),e=b.toLowerCase(),f=[];for(let b=0;b<c.length;b++){let h,i=c[b],j=i.replace("{sender}",d).replace("{data}",e),k=new r.FetchRequest(j);-1===i.indexOf("{data}")&&(k.body={data:e,sender:d}),this.emit("debug",{action:"sendCcipReadFetchRequest",request:k,index:b,urls:c});let l="unknown error";try{h=await k.send()}catch(a){f.push(a.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:k,result:{error:a}});continue}try{let a=h.bodyJson;if(a.data)return this.emit("debug",{action:"receiveCcipReadFetchResult",request:k,result:a}),a.data;a.message&&(l=a.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:k,result:a})}catch(a){}(0,g.assert)(h.statusCode<400||h.statusCode>=500,`response not found during CCIP fetch: ${l}`,"OFFCHAIN_FAULT",{reason:"404_MISSING_RESOURCE",transaction:a,info:{url:i,errorMessage:l}}),f.push(l)}(0,g.assert)(!1,`error encountered during CCIP fetch: ${f.map(a=>JSON.stringify(a)).join(", ")}`,"OFFCHAIN_FAULT",{reason:"500_SERVER_ERROR",transaction:a,info:{urls:c,errorMessages:f}})}_wrapBlock(a,b){return new A.Block((0,y.formatBlock)(a),this)}_wrapLog(a,b){return new A.Log((0,y.formatLog)(a),this)}_wrapTransactionReceipt(a,b){return new A.TransactionReceipt((0,y.formatTransactionReceipt)(a),this)}_wrapTransactionResponse(a,b){return new A.TransactionResponse((0,y.formatTransactionResponse)(a),this)}_detectNetwork(){(0,g.assert)(!1,"sub-classes must implement this","UNSUPPORTED_OPERATION",{operation:"_detectNetwork"})}async _perform(a){(0,g.assert)(!1,`unsupported method: ${a.method}`,"UNSUPPORTED_OPERATION",{operation:a.method,info:a})}async getBlockNumber(){let a=(0,o.getNumber)(await this.#aX({method:"getBlockNumber"}),"%response");return this.#aT>=0&&(this.#aT=a),a}_getAddress(a){return(0,j.resolveAddress)(a,this)}_getBlockTag(a){if(null==a)return"latest";switch(a){case"earliest":return"0x0";case"finalized":case"latest":case"pending":case"safe":return a}return(0,p.isHexString)(a)?(0,p.isHexString)(a,32)?a:(0,o.toQuantity)(a):("bigint"==typeof a&&(a=(0,o.getNumber)(a,"blockTag")),"number"==typeof a)?a>=0?(0,o.toQuantity)(a):this.#aT>=0?(0,o.toQuantity)(this.#aT+a):this.getBlockNumber().then(b=>(0,o.toQuantity)(b+a)):void(0,g.assertArgument)(!1,"invalid blockTag","blockTag",a)}_getFilter(a){let b,c,d=(a.topics||[]).map(a=>null==a?null:Array.isArray(a)?M(a.map(a=>a.toLowerCase())):a.toLowerCase()),e="blockHash"in a?a.blockHash:void 0,f=(a,b,c)=>{let f;switch(a.length){case 0:break;case 1:f=a[0];break;default:a.sort(),f=a}if(e&&(null!=b||null!=c))throw Error("invalid filter");let g={};return f&&(g.address=f),d.length&&(g.topics=d),b&&(g.fromBlock=b),c&&(g.toBlock=c),e&&(g.blockHash=e),g},g=[];if(a.address)if(Array.isArray(a.address))for(let b of a.address)g.push(this._getAddress(b));else g.push(this._getAddress(a.address));return"fromBlock"in a&&(b=this._getBlockTag(a.fromBlock)),("toBlock"in a&&(c=this._getBlockTag(a.toBlock)),g.filter(a=>"string"!=typeof a).length||null!=b&&"string"!=typeof b||null!=c&&"string"!=typeof c)?Promise.all([Promise.all(g),b,c]).then(a=>f(a[0],a[1],a[2])):f(g,b,c)}_getTransactionRequest(a){let b=(0,A.copyRequest)(a),c=[];if(["to","from"].forEach(a=>{if(null==b[a])return;let d=(0,j.resolveAddress)(b[a],this);J(d)?c.push(async function(){b[a]=await d}()):b[a]=d}),null!=b.blockTag){let a=this._getBlockTag(b.blockTag);J(a)?c.push(async function(){b.blockTag=await a}()):b.blockTag=a}return c.length?async function(){return await Promise.all(c),b}():b}async getNetwork(){if(null==this.#aQ){let a=(async()=>{try{let a=await this._detectNetwork();return this.emit("network",a,null),a}catch(b){throw this.#aQ===a&&(this.#aQ=null),b}})();return this.#aQ=a,(await a).clone()}let a=this.#aQ,[b,c]=await Promise.all([a,this._detectNetwork()]);return b.chainId!==c.chainId&&(this.#aR?(this.emit("network",c,b),this.#aQ===a&&(this.#aQ=Promise.resolve(c))):(0,g.assert)(!1,`network changed: ${b.chainId} => ${c.chainId} `,"NETWORK_ERROR",{event:"changed"})),b.clone()}async getFeeData(){let a=await this.getNetwork(),b=async()=>{let{_block:b,gasPrice:c,priorityFee:d}=await (0,n.resolveProperties)({_block:this.#aY("latest",!1),gasPrice:(async()=>{try{let a=await this.#aX({method:"getGasPrice"});return(0,o.getBigInt)(a,"%response")}catch(a){}return null})(),priorityFee:(async()=>{try{let a=await this.#aX({method:"getPriorityFee"});return(0,o.getBigInt)(a,"%response")}catch(a){}return null})()}),e=null,f=null,g=this._wrapBlock(b,a);return g&&g.baseFeePerGas&&(f=null!=d?d:BigInt("1000000000"),e=g.baseFeePerGas*I+f),new A.FeeData(c,e,f)},c=a.getPlugin("org.ethers.plugins.network.FetchUrlFeeDataPlugin");if(c){let a=new r.FetchRequest(c.url),d=await c.processFunc(b,this,a);return new A.FeeData(d.gasPrice,d.maxFeePerGas,d.maxPriorityFeePerGas)}return await b()}async estimateGas(a){let b=this._getTransactionRequest(a);return J(b)&&(b=await b),(0,o.getBigInt)(await this.#aX({method:"estimateGas",transaction:b}),"%response")}async #aZ(a,b,c){(0,g.assert)(c<10,"CCIP read exceeded maximum redirections","OFFCHAIN_FAULT",{reason:"TOO_MANY_REDIRECTS",transaction:Object.assign({},a,{blockTag:b,enableCcipRead:!0})});let d=(0,A.copyRequest)(a);try{return(0,p.hexlify)(await this._perform({method:"call",transaction:d,blockTag:b}))}catch(a){if(!this.disableCcipRead&&(0,g.isCallException)(a)&&a.data&&c>=0&&"latest"===b&&null!=d.to&&"0x556f1830"===(0,p.dataSlice)(a.data,0,4)){let e,f=a.data,h=await (0,j.resolveAddress)(d.to,this);try{e=function(a){let b={sender:"",urls:[],calldata:"",selector:"",extraData:"",errorArgs:[]};(0,g.assert)((0,p.dataLength)(a)>=160,"insufficient OffchainLookup data","OFFCHAIN_FAULT",{reason:"insufficient OffchainLookup data"});let c=(0,p.dataSlice)(a,0,32);(0,g.assert)((0,p.dataSlice)(c,0,12)===(0,p.dataSlice)(U,0,12),"corrupt OffchainLookup sender","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup sender"}),b.sender=(0,p.dataSlice)(c,12);try{let c=[],d=(0,o.getNumber)((0,p.dataSlice)(a,32,64)),e=(0,o.getNumber)((0,p.dataSlice)(a,d,d+32)),f=(0,p.dataSlice)(a,d+32);for(let a=0;a<e;a++){let b=function(a,b){try{let c=R(a,b);if(c)return(0,q.toUtf8String)(c)}catch(a){}return null}(f,32*a);if(null==b)throw Error("abort");c.push(b)}b.urls=c}catch(a){(0,g.assert)(!1,"corrupt OffchainLookup urls","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup urls"})}try{let c=R(a,64);if(null==c)throw Error("abort");b.calldata=c}catch(a){(0,g.assert)(!1,"corrupt OffchainLookup calldata","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup calldata"})}(0,g.assert)((0,p.dataSlice)(a,100,128)===(0,p.dataSlice)(U,0,28),"corrupt OffchainLookup callbaackSelector","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup callbaackSelector"}),b.selector=(0,p.dataSlice)(a,96,100);try{let c=R(a,128);if(null==c)throw Error("abort");b.extraData=c}catch(a){(0,g.assert)(!1,"corrupt OffchainLookup extraData","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup extraData"})}return b.errorArgs="sender,urls,calldata,selector,extraData".split(/,/).map(a=>b[a]),b}((0,p.dataSlice)(a.data,4))}catch(a){(0,g.assert)(!1,a.message,"OFFCHAIN_FAULT",{reason:"BAD_DATA",transaction:d,info:{data:f}})}(0,g.assert)(e.sender.toLowerCase()===h.toLowerCase(),"CCIP Read sender mismatch","CALL_EXCEPTION",{action:"call",data:f,reason:"OffchainLookup",transaction:d,invocation:null,revert:{signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",name:"OffchainLookup",args:e.errorArgs}});let i=await this.ccipReadFetch(d,e.calldata,e.urls);(0,g.assert)(null!=i,"CCIP Read failed to fetch data","OFFCHAIN_FAULT",{reason:"FETCH_FAILED",transaction:d,info:{data:a.data,errorArgs:e.errorArgs}});let k={to:h,data:(0,p.concat)([e.selector,function(a){let b=[],c=0;for(let d=0;d<a.length;d++)b.push(T),c+=32;for(let d=0;d<a.length;d++){let e=(0,p.getBytes)(a[d]);b[d]=S(c),b.push(S(e.length)),b.push(function(a){if(a.length%32==0)return a;let b=new Uint8Array(32*Math.ceil(a.length/32));return b.set(a),b}(e)),c+=32+32*Math.ceil(e.length/32)}return(0,p.concat)(b)}([i,e.extraData])])};this.emit("debug",{action:"sendCcipReadCall",transaction:k});try{let a=await this.#aZ(k,b,c+1);return this.emit("debug",{action:"receiveCcipReadCallResult",transaction:Object.assign({},k),result:a}),a}catch(a){throw this.emit("debug",{action:"receiveCcipReadCallError",transaction:Object.assign({},k),error:a}),a}}throw a}}async #a$(a){let{value:b}=await (0,n.resolveProperties)({network:this.getNetwork(),value:a});return b}async call(a){let{tx:b,blockTag:c}=await (0,n.resolveProperties)({tx:this._getTransactionRequest(a),blockTag:this._getBlockTag(a.blockTag)});return await this.#a$(this.#aZ(b,c,a.enableCcipRead?0:-1))}async #a_(a,b,c){let d=this._getAddress(b),e=this._getBlockTag(c);return("string"!=typeof d||"string"!=typeof e)&&([d,e]=await Promise.all([d,e])),await this.#a$(this.#aX(Object.assign(a,{address:d,blockTag:e})))}async getBalance(a,b){return(0,o.getBigInt)(await this.#a_({method:"getBalance"},a,b),"%response")}async getTransactionCount(a,b){return(0,o.getNumber)(await this.#a_({method:"getTransactionCount"},a,b),"%response")}async getCode(a,b){return(0,p.hexlify)(await this.#a_({method:"getCode"},a,b))}async getStorage(a,b,c){let d=(0,o.getBigInt)(b,"position");return(0,p.hexlify)(await this.#a_({method:"getStorage",position:d},a,c))}async broadcastTransaction(a){let{blockNumber:b,hash:c,network:d}=await (0,n.resolveProperties)({blockNumber:this.getBlockNumber(),hash:this._perform({method:"broadcastTransaction",signedTransaction:a}),network:this.getNetwork()}),e=v.Transaction.from(a);if(e.hash!==c)throw Error("@TODO: the returned hash did not match");return this._wrapTransactionResponse(e,d).replaceableTransaction(b)}async #aY(a,b){if((0,p.isHexString)(a,32))return await this.#aX({method:"getBlock",blockHash:a,includeTransactions:b});let c=this._getBlockTag(a);return"string"!=typeof c&&(c=await c),await this.#aX({method:"getBlock",blockTag:c,includeTransactions:b})}async getBlock(a,b){let{network:c,params:d}=await (0,n.resolveProperties)({network:this.getNetwork(),params:this.#aY(a,!!b)});return null==d?null:this._wrapBlock(d,c)}async getTransaction(a){let{network:b,params:c}=await (0,n.resolveProperties)({network:this.getNetwork(),params:this.#aX({method:"getTransaction",hash:a})});return null==c?null:this._wrapTransactionResponse(c,b)}async getTransactionReceipt(a){let{network:b,params:c}=await (0,n.resolveProperties)({network:this.getNetwork(),params:this.#aX({method:"getTransactionReceipt",hash:a})});if(null==c)return null;if(null==c.gasPrice&&null==c.effectiveGasPrice){let b=await this.#aX({method:"getTransaction",hash:a});if(null==b)throw Error("report this; could not find tx or effectiveGasPrice");c.effectiveGasPrice=b.gasPrice}return this._wrapTransactionReceipt(c,b)}async getTransactionResult(a){let{result:b}=await (0,n.resolveProperties)({network:this.getNetwork(),result:this.#aX({method:"getTransactionResult",hash:a})});return null==b?null:(0,p.hexlify)(b)}async getLogs(a){let b=this._getFilter(a);J(b)&&(b=await b);let{network:c,params:d}=await (0,n.resolveProperties)({network:this.getNetwork(),params:this.#aX({method:"getLogs",filter:b})});return d.map(a=>this._wrapLog(a,c))}_getProvider(a){(0,g.assert)(!1,"provider cannot connect to target network","UNSUPPORTED_OPERATION",{operation:"_getProvider()"})}async getResolver(a){return await x.EnsResolver.fromName(this,a)}async getAvatar(a){let b=await this.getResolver(a);return b?await b.getAvatar():null}async resolveName(a){let b=await this.getResolver(a);return b?await b.getAddress():null}async lookupAddress(a){a=(0,i.getAddress)(a);let b=(0,u.namehash)(a.substring(2).toLowerCase()+".addr.reverse");try{let c=await x.EnsResolver.getEnsAddress(this),d=new t.Contract(c,["function resolver(bytes32) view returns (address)"],this),e=await d.resolver(b);if(null==e||e===s.ZeroAddress)return null;let f=new t.Contract(e,["function name(bytes32) view returns (string)"],this),g=await f.name(b);if(await this.resolveName(g)!==a)return null;return g}catch(a){if((0,g.isError)(a,"BAD_DATA")&&"0x"===a.value||(0,g.isError)(a,"CALL_EXCEPTION"))return null;throw a}}async waitForTransaction(a,b,c){let d=null!=b?b:1;return 0===d?this.getTransactionReceipt(a):new Promise(async(b,e)=>{let f=null,h=async c=>{try{let e=await this.getTransactionReceipt(a);if(null!=e&&c-e.blockNumber+1>=d){b(e),f&&(clearTimeout(f),f=null);return}}catch(a){console.log("EEE",a)}this.once("block",h)};null!=c&&(f=setTimeout(()=>{null!=f&&(f=null,this.off("block",h),e((0,g.makeError)("timeout","TIMEOUT",{reason:"timeout"})))},c)),h(await this.getBlockNumber())})}async waitForBlock(a){(0,g.assert)(!1,"not implemented yet","NOT_IMPLEMENTED",{operation:"waitForBlock"})}_clearTimeout(a){let b=this.#aV.get(a);b&&(b.timer&&clearTimeout(b.timer),this.#aV.delete(a))}_setTimeout(a,b){null==b&&(b=0);let c=this.#aU++,d=()=>{this.#aV.delete(c),a()};if(this.paused)this.#aV.set(c,{timer:null,func:d,time:b});else{let a=setTimeout(d,b);this.#aV.set(c,{timer:a,func:d,time:O()})}return c}_forEachSubscriber(a){for(let b of this.#aN.values())a(b.subscriber)}_getSubscriber(a){switch(a.type){case"debug":case"error":case"network":return new L(a.type);case"block":{let a=new C(this);return a.pollingInterval=this.pollingInterval,a}case"safe":case"finalized":return new E(this,a.type);case"event":return new H(this,a.filter);case"transaction":return new G(this,a.hash);case"orphan":return new F(this,a.filter)}throw Error(`unsupported event: ${a.type}`)}_recoverSubscriber(a,b){for(let c of this.#aN.values())if(c.subscriber===a){c.started&&c.subscriber.stop(),c.subscriber=b,c.started&&b.start(),null!=this.#aO&&b.pause(this.#aO);break}}async #a0(a,b){let c=await N(a,this);return"event"===c.type&&b&&b.length>0&&!0===b[0].removed&&(c=await N({orphan:"drop-log",log:b[0]},this)),this.#aN.get(c.tag)||null}async #a1(a){let b=await N(a,this),c=b.tag,d=this.#aN.get(c);if(!d){let a=this._getSubscriber(b);d={subscriber:a,tag:c,addressableMap:new WeakMap,nameMap:new Map,started:!1,listeners:[]},this.#aN.set(c,d)}return d}async on(a,b){let c=await this.#a1(a);return c.listeners.push({listener:b,once:!1}),c.started||(c.subscriber.start(),c.started=!0,null!=this.#aO&&c.subscriber.pause(this.#aO)),this}async once(a,b){let c=await this.#a1(a);return c.listeners.push({listener:b,once:!0}),c.started||(c.subscriber.start(),c.started=!0,null!=this.#aO&&c.subscriber.pause(this.#aO)),this}async emit(a,...b){let c=await this.#a0(a,b);if(!c||0===c.listeners.length)return!1;let d=c.listeners.length;return c.listeners=c.listeners.filter(({listener:c,once:d})=>{let e=new w.EventPayload(this,d?null:c,a);try{c.call(this,...b,e)}catch(a){}return!d}),0===c.listeners.length&&(c.started&&c.subscriber.stop(),this.#aN.delete(c.tag)),d>0}async listenerCount(a){if(a){let b=await this.#a0(a);return b?b.listeners.length:0}let b=0;for(let{listeners:a}of this.#aN.values())b+=a.length;return b}async listeners(a){if(a){let b=await this.#a0(a);return b?b.listeners.map(({listener:a})=>a):[]}let b=[];for(let{listeners:a}of this.#aN.values())b=b.concat(a.map(({listener:a})=>a));return b}async off(a,b){let c=await this.#a0(a);if(!c)return this;if(b){let a=c.listeners.map(({listener:a})=>a).indexOf(b);a>=0&&c.listeners.splice(a,1)}return b&&0!==c.listeners.length||(c.started&&c.subscriber.stop(),this.#aN.delete(c.tag)),this}async removeAllListeners(a){if(a){let{tag:b,started:c,subscriber:d}=await this.#a1(a);c&&d.stop(),this.#aN.delete(b)}else for(let[a,{started:b,subscriber:c}]of this.#aN)b&&c.stop(),this.#aN.delete(a);return this}async addListener(a,b){return await this.on(a,b)}async removeListener(a,b){return this.off(a,b)}get destroyed(){return this.#aP}destroy(){for(let a of(this.removeAllListeners(),this.#aV.keys()))this._clearTimeout(a);this.#aP=!0}get paused(){return null!=this.#aO}set paused(a){!!a!==this.paused&&(this.paused?this.resume():this.pause(!1))}pause(a){if(this.#aT=-1,null!=this.#aO){if(!!a==this.#aO)return;(0,g.assert)(!1,"cannot change pause type; resume first","UNSUPPORTED_OPERATION",{operation:"pause"})}for(let b of(this._forEachSubscriber(b=>b.pause(a)),this.#aO=!!a,this.#aV.values()))b.timer&&clearTimeout(b.timer),b.time=O()-b.time}resume(){if(null!=this.#aO)for(let a of(this._forEachSubscriber(a=>a.resume()),this.#aO=null,this.#aV.values())){let b=a.time;b<0&&(b=0),a.time=O(),setTimeout(a.func,b)}}}function R(a,b){if("0x"===a)return null;try{let c=(0,o.getNumber)((0,p.dataSlice)(a,b,b+32)),d=(0,o.getNumber)((0,p.dataSlice)(a,c,c+32));return(0,p.dataSlice)(a,c+32,c+32+d)}catch(a){}return null}function S(a){let b=(0,o.toBeArray)(a);if(b.length>32)throw Error("internal; should not happen");let c=new Uint8Array(32);return c.set(b,32-b.length),c}let T=new Uint8Array([]),U="0x0000000000000000000000000000000000000000000000000000000000000000";function V(a,b){if(a.provider)return a.provider;(0,g.assert)(!1,"missing provider","UNSUPPORTED_OPERATION",{operation:b})}async function W(a,b){let c=(0,A.copyRequest)(b);if(null!=c.to&&(c.to=(0,j.resolveAddress)(c.to,a)),null!=c.from){let b=c.from;c.from=Promise.all([a.getAddress(),(0,j.resolveAddress)(b,a)]).then(([a,b])=>((0,g.assertArgument)(a.toLowerCase()===b.toLowerCase(),"transaction from mismatch","tx.from",b),a))}else c.from=a.getAddress();return await (0,n.resolveProperties)(c)}a.s(["AbstractProvider",()=>Q,"UnmanagedSubscriber",()=>L],77817);class X{provider;constructor(a){(0,n.defineProperties)(this,{provider:a||null})}async getNonce(a){return V(this,"getTransactionCount").getTransactionCount(await this.getAddress(),a)}async populateCall(a){return await W(this,a)}async populateTransaction(a){let b=V(this,"populateTransaction"),c=await W(this,a);null==c.nonce&&(c.nonce=await this.getNonce("pending")),null==c.gasLimit&&(c.gasLimit=await this.estimateGas(c));let d=await this.provider.getNetwork();if(null!=c.chainId){let b=(0,o.getBigInt)(c.chainId);(0,g.assertArgument)(b===d.chainId,"transaction chainId mismatch","tx.chainId",a.chainId)}else c.chainId=d.chainId;let e=null!=c.maxFeePerGas||null!=c.maxPriorityFeePerGas;if(null!=c.gasPrice&&(2===c.type||e)?(0,g.assertArgument)(!1,"eip-1559 transaction do not support gasPrice","tx",a):(0===c.type||1===c.type)&&e&&(0,g.assertArgument)(!1,"pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","tx",a),(2===c.type||null==c.type)&&null!=c.maxFeePerGas&&null!=c.maxPriorityFeePerGas)c.type=2;else if(0===c.type||1===c.type){let a=await b.getFeeData();(0,g.assert)(null!=a.gasPrice,"network does not support gasPrice","UNSUPPORTED_OPERATION",{operation:"getGasPrice"}),null==c.gasPrice&&(c.gasPrice=a.gasPrice)}else{let a=await b.getFeeData();if(null==c.type)if(null!=a.maxFeePerGas&&null!=a.maxPriorityFeePerGas)if(c.authorizationList&&c.authorizationList.length?c.type=4:c.type=2,null!=c.gasPrice){let a=c.gasPrice;delete c.gasPrice,c.maxFeePerGas=a,c.maxPriorityFeePerGas=a}else null==c.maxFeePerGas&&(c.maxFeePerGas=a.maxFeePerGas),null==c.maxPriorityFeePerGas&&(c.maxPriorityFeePerGas=a.maxPriorityFeePerGas);else null!=a.gasPrice?((0,g.assert)(!e,"network does not support EIP-1559","UNSUPPORTED_OPERATION",{operation:"populateTransaction"}),null==c.gasPrice&&(c.gasPrice=a.gasPrice),c.type=0):(0,g.assert)(!1,"failed to get consistent fee data","UNSUPPORTED_OPERATION",{operation:"signer.getFeeData"});else(2===c.type||3===c.type||4===c.type)&&(null==c.maxFeePerGas&&(c.maxFeePerGas=a.maxFeePerGas),null==c.maxPriorityFeePerGas&&(c.maxPriorityFeePerGas=a.maxPriorityFeePerGas))}return await (0,n.resolveProperties)(c)}async populateAuthorization(a){let b=Object.assign({},a);return null==b.chainId&&(b.chainId=(await V(this,"getNetwork").getNetwork()).chainId),null==b.nonce&&(b.nonce=await this.getNonce()),b}async estimateGas(a){return V(this,"estimateGas").estimateGas(await this.populateCall(a))}async call(a){return V(this,"call").call(await this.populateCall(a))}async resolveName(a){let b=V(this,"resolveName");return await b.resolveName(a)}async sendTransaction(a){let b=V(this,"sendTransaction"),c=await this.populateTransaction(a);delete c.from;let d=v.Transaction.from(c);return await b.broadcastTransaction(await this.signTransaction(d))}authorize(a){(0,g.assert)(!1,"authorization not implemented for this signer","UNSUPPORTED_OPERATION",{operation:"authorize"})}}class Y extends X{address;constructor(a,b){super(b),(0,n.defineProperties)(this,{address:a})}async getAddress(){return this.address}connect(a){return new Y(this.address,a)}#a2(a,b){(0,g.assert)(!1,`VoidSigner cannot sign ${a}`,"UNSUPPORTED_OPERATION",{operation:b})}async signTransaction(a){this.#a2("transactions","signTransaction")}async signMessage(a){this.#a2("messages","signMessage")}async signTypedData(a,b,c){this.#a2("typed-data","signTypedData")}}a.s(["AbstractSigner",()=>X,"VoidSigner",()=>Y],44737);class Z{#aE;#a3;#aF;#aJ;#a4;#a5;constructor(a){this.#aE=a,this.#a3=null,this.#aF=this.#aI.bind(this),this.#aJ=!1,this.#a4=null,this.#a5=!1}_subscribe(a){throw Error("subclasses must override this")}_emitResults(a,b){throw Error("subclasses must override this")}_recover(a){throw Error("subclasses must override this")}async #aI(a){try{null==this.#a3&&(this.#a3=this._subscribe(this.#aE));let a=null;try{a=await this.#a3}catch(a){if(!(0,g.isError)(a,"UNSUPPORTED_OPERATION")||"eth_newFilter"!==a.operation)throw a}if(null==a){this.#a3=null,this.#aE._recoverSubscriber(this,this._recover(this.#aE));return}let b=await this.#aE.getNetwork();if(this.#a4||(this.#a4=b),this.#a4.chainId!==b.chainId)throw Error("chaid changed");if(this.#a5)return;let c=await this.#aE.send("eth_getFilterChanges",[a]);await this._emitResults(this.#aE,c)}catch(a){console.log("@TODO",a)}this.#aE.once("block",this.#aF)}#a6(){let a=this.#a3;a&&(this.#a3=null,a.then(a=>{this.#aE.destroyed||this.#aE.send("eth_uninstallFilter",[a])}))}start(){this.#aJ||(this.#aJ=!0,this.#aI(-2))}stop(){this.#aJ&&(this.#aJ=!1,this.#a5=!0,this.#a6(),this.#aE.off("block",this.#aF))}pause(a){a&&this.#a6(),this.#aE.off("block",this.#aF)}resume(){this.start()}}class $ extends Z{#a7;constructor(a,b){super(a),this.#a7=function(a){return JSON.parse(JSON.stringify(a))}(b)}_recover(a){return new H(a,this.#a7)}async _subscribe(a){return await a.send("eth_newFilter",[this.#a7])}async _emitResults(a,b){for(let c of b)a.emit(this.#a7,a._wrapLog(c,a._network))}}class _ extends Z{async _subscribe(a){return await a.send("eth_newPendingTransactionFilter",[])}async _emitResults(a,b){for(let c of b)a.emit("pending",c)}}let aa="bigint,boolean,function,number,string,symbol".split(/,/g);function ab(a){if(null==a||aa.indexOf(typeof a)>=0||"function"==typeof a.getAddress)return a;if(Array.isArray(a))return a.map(ab);if("object"==typeof a)return Object.keys(a).reduce((b,c)=>(b[c]=a[c],b),{});throw Error(`should not happen: ${a} (${typeof a})`)}function ac(a){return a?a.toLowerCase():a}function ad(a){return a&&"number"==typeof a.pollingInterval}let ae={polling:!1,staticNetwork:null,batchStallTime:10,batchMaxSize:1048576,batchMaxCount:100,cacheTimeout:250,pollingInterval:4e3};class af extends X{address;constructor(a,b){super(a),b=(0,i.getAddress)(b),(0,n.defineProperties)(this,{address:b})}connect(a){(0,g.assert)(!1,"cannot reconnect JsonRpcSigner","UNSUPPORTED_OPERATION",{operation:"signer.connect"})}async getAddress(){return this.address}async populateTransaction(a){return await this.populateCall(a)}async sendUncheckedTransaction(a){let b=ab(a),c=[];if(b.from){let d=b.from;c.push((async()=>{let c=await (0,j.resolveAddress)(d,this.provider);(0,g.assertArgument)(null!=c&&c.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",a),b.from=c})())}else b.from=this.address;if(null==b.gasLimit&&c.push((async()=>{b.gasLimit=await this.provider.estimateGas({...b,from:this.address})})()),null!=b.to){let a=b.to;c.push((async()=>{b.to=await (0,j.resolveAddress)(a,this.provider)})())}c.length&&await Promise.all(c);let d=this.provider.getRpcTransaction(b);return this.provider.send("eth_sendTransaction",[d])}async sendTransaction(a){let b=await this.provider.getBlockNumber(),c=await this.sendUncheckedTransaction(a);return await new Promise((a,d)=>{let e=[1e3,100],f=0,h=async()=>{try{let d=await this.provider.getTransaction(c);if(null!=d)return void a(d.replaceableTransaction(b))}catch(a){if((0,g.isError)(a,"CANCELLED")||(0,g.isError)(a,"BAD_DATA")||(0,g.isError)(a,"NETWORK_ERROR")||(0,g.isError)(a,"UNSUPPORTED_OPERATION")){null==a.info&&(a.info={}),a.info.sendTransactionHash=c,d(a);return}if((0,g.isError)(a,"INVALID_ARGUMENT")&&(f++,null==a.info&&(a.info={}),a.info.sendTransactionHash=c,f>10))return void d(a);this.provider.emit("error",(0,g.makeError)("failed to fetch transation after sending (will try again)","UNKNOWN_ERROR",{error:a}))}this.provider._setTimeout(()=>{h()},e.pop()||4e3)};h()})}async signTransaction(a){let b=ab(a);if(b.from){let c=await (0,j.resolveAddress)(b.from,this.provider);(0,g.assertArgument)(null!=c&&c.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",a),b.from=c}else b.from=this.address;let c=this.provider.getRpcTransaction(b);return await this.provider.send("eth_signTransaction",[c])}async signMessage(a){let b="string"==typeof a?(0,q.toUtf8Bytes)(a):a;return await this.provider.send("personal_sign",[(0,p.hexlify)(b),this.address.toLowerCase()])}async signTypedData(a,b,c){let d=ab(c),e=await k.TypedDataEncoder.resolveNames(a,b,d,async a=>{let b=await (0,j.resolveAddress)(a);return(0,g.assertArgument)(null!=b,"TypedData does not support null address","value",a),b});return await this.provider.send("eth_signTypedData_v4",[this.address.toLowerCase(),JSON.stringify(k.TypedDataEncoder.getPayload(e.domain,b,e.value))])}async unlock(a){return this.provider.send("personal_unlockAccount",[this.address.toLowerCase(),a,null])}async _legacySignMessage(a){let b="string"==typeof a?(0,q.toUtf8Bytes)(a):a;return await this.provider.send("eth_sign",[this.address.toLowerCase(),(0,p.hexlify)(b)])}}class ag extends Q{#k;#a8;#a9;#ba;#bb;#a4;#bc;#bd(){if(this.#ba)return;let a=1===this._getOption("batchMaxCount")?0:this._getOption("batchStallTime");this.#ba=setTimeout(()=>{this.#ba=null;let a=this.#a9;for(this.#a9=[];a.length;){let b=[a.shift()];for(;a.length&&b.length!==this.#k.batchMaxCount;)if(b.push(a.shift()),JSON.stringify(b.map(a=>a.payload)).length>this.#k.batchMaxSize){a.unshift(b.pop());break}(async()=>{let a=1===b.length?b[0].payload:b.map(a=>a.payload);this.emit("debug",{action:"sendRpcPayload",payload:a});try{let c=await this._send(a);for(let{resolve:a,reject:d,payload:e}of(this.emit("debug",{action:"receiveRpcResult",result:c}),b)){if(this.destroyed){d((0,g.makeError)("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:e.method}));continue}let b=c.filter(a=>a.id===e.id)[0];if(null==b){let a=(0,g.makeError)("missing response for request","BAD_DATA",{value:c,info:{payload:e}});this.emit("error",a),d(a);continue}if("error"in b){d(this.getRpcError(e,b));continue}a(b.result)}}catch(a){for(let{reject:c}of(this.emit("debug",{action:"receiveRpcError",error:a}),b))c(a)}})()}},a)}constructor(a,b){super(a,b),this.#a8=1,this.#k=Object.assign({},ae,b||{}),this.#a9=[],this.#ba=null,this.#a4=null,this.#bc=null;{let a=null;const b=new Promise(b=>{a=b});this.#bb={promise:b,resolve:a}}const c=this._getOption("staticNetwork");"boolean"==typeof c?((0,g.assertArgument)(!c||"any"!==a,"staticNetwork cannot be used on special network 'any'","options",b),c&&null!=a&&(this.#a4=z.Network.from(a))):c&&((0,g.assertArgument)(null==a||c.matches(a),"staticNetwork MUST match network object","options",b),this.#a4=c)}_getOption(a){return this.#k[a]}get _network(){return(0,g.assert)(this.#a4,"network is not available yet","NETWORK_ERROR"),this.#a4}async _perform(a){if("call"===a.method||"estimateGas"===a.method){let b=a.transaction;if(b&&null!=b.type&&(0,o.getBigInt)(b.type)&&null==b.maxFeePerGas&&null==b.maxPriorityFeePerGas){let c=await this.getFeeData();null==c.maxFeePerGas&&null==c.maxPriorityFeePerGas&&(a=Object.assign({},a,{transaction:Object.assign({},b,{type:void 0})}))}}let b=this.getRpcRequest(a);return null!=b?await this.send(b.method,b.args):super._perform(a)}async _detectNetwork(){let a=this._getOption("staticNetwork");if(a){if(!0!==a)return a;else if(this.#a4)return this.#a4}return this.#bc||(this.ready?this.#bc=(async()=>{try{let a=z.Network.from((0,o.getBigInt)(await this.send("eth_chainId",[])));return this.#bc=null,a}catch(a){throw this.#bc=null,a}})():this.#bc=(async()=>{let a,b={id:this.#a8++,method:"eth_chainId",params:[],jsonrpc:"2.0"};this.emit("debug",{action:"sendRpcPayload",payload:b});try{a=(await this._send(b))[0],this.#bc=null}catch(a){throw this.#bc=null,this.emit("debug",{action:"receiveRpcError",error:a}),a}if(this.emit("debug",{action:"receiveRpcResult",result:a}),"result"in a)return z.Network.from((0,o.getBigInt)(a.result));throw this.getRpcError(b,a)})()),await this.#bc}_start(){null!=this.#bb&&null!=this.#bb.resolve&&(this.#bb.resolve(),this.#bb=null,(async()=>{for(;null==this.#a4&&!this.destroyed;)try{this.#a4=await this._detectNetwork()}catch(a){if(this.destroyed)break;console.log("JsonRpcProvider failed to detect network and cannot start up; retry in 1s (perhaps the URL is wrong or the node is not started)"),this.emit("error",(0,g.makeError)("failed to bootstrap network detection","NETWORK_ERROR",{event:"initial-network-discovery",info:{error:a}})),await new Promise(a=>{setTimeout(a,1e3)})}this.#bd()})())}async _waitUntilReady(){if(null!=this.#bb)return await this.#bb.promise}_getSubscriber(a){return"pending"===a.type?new _(this):"event"===a.type?this._getOption("polling")?new H(this,a.filter):new $(this,a.filter):"orphan"===a.type&&"drop-log"===a.filter.orphan?new L("orphan"):super._getSubscriber(a)}get ready(){return null==this.#bb}getRpcTransaction(a){let b={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(c=>{if(null==a[c])return;let d=c;"gasLimit"===c&&(d="gas"),b[d]=(0,o.toQuantity)((0,o.getBigInt)(a[c],`tx.${c}`))}),["from","to","data"].forEach(c=>{null!=a[c]&&(b[c]=(0,p.hexlify)(a[c]))}),a.accessList&&(b.accessList=(0,l.accessListify)(a.accessList)),a.blobVersionedHashes&&(b.blobVersionedHashes=a.blobVersionedHashes.map(a=>a.toLowerCase())),a.authorizationList&&(b.authorizationList=a.authorizationList.map(a=>{let b=(0,m.authorizationify)(a);return{address:b.address,nonce:(0,o.toQuantity)(b.nonce),chainId:(0,o.toQuantity)(b.chainId),yParity:(0,o.toQuantity)(b.signature.yParity),r:(0,o.toQuantity)(b.signature.r),s:(0,o.toQuantity)(b.signature.s)}})),b}getRpcRequest(a){switch(a.method){case"chainId":return{method:"eth_chainId",args:[]};case"getBlockNumber":return{method:"eth_blockNumber",args:[]};case"getGasPrice":return{method:"eth_gasPrice",args:[]};case"getPriorityFee":return{method:"eth_maxPriorityFeePerGas",args:[]};case"getBalance":return{method:"eth_getBalance",args:[ac(a.address),a.blockTag]};case"getTransactionCount":return{method:"eth_getTransactionCount",args:[ac(a.address),a.blockTag]};case"getCode":return{method:"eth_getCode",args:[ac(a.address),a.blockTag]};case"getStorage":return{method:"eth_getStorageAt",args:[ac(a.address),"0x"+a.position.toString(16),a.blockTag]};case"broadcastTransaction":return{method:"eth_sendRawTransaction",args:[a.signedTransaction]};case"getBlock":if("blockTag"in a)return{method:"eth_getBlockByNumber",args:[a.blockTag,!!a.includeTransactions]};if("blockHash"in a)return{method:"eth_getBlockByHash",args:[a.blockHash,!!a.includeTransactions]};break;case"getTransaction":return{method:"eth_getTransactionByHash",args:[a.hash]};case"getTransactionReceipt":return{method:"eth_getTransactionReceipt",args:[a.hash]};case"call":return{method:"eth_call",args:[this.getRpcTransaction(a.transaction),a.blockTag]};case"estimateGas":return{method:"eth_estimateGas",args:[this.getRpcTransaction(a.transaction)]};case"getLogs":return a.filter&&null!=a.filter.address&&(Array.isArray(a.filter.address)?a.filter.address=a.filter.address.map(ac):a.filter.address=ac(a.filter.address)),{method:"eth_getLogs",args:[a.filter]}}return null}getRpcError(a,b){let c,{method:d}=a,{error:e}=b;if("eth_estimateGas"===d&&e.message){let b=e.message;if(!b.match(/revert/i)&&b.match(/insufficient funds/i))return(0,g.makeError)("insufficient funds","INSUFFICIENT_FUNDS",{transaction:a.params[0],info:{payload:a,error:e}});if(b.match(/nonce/i)&&b.match(/too low/i))return(0,g.makeError)("nonce has already been used","NONCE_EXPIRED",{transaction:a.params[0],info:{payload:a,error:e}})}if("eth_call"===d||"eth_estimateGas"===d){let b=function a(b){if(null==b)return null;if("string"==typeof b.message&&b.message.match(/revert/i)&&(0,p.isHexString)(b.data))return{message:b.message,data:b.data};if("object"==typeof b){for(let c in b){let d=a(b[c]);if(d)return d}return null}if("string"==typeof b)try{return a(JSON.parse(b))}catch(a){}return null}(e),c=h.AbiCoder.getBuiltinCallException("eth_call"===d?"call":"estimateGas",a.params[0],b?b.data:null);return c.info={error:e,payload:a},c}let f=JSON.stringify((!function a(b,c){if(null!=b){if("string"==typeof b.message&&c.push(b.message),"object"==typeof b)for(let d in b)a(b[d],c);if("string"==typeof b)try{return a(JSON.parse(b),c)}catch(a){}}}(e,c=[]),c));if("string"==typeof e.message&&e.message.match(/user denied|ethers-user-denied/i))return(0,g.makeError)("user rejected action","ACTION_REJECTED",{action:{eth_sign:"signMessage",personal_sign:"signMessage",eth_signTypedData_v4:"signTypedData",eth_signTransaction:"signTransaction",eth_sendTransaction:"sendTransaction",eth_requestAccounts:"requestAccess",wallet_requestAccounts:"requestAccess"}[d]||"unknown",reason:"rejected",info:{payload:a,error:e}});if("eth_sendRawTransaction"===d||"eth_sendTransaction"===d){let b=a.params[0];if(f.match(/insufficient funds|base fee exceeds gas limit/i))return(0,g.makeError)("insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:b,info:{error:e}});if(f.match(/nonce/i)&&f.match(/too low/i))return(0,g.makeError)("nonce has already been used","NONCE_EXPIRED",{transaction:b,info:{error:e}});if(f.match(/replacement transaction/i)&&f.match(/underpriced/i))return(0,g.makeError)("replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:b,info:{error:e}});if(f.match(/only replay-protected/i))return(0,g.makeError)("legacy pre-eip-155 transactions not supported","UNSUPPORTED_OPERATION",{operation:d,info:{transaction:b,info:{error:e}}})}let i=!!f.match(/the method .* does not exist/i);return(!i&&e&&e.details&&e.details.startsWith("Unauthorized method:")&&(i=!0),i)?(0,g.makeError)("unsupported operation","UNSUPPORTED_OPERATION",{operation:a.method,info:{error:e,payload:a}}):(0,g.makeError)("could not coalesce error","UNKNOWN_ERROR",{error:e,payload:a})}send(a,b){if(this.destroyed)return Promise.reject((0,g.makeError)("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:a}));let c=this.#a8++,d=new Promise((d,e)=>{this.#a9.push({resolve:d,reject:e,payload:{method:a,params:b,id:c,jsonrpc:"2.0"}})});return this.#bd(),d}async getSigner(a){null==a&&(a=0);let b=this.send("eth_accounts",[]);if("number"==typeof a){let c=await b;if(a>=c.length)throw Error("no such account");return new af(this,c[a])}let{accounts:c}=await (0,n.resolveProperties)({network:this.getNetwork(),accounts:b});for(let b of(a=(0,i.getAddress)(a),c))if((0,i.getAddress)(b)===a)return new af(this,a);throw Error("invalid account")}async listAccounts(){return(await this.send("eth_accounts",[])).map(a=>new af(this,a))}destroy(){for(let{payload:a,reject:b}of(this.#ba&&(clearTimeout(this.#ba),this.#ba=null),this.#a9))b((0,g.makeError)("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:a.method}));this.#a9=[],super.destroy()}}class ah extends ag{#be;constructor(a,b){super(a,b);let c=this._getOption("pollingInterval");null==c&&(c=ae.pollingInterval),this.#be=c}_getSubscriber(a){let b=super._getSubscriber(a);return ad(b)&&(b.pollingInterval=this.#be),b}get pollingInterval(){return this.#be}set pollingInterval(a){if(!Number.isInteger(a)||a<0)throw Error("invalid interval");this.#be=a,this._forEachSubscriber(a=>{ad(a)&&(a.pollingInterval=this.#be)})}}class ai extends ah{#bf;constructor(a,b,c){null==a&&(a="http://localhost:8545"),super(b,c),"string"==typeof a?this.#bf=new r.FetchRequest(a):this.#bf=a.clone()}_getConnection(){return this.#bf.clone()}async send(a,b){return await this._start(),await super.send(a,b)}async _send(a){let b=this._getConnection();b.body=JSON.stringify(a),b.setHeader("content-type","application/json");let c=await b.send();c.assertOk();let d=c.bodyJson;return Array.isArray(d)||(d=[d]),d}}a.s(["JsonRpcApiPollingProvider",()=>ah,"JsonRpcApiProvider",()=>ag,"JsonRpcProvider",()=>ai,"JsonRpcSigner",()=>af],47703);class aj extends ah{#S;#bg;constructor(a,b,c){const d=Object.assign({},null!=c?c:{},{batchMaxCount:1});(0,g.assertArgument)(a&&a.request,"invalid EIP-1193 provider","ethereum",a),super(b,d),this.#bg=null,c&&c.providerInfo&&(this.#bg=c.providerInfo),this.#S=async(b,c)=>{let d={method:b,params:c};this.emit("debug",{action:"sendEip1193Request",payload:d});try{let b=await a.request(d);return this.emit("debug",{action:"receiveEip1193Result",result:b}),b}catch(b){let a=Error(b.message);throw a.code=b.code,a.data=b.data,a.payload=d,this.emit("debug",{action:"receiveEip1193Error",error:a}),a}}}get providerInfo(){return this.#bg}async send(a,b){return await this._start(),await super.send(a,b)}async _send(a){(0,g.assertArgument)(!Array.isArray(a),"EIP-1193 does not support batch request","payload",a);try{let b=await this.#S(a.method,a.params||[]);return[{id:a.id,result:b}]}catch(b){return[{id:a.id,error:{code:b.code,data:b.data,message:b.message}}]}}getRpcError(a,b){switch((b=JSON.parse(JSON.stringify(b))).error.code||-1){case 4001:b.error.message=`ethers-user-denied: ${b.error.message}`;break;case 4200:b.error.message=`ethers-unsupported: ${b.error.message}`}return super.getRpcError(a,b)}async hasSigner(a){null==a&&(a=0);let b=await this.send("eth_accounts",[]);return"number"==typeof a?b.length>a:(a=a.toLowerCase(),0!==b.filter(b=>b.toLowerCase()===a).length)}async getSigner(a){if(null==a&&(a=0),!await this.hasSigner(a))try{await this.#S("eth_requestAccounts",[])}catch(b){let a=b.payload;throw this.getRpcError(a,{id:a.id,error:b})}return await super.getSigner(a)}static async discover(a){if(null==a&&(a={}),a.provider)return new aj(a.provider);let b=a.window?a.window:null;if(null==b)return null;let c=a.anyProvider;if(c&&b.ethereum)return new aj(b.ethereum);if(!("addEventListener"in b&&"dispatchEvent"in b&&"removeEventListener"in b))return null;let d=a.timeout?a.timeout:300;return 0===d?null:await new Promise((e,f)=>{let h=[],i=a=>{h.push(a.detail),c&&j()},j=()=>{if(clearTimeout(k),h.length)if(a&&a.filter){let b=a.filter(h.map(a=>Object.assign({},a.info)));if(null==b)e(null);else if(b instanceof aj)e(b);else{let a=null;if(b.uuid&&(a=h.filter(a=>b.uuid===a.info.uuid)[0]),a){let{provider:b,info:c}=a;e(new aj(b,void 0,{providerInfo:c}))}else f((0,g.makeError)("filter returned unknown info","UNSUPPORTED_OPERATION",{value:b}))}}else{let{provider:a,info:b}=h[0];e(new aj(a,void 0,{providerInfo:b}))}else e(null);b.removeEventListener("eip6963:announceProvider",i)},k=setTimeout(()=>{j()},d);b.addEventListener("eip6963:announceProvider",i),b.dispatchEvent(new Event("eip6963:requestProvider"))})}}function ak(a,...b){if(!(a instanceof Uint8Array||ArrayBuffer.isView(a)&&"Uint8Array"===a.constructor.name))throw Error("Uint8Array expected");if(b.length>0&&!b.includes(a.length))throw Error("Uint8Array expected of length "+b+", got length="+a.length)}function al(a,b=!0){if(a.destroyed)throw Error("Hash instance has been destroyed");if(b&&a.finished)throw Error("Hash#digest() has already been called")}function am(...a){for(let b=0;b<a.length;b++)a[b].fill(0)}function an(a){return new DataView(a.buffer,a.byteOffset,a.byteLength)}function ao(a,b){return a<<32-b|a>>>b}function ap(a){return"string"==typeof a&&(a=function(a){if("string"!=typeof a)throw Error("string expected");return new Uint8Array(new TextEncoder().encode(a))}(a)),ak(a),a}a.s(["BrowserProvider",()=>aj],68270);class aq{}class ar extends aq{constructor(a,b,c,d){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=a,this.outputLen=b,this.padOffset=c,this.isLE=d,this.buffer=new Uint8Array(a),this.view=an(this.buffer)}update(a){al(this),ak(a=ap(a));let{view:b,buffer:c,blockLen:d}=this,e=a.length;for(let f=0;f<e;){let g=Math.min(d-this.pos,e-f);if(g===d){let b=an(a);for(;d<=e-f;f+=d)this.process(b,f);continue}c.set(a.subarray(f,f+g),this.pos),this.pos+=g,f+=g,this.pos===d&&(this.process(b,0),this.pos=0)}return this.length+=a.length,this.roundClean(),this}digestInto(a){al(this);ak(a);let b=this.outputLen;if(a.length<b)throw Error("digestInto() expects output buffer of length at least "+b);this.finished=!0;let{buffer:c,view:d,blockLen:e,isLE:f}=this,{pos:g}=this;c[g++]=128,am(this.buffer.subarray(g)),this.padOffset>e-g&&(this.process(d,0),g=0);for(let a=g;a<e;a++)c[a]=0;!function(a,b,c,d){if("function"==typeof a.setBigUint64)return a.setBigUint64(b,c,d);let e=BigInt(32),f=BigInt(0xffffffff),g=Number(c>>e&f),h=Number(c&f),i=4*!!d,j=4*!d;a.setUint32(b+i,g,d),a.setUint32(b+j,h,d)}(d,e-8,BigInt(8*this.length),f),this.process(d,0);let h=an(a),i=this.outputLen;if(i%4)throw Error("_sha2: outputLen should be aligned to 32bit");let j=i/4,k=this.get();if(j>k.length)throw Error("_sha2: outputLen bigger than state");for(let a=0;a<j;a++)h.setUint32(4*a,k[a],f)}digest(){let{buffer:a,outputLen:b}=this;this.digestInto(a);let c=a.slice(0,b);return this.destroy(),c}_cloneInto(a){a||(a=new this.constructor),a.set(...this.get());let{blockLen:b,buffer:c,length:d,finished:e,destroyed:f,pos:g}=this;return a.destroyed=f,a.finished=e,a.length=d,a.pos=g,d%b&&a.buffer.set(c),a}clone(){return this._cloneInto()}}let as=Uint32Array.from([0x6a09e667,0xbb67ae85,0x3c6ef372,0xa54ff53a,0x510e527f,0x9b05688c,0x1f83d9ab,0x5be0cd19]),at=Uint32Array.from([0xc1059ed8,0x367cd507,0x3070dd17,0xf70e5939,0xffc00b31,0x68581511,0x64f98fa7,0xbefa4fa4]),au=Uint32Array.from([0xcbbb9d5d,0xc1059ed8,0x629a292a,0x367cd507,0x9159015a,0x3070dd17,0x152fecd8,0xf70e5939,0x67332667,0xffc00b31,0x8eb44a87,0x68581511,0xdb0c2e0d,0x64f98fa7,0x47b5481d,0xbefa4fa4]),av=Uint32Array.from([0x6a09e667,0xf3bcc908,0xbb67ae85,0x84caa73b,0x3c6ef372,0xfe94f82b,0xa54ff53a,0x5f1d36f1,0x510e527f,0xade682d1,0x9b05688c,0x2b3e6c1f,0x1f83d9ab,0xfb41bd6b,0x5be0cd19,0x137e2179]),aw=BigInt(0x100000000-1),ax=BigInt(32),ay=Uint32Array.from([0x428a2f98,0x71374491,0xb5c0fbcf,0xe9b5dba5,0x3956c25b,0x59f111f1,0x923f82a4,0xab1c5ed5,0xd807aa98,0x12835b01,0x243185be,0x550c7dc3,0x72be5d74,0x80deb1fe,0x9bdc06a7,0xc19bf174,0xe49b69c1,0xefbe4786,0xfc19dc6,0x240ca1cc,0x2de92c6f,0x4a7484aa,0x5cb0a9dc,0x76f988da,0x983e5152,0xa831c66d,0xb00327c8,0xbf597fc7,0xc6e00bf3,0xd5a79147,0x6ca6351,0x14292967,0x27b70a85,0x2e1b2138,0x4d2c6dfc,0x53380d13,0x650a7354,0x766a0abb,0x81c2c92e,0x92722c85,0xa2bfe8a1,0xa81a664b,0xc24b8b70,0xc76c51a3,0xd192e819,0xd6990624,0xf40e3585,0x106aa070,0x19a4c116,0x1e376c08,0x2748774c,0x34b0bcb5,0x391c0cb3,0x4ed8aa4a,0x5b9cca4f,0x682e6ff3,0x748f82ee,0x78a5636f,0x84c87814,0x8cc70208,0x90befffa,0xa4506ceb,0xbef9a3f7,0xc67178f2]),az=new Uint32Array(64);class aA extends ar{constructor(a=32){super(64,a,8,!1),this.A=0|as[0],this.B=0|as[1],this.C=0|as[2],this.D=0|as[3],this.E=0|as[4],this.F=0|as[5],this.G=0|as[6],this.H=0|as[7]}get(){let{A:a,B:b,C:c,D:d,E:e,F:f,G:g,H:h}=this;return[a,b,c,d,e,f,g,h]}set(a,b,c,d,e,f,g,h){this.A=0|a,this.B=0|b,this.C=0|c,this.D=0|d,this.E=0|e,this.F=0|f,this.G=0|g,this.H=0|h}process(a,b){for(let c=0;c<16;c++,b+=4)az[c]=a.getUint32(b,!1);for(let a=16;a<64;a++){let b=az[a-15],c=az[a-2],d=ao(b,7)^ao(b,18)^b>>>3,e=ao(c,17)^ao(c,19)^c>>>10;az[a]=e+az[a-7]+d+az[a-16]|0}let{A:c,B:d,C:e,D:f,E:g,F:h,G:i,H:j}=this;for(let a=0;a<64;a++){var k,l,m,n;let b=j+(ao(g,6)^ao(g,11)^ao(g,25))+((k=g)&h^~k&i)+ay[a]+az[a]|0,o=(ao(c,2)^ao(c,13)^ao(c,22))+((l=c)&(m=d)^l&(n=e)^m&n)|0;j=i,i=h,h=g,g=f+b|0,f=e,e=d,d=c,c=b+o|0}c=c+this.A|0,d=d+this.B|0,e=e+this.C|0,f=f+this.D|0,g=g+this.E|0,h=h+this.F|0,i=i+this.G|0,j=j+this.H|0,this.set(c,d,e,f,g,h,i,j)}roundClean(){am(az)}destroy(){this.set(0,0,0,0,0,0,0,0),am(this.buffer)}}let aB=function(a,b=!1){let c=a.length,d=new Uint32Array(c),e=new Uint32Array(c);for(let f=0;f<c;f++){let{h:c,l:g}=function(a,b=!1){return b?{h:Number(a&aw),l:Number(a>>ax&aw)}:{h:0|Number(a>>ax&aw),l:0|Number(a&aw)}}(a[f],b);[d[f],e[f]]=[c,g]}return[d,e]}(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(a=>BigInt(a))),aC=aB[0],aD=aB[1],aE=new Uint32Array(80),aF=new Uint32Array(80),aG=(d=()=>new aA,(b=a=>d().update(ap(a)).digest()).outputLen=(c=d()).outputLen,b.blockLen=c.blockLen,b.create=()=>d(),b);class aH extends Error{code;constructor(a,b){super(b),this.code=a,this.name="Erc8128Error"}}var aI="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function aJ(a){return"object"==typeof a&&null!==a&&"function"==typeof a.signMessage}function aK(a){try{return new URL(a)}catch{throw new aH("UNSUPPORTED_REQUEST",`Request.url must be absolute (got: ${a}).`)}}async function aL(a){try{let b=await a.clone().arrayBuffer();return new Uint8Array(b)}catch{throw new aH("BODY_READ_FAILED","Failed to read request body (stream locked/disturbed).")}}async function aM(a){return aG(a)}function aN(a){let b="",c=0;for(;c+2<a.length;c+=3){let d=a[c]<<16|a[c+1]<<8|a[c+2];b+=aI[d>>18&63]+aI[d>>12&63]+aI[d>>6&63]+aI[63&d]}if(c===a.length)return b;let d=a[c]<<16;if(c+1<a.length){let e=d|a[c+1]<<8;b+=aI[e>>18&63]+aI[e>>12&63]+aI[e>>6&63]+"="}else b+=`${aI[d>>18&63]+aI[d>>12&63]}==`;return b}async function aO(a,b){let c=new Headers(a.headers),d=c.get("content-digest");if("off"===b)throw new aH("DIGEST_REQUIRED","content-digest is required by covered components, but contentDigest='off'.");if("require"===b&&!d)throw new aH("DIGEST_REQUIRED","content-digest is required but missing.");if(d&&"auto"===b)return a;let e=await aL(a),f=aN(await aM(e));return c.set("content-digest",`sha-256=:${f}:`),new Request(a,{headers:c})}function aP(a){if(!/^[a-z][a-z0-9_.-]*$/.test(a))throw new aH("PARSE_ERROR",`Invalid signature label: ${a}`)}function aQ(a,b){return a?`${a}, ${b}`:b}function aR(a){for(let b=0;b<a.length;b++){let c=a.charCodeAt(b);if(c>=0&&c<=31||127===c)throw new aH("BAD_HEADER_VALUE","sf-string cannot contain control characters.")}return`"${a.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`}function aS(a){return a.map(a=>a.trim()).filter(Boolean)}function aT(a,b){if(a.includes("\r")||a.includes(`
`))throw new aH("BAD_DERIVED_VALUE",`${b} contains CR/LF.`)}async function aU(a){return"string"==typeof a.nonce?a.nonce:"function"==typeof a.nonce?a.nonce():aN(function(a){let b=globalThis.crypto;if(!b?.getRandomValues)throw new aH("CRYPTO_UNAVAILABLE","crypto.getRandomValues required.");let c=new Uint8Array(16);return b.getRandomValues(c),c}(0)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/g,"")}async function aV(a,b,c,d){var e,f;let g,h,i,j;aJ(b)?(h=b,i=c):(g=b,h=c,i=d);let k=i??{},l=(e=g,a instanceof Request?e?new Request(a,e):a:new Request(a,e)),m=k.label??"eth",n=k.binding??"request-bound",o=k.replay??"non-replayable",p=k.contentDigest??"auto",q=Math.floor(Date.now()/1e3),r=k.created??q,s=k.ttlSeconds??60,t=k.expires??r+s,u="non-replayable"===o?await aU(k):void 0,v=function(a,b){if(!Number.isInteger(a))throw new aH("INVALID_OPTIONS","chainId must be positive integer.");return`erc8128:${a}:${b.toLowerCase()}`}(h.chainId,h.address),w=aK(l.url).search.length>0,x=null!=l.body,y=function(a){let{binding:b,hasQuery:c,hasBody:d,providedComponents:e}=a;if("request-bound"===b){let a=function(a){let{binding:b,hasQuery:c,hasBody:d}=a;if("class-bound"===b)return["@authority"];let e=["@authority","@method","@path"];return c&&e.push("@query"),d&&e.push("content-digest"),e}({binding:b,hasQuery:c,hasBody:d});if(!e)return a;let f=aS(e).filter(b=>!a.includes(b));return a.concat(f)}if(!e)throw new aH("INVALID_OPTIONS","components are required for class-bound signatures.");let f=aS(e);return f.includes("@authority")||f.unshift("@authority"),f}({binding:n,hasQuery:w,hasBody:x,providedComponents:k.components}),z=l;y.includes("content-digest")?z=await aO(z,p):"request-bound"===n&&x&&(y=[...y,"content-digest"],z=await aO(z,p));let A={created:r,expires:t,keyid:v,...u?{nonce:u}:{}};if(!Number.isInteger(A.created)||!Number.isInteger(A.expires))throw new aH("INVALID_OPTIONS","created/expires must be integers.");if(A.expires<=A.created)throw new aH("INVALID_OPTIONS","expires must be > created.");if(!A.keyid)throw new aH("INVALID_OPTIONS","keyid is required.");let B=(f=y,j=`(${f.map(a=>aR(a)).join(" ")});created=${A.created};expires=${A.expires}`,null!=A.nonce&&(j+=`;nonce=${aR(A.nonce)}`),null!=A.tag&&(j+=`;tag=${aR(A.tag)}`),j+`;keyid=${aR(A.keyid)}`),C=(aP(m),`${m}=${B}`),D=function(a){var b;let{request:c,components:d,signatureParamsValue:e}=a,f=aK(c.url),g=[];for(let a of d){let b=function(a){let{request:b,url:c,component:d}=a;switch(d){case"@method":{let a=(b.method||"GET").toUpperCase();return aT(a,"@method"),a}case"@authority":{let a=c.protocol.replace(":","").toLowerCase(),b=c.hostname.toLowerCase(),d=c.port,e=b;if(d){let c=Number(d);("http"!==a||80!==c)&&("https"!==a||443!==c)&&(e=`${b}:${d}`)}return aT(e,"@authority"),e}case"@path":{let a=c.pathname||"/";return aT(a,"@path"),a}case"@query":{let a=c.search||"";return aT(a,"@query"),a}default:{let a=b.headers.get(d);if(null==a)throw new aH("BAD_HEADER_VALUE",`Required header "${d}" is missing.`);let c=a.trim().replace(/[ \t]+/g," ");return aT(c,d),c}}}({request:c,url:f,component:a});if(/[^\x20-\x7E]/.test(b)||b.includes("\r")||b.includes(`
`))throw new aH("BAD_DERIVED_VALUE",`Component ${a} produced invalid characters.`);g.push(`${aR(a)}: ${b}`)}let h=`${aR("@signature-params")}: ${e}`;return b=g.length?`${g.join(`
`)}
${h}`:h,new TextEncoder().encode(b)}({request:z,components:y,signatureParamsValue:B}),E=function(a){let b=a.slice(2);if(b.length%2!=0)throw new aH("UNSUPPORTED_REQUEST","Invalid hex length.");let c=new Uint8Array(b.length/2);for(let a=0;a<c.length;a++)c[a]=parseInt(b.slice(2*a,2*a+2),16);return c}(await h.signMessage(D));if(0===E.length)throw new aH("UNSUPPORTED_REQUEST","Signer returned empty signature.");let F=function(a,b){if(aP(a),!/^[A-Za-z0-9+/]+={0,2}$/.test(b))throw new aH("BAD_HEADER_VALUE","Signature must be base64.");return`${a}=:${b}:`}(m,aN(E)),G=new Headers(z.headers);return G.set("Signature-Input",aQ(G.get("Signature-Input"),C)),G.set("Signature",aQ(G.get("Signature"),F)),new Request(z,{headers:G})}async function aW(a,b,c,d){let e,f,g;aJ(b)?(f=b,g=c):(e=b,f=c,g=d);let h=await aV(a,e,f,g),i=g?.fetch??globalThis.fetch;if("function"!=typeof i)throw new aH("UNSUPPORTED_REQUEST","No fetch implementation available. Provide opts.fetch.");return i(h)}(()=>{let a=new Uint8Array(256);a.fill(255);for(let b=0;b<aI.length;b++)a[aI.charCodeAt(b)]=b;return a[45]=62,a[95]=63})();var aX=new Set(["method","headers","body","signal","credentials","mode","cache","redirect","referrer","integrity","keepalive","window"]);function aY(a,b){return void 0!==b?{init:a,opts:b}:!function(a){if(!a||"object"!=typeof a)return!1;for(let b of aX)if(b in a)return!0;return!1}(a)?{opts:a}:{init:a}}let aZ=(0,f.createContext)({walletAddress:null,signer:null,chainId:null,isConnecting:!1,signedFetch:null,connect:async()=>{},disconnect:()=>{}});function a$(){return(0,f.useContext)(aZ)}function a_({children:a}){let[b,c]=(0,f.useState)(null),[d,g]=(0,f.useState)(null),[h,i]=(0,f.useState)(null),[j,k]=(0,f.useState)(!1),[l,m]=(0,f.useState)(null),n=(0,f.useCallback)(async()=>{if(window.ethereum)try{var a;let b,d=new aj(window.ethereum),e=await d.getSigner(),f=await e.getAddress(),h=await d.getNetwork(),j=Number(h.chainId);g(e),c(f),i(j);let k=(a={address:f,chainId:j,signMessage:async a=>await e.signMessage(a)},b=(void 0)??{},{signRequest:async(c,d,e)=>{let{init:f,opts:g}=aY(d,e);return aV(c,f,a,{...b,...g})},signedFetch:async(c,d,e)=>{let{init:f,opts:g}=aY(d,e);return aW(c,f,a,{...b,...g})},fetch:async(c,d,e)=>{let{init:f,opts:g}=aY(d,e);return aW(c,f,a,{...b,...g})}});m(k)}catch{g(null),c(null),i(null),m(null)}},[]),o=(0,f.useCallback)(async()=>{if(!window.ethereum)return void window.open("https://metamask.io/download/","_blank");k(!0);try{await window.ethereum.request({method:"eth_requestAccounts"}),await n()}catch{}finally{k(!1)}},[n]),p=(0,f.useCallback)(()=>{c(null),g(null),i(null),m(null)},[]),q=(0,f.useMemo)(()=>l?(a,b)=>l.fetch(a,b):null,[l]);return(0,f.useEffect)(()=>{if(!window.ethereum)return;let a=a=>{0===a.length?p():n()},b=()=>{n()};return window.ethereum.on("accountsChanged",a),window.ethereum.on("chainChanged",b),window.ethereum.request({method:"eth_accounts"}).then(a=>{a.length>0&&n()}),()=>{window.ethereum?.removeListener("accountsChanged",a),window.ethereum?.removeListener("chainChanged",b)}},[n,p]),(0,e.jsx)(aZ.Provider,{value:{walletAddress:b,signer:d,chainId:h,isConnecting:j,signedFetch:q,connect:o,disconnect:p},children:a})}a.s(["WalletProvider",()=>a_,"useWallet",()=>a$],85085)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__14767517._.js.map