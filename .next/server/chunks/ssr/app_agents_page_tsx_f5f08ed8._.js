module.exports=[84712,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(46271),e=a.i(62036),f=a.i(97895),g=a.i(38867),h=a.i(83103),i=a.i(50944),j=a.i(53250),k=a.i(85085);let l={sepolia:"ETH",baseSepolia:"BASE",fuji:"AVAX",arbitrumSepolia:"ARB",monadTestnet:"MON"},m={sepolia:"border-blue-500/40 text-blue-400",baseSepolia:"border-cyan-500/40 text-cyan-400",fuji:"border-red-500/40 text-red-400",arbitrumSepolia:"border-sky-500/40 text-sky-400",monadTestnet:"border-purple-500/40 text-purple-400"},n=Object.values(h.OASF_SKILLS).flat(),o=Object.values(h.APPLICATION_DOMAINS).flat();function p(){let[a,g]=(0,c.useState)([]),[h,i]=(0,c.useState)(!0),[k,l]=(0,c.useState)(null),[m,p]=(0,c.useState)(null),[r,s]=(0,c.useState)(1),[t,u]=(0,c.useState)(""),[v,x]=(0,c.useState)(""),[z,A]=(0,c.useState)("");(0,c.useEffect)(()=>{(0,j.apiListAgents)().then(a=>g(a.agents||[])).catch(a=>l(a.message)).finally(()=>i(!1))},[]);let B=function(a){let b=new Map;for(let c of a){let a=`${c.name.toLowerCase()}:${(c.ownerAddress||"").toLowerCase()}`;if(b.has(a)){let d=b.get(a);d.networks.includes(c.network)||(d.networks.push(c.network),d.agentsByNetwork[c.network]=c)}else b.set(a,{...c,networks:[c.network],agentsByNetwork:{[c.network]:c}})}return Array.from(b.values())}(a);if(t.trim()){let a=t.trim().toLowerCase();B=B.filter(b=>b.name.toLowerCase().includes(a)||(b.description||"").toLowerCase().includes(a))}v&&(B=B.filter(a=>(Array.isArray(a.skills)?a.skills:[]).some(a=>a.toLowerCase()===v.toLowerCase()))),z&&(B=B.filter(a=>(Array.isArray(a.domains)?a.domains:[]).some(a=>a.toLowerCase()===z.toLowerCase())));let C=Math.max(1,Math.ceil(B.length/18)),D=B.slice((r-1)*18,18*r),E=(0,c.useCallback)(()=>p(null),[]);return(0,b.jsx)("div",{className:"h-full w-full relative flex flex-col overflow-y-auto no-scrollbar",children:(0,b.jsx)("div",{className:"flex-1 flex flex-col items-center pt-24 pb-16 px-4 md:px-8",children:(0,b.jsxs)("div",{className:"w-full max-w-5xl",children:[(0,b.jsxs)("div",{className:"mb-6",children:[(0,b.jsx)("h1",{className:"font-mono text-3xl md:text-4xl font-bold tracking-tight uppercase text-foreground",children:"AGENTS"}),(0,b.jsx)("p",{className:"font-mono text-[10px] uppercase tracking-widest text-muted-foreground/60 mt-2",children:"Deployed on 8004agent.network"})]}),!m&&(0,b.jsxs)("div",{className:"flex flex-col gap-3 mb-6",children:[(0,b.jsx)("input",{type:"text",value:t,onChange:a=>{u(a.target.value),s(1)},placeholder:"Search agents by name or description...",className:"w-full bg-transparent border border-border px-4 py-2 font-mono text-xs text-foreground placeholder:text-muted-foreground/40 focus:outline-none focus:border-foreground/40 transition-colors"}),(0,b.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[(0,b.jsxs)("select",{value:v,onChange:a=>{x(a.target.value),s(1)},className:"font-mono text-[10px] uppercase tracking-wider px-2 py-1.5 border border-border bg-transparent text-muted-foreground focus:outline-none focus:border-foreground/40 cursor-pointer",children:[(0,b.jsx)("option",{value:"",children:"All Skills"}),n.map(a=>(0,b.jsx)("option",{value:a,children:a},a))]}),(0,b.jsxs)("select",{value:z,onChange:a=>{A(a.target.value),s(1)},className:"font-mono text-[10px] uppercase tracking-wider px-2 py-1.5 border border-border bg-transparent text-muted-foreground focus:outline-none focus:border-foreground/40 cursor-pointer",children:[(0,b.jsx)("option",{value:"",children:"All Domains"}),o.map(a=>(0,b.jsx)("option",{value:a,children:a},a))]}),(t||v||z)&&(0,b.jsx)("button",{onClick:()=>{u(""),x(""),A(""),s(1)},className:"font-mono text-[10px] uppercase tracking-wider px-3 py-1.5 border border-error-red/40 text-error-red hover:bg-error-red/5 transition-colors",children:"Clear"})]})]}),!h&&!k&&!m&&(0,b.jsxs)("div",{className:"mb-4 flex items-center gap-3",children:[(0,b.jsxs)("span",{className:"font-mono text-[10px] uppercase tracking-widest text-muted-foreground/60",children:[B.length," agent",1!==B.length?"s":""]}),C>1&&(0,b.jsxs)("span",{className:"font-mono text-[10px] uppercase tracking-widest text-muted-foreground/40",children:["Page ",r,"/",C]})]}),(0,b.jsx)(e.AnimatePresence,{mode:"wait",children:h?(0,b.jsx)(d.motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Array.from({length:6}).map((a,c)=>(0,b.jsx)(q,{},c))},"loading"):k?(0,b.jsx)(d.motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"border border-error-red/40 bg-error-red/5 px-4 py-3",children:(0,b.jsx)("span",{className:"font-mono text-xs uppercase tracking-wider text-error-red",children:k})},"error"):m?(0,b.jsx)(d.motion.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},exit:{opacity:0,y:-12},transition:{duration:.2},children:(0,b.jsx)(y,{agent:m,onBack:E})},"detail"):0===B.length?(0,b.jsx)(d.motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"border border-border p-8 text-center",children:(0,b.jsx)("span",{className:"font-mono text-xs uppercase tracking-widest text-muted-foreground/60",children:"No agents found"})},"empty"):(0,b.jsxs)(d.motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"flex flex-col gap-6",children:[(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:D.map((a,c)=>(0,b.jsx)(w,{agent:a,onClick:()=>p(a)},`${a.name}-${a.ownerAddress}-${c}`))}),C>1&&(0,b.jsxs)("div",{className:"flex items-center justify-center gap-2 pt-2",children:[(0,b.jsx)("button",{onClick:()=>s(a=>Math.max(1,a-1)),disabled:1===r,className:"font-mono text-[10px] uppercase tracking-widest px-3 py-1.5 border border-border text-muted-foreground hover:text-foreground hover:border-foreground/30 transition-colors disabled:opacity-30 disabled:pointer-events-none",children:"← Prev"}),Array.from({length:C},(a,b)=>b+1).map(a=>(0,b.jsx)("button",{onClick:()=>s(a),className:(0,f.cn)("font-mono text-[10px] uppercase tracking-widest w-8 h-8 border transition-colors",a===r?"border-foreground bg-foreground text-background":"border-border text-muted-foreground hover:border-foreground/30 hover:text-foreground"),children:a},a)),(0,b.jsx)("button",{onClick:()=>s(a=>Math.min(C,a+1)),disabled:r===C,className:"font-mono text-[10px] uppercase tracking-widest px-3 py-1.5 border border-border text-muted-foreground hover:text-foreground hover:border-foreground/30 transition-colors disabled:opacity-30 disabled:pointer-events-none",children:"Next →"})]})]},`grid-${r}`)})]})})})}function q(){return(0,b.jsxs)("div",{className:"border border-border p-5 relative animate-pulse",children:[(0,b.jsx)(r,{opacity:10}),(0,b.jsx)("div",{className:"h-4 w-2/3 bg-muted-foreground/10 rounded mb-3"}),(0,b.jsx)("div",{className:"h-3 w-1/3 bg-muted-foreground/10 rounded mb-4"}),(0,b.jsx)("div",{className:"h-3 w-full bg-muted-foreground/10 rounded mb-2"}),(0,b.jsx)("div",{className:"h-3 w-4/5 bg-muted-foreground/10 rounded mb-4"}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)("div",{className:"h-5 w-16 bg-muted-foreground/10 rounded"}),(0,b.jsx)("div",{className:"h-5 w-16 bg-muted-foreground/10 rounded"})]})]})}function r({opacity:a=20}){let c=`border-foreground/${a}`;return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:`absolute top-2 left-2 w-3 h-3 border-t border-l ${c}`}),(0,b.jsx)("div",{className:`absolute top-2 right-2 w-3 h-3 border-t border-r ${c}`}),(0,b.jsx)("div",{className:`absolute bottom-2 left-2 w-3 h-3 border-b border-l ${c}`}),(0,b.jsx)("div",{className:`absolute bottom-2 right-2 w-3 h-3 border-b border-r ${c}`})]})}let s={MINIMAL:"border-green-500/60 text-green-500 bg-green-500/5",LOW:"border-cyan-500/60 text-cyan-500 bg-cyan-500/5",MEDIUM:"border-yellow-500/60 text-yellow-500 bg-yellow-500/5",HIGH:"border-red-400/60 text-red-400 bg-red-400/5",CRITICAL:"border-red-600/60 text-red-600 bg-red-600/10"};function t(a){return a>=80?`\u2713 VERIFIED ${a}`:a>=60?`VERIFIED ${a}`:a>=40?`PARTIAL ${a}`:a>=20?`LOW ${a}`:`RISK ${a}`}function u({network:a,agentId:d}){let[e,g]=(0,c.useState)(null);if((0,c.useEffect)(()=>{d&&"pending"!==d&&(0,j.apiGetVerification)(a,d).then(a=>{a&&a.riskTier&&g(a)}).catch(()=>{})},[a,d]),!e)return null;let h=s[e.riskTier]||"border-border text-muted-foreground";return(0,b.jsx)("span",{className:(0,f.cn)("font-mono text-[8px] uppercase tracking-wider px-1.5 py-0.5 border shrink-0",h),children:t(e.overallScore)})}let v={reputation:{label:"REP",style:"border-green-500/40 text-green-500"},"tee-attestation":{label:"TEE",style:"border-purple-500/40 text-purple-400"},"crypto-economic":{label:"STAKE",style:"border-yellow-500/40 text-yellow-500"}};function w({agent:a,onClick:c}){let d=(0,i.useRouter)(),e="active"===a.status,g=Array.isArray(a.skills)?a.skills:[],h=Array.isArray(a.trustModels)?a.trustModels:[],j=parseFloat(a.hirePrice||"0"),k=a.registeredAt?new Date(a.registeredAt).toLocaleDateString():"";return(0,b.jsxs)("div",{className:"border border-border p-5 relative hover:border-foreground/30 transition-colors group w-full",children:[(0,b.jsx)(r,{}),(0,b.jsxs)("button",{type:"button",onClick:c,className:"w-full text-left cursor-pointer",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-1.5",children:[(0,b.jsx)("span",{className:(0,f.cn)("h-2 w-2 rounded-full shrink-0",e?"bg-system-green":"bg-error-red")}),(0,b.jsx)("span",{className:"font-mono text-sm font-bold uppercase tracking-wider text-foreground truncate",children:a.name}),a.agentId&&"pending"!==a.agentId&&(0,b.jsxs)("span",{className:"font-mono text-[10px] text-muted-foreground/60 shrink-0",children:["#",a.agentId]}),(0,b.jsx)(u,{network:a.network,agentId:a.agentId})]}),(0,b.jsxs)("div",{className:"flex items-center gap-1.5 mb-3",children:[a.networks.map(a=>(0,b.jsx)("span",{className:(0,f.cn)("font-mono text-[8px] uppercase tracking-wider px-1.5 py-0.5 border",m[a]||"border-border text-muted-foreground/60"),children:l[a]||a},a)),(0,b.jsx)("span",{className:(0,f.cn)("font-mono text-[9px] uppercase tracking-wider ml-auto",j>0?"text-system-green":"text-muted-foreground/40"),children:j>0?`$${j.toFixed(2)} USDC`:"FREE"})]}),a.description&&(0,b.jsx)("p",{className:"font-mono text-[11px] text-muted-foreground leading-relaxed line-clamp-2 mb-3",children:a.description}),g.length>0&&(0,b.jsxs)("div",{className:"flex flex-wrap gap-1.5 mb-3",children:[g.slice(0,3).map(a=>(0,b.jsx)("span",{className:"font-mono text-[9px] uppercase tracking-wider text-muted-foreground/60 border border-border/60 px-1.5 py-0.5",children:a},a)),g.length>3&&(0,b.jsxs)("span",{className:"font-mono text-[9px] text-muted-foreground/40",children:["+",g.length-3]})]}),(0,b.jsxs)("div",{className:"flex flex-wrap gap-1.5 mb-3",children:[h.map(a=>{let c=v[a];return c?(0,b.jsx)("span",{className:(0,f.cn)("font-mono text-[8px] uppercase tracking-wider px-1.5 py-0.5 border",c.style),children:c.label},a):null}),"true"===a.x402Payment&&(0,b.jsx)("span",{className:"font-mono text-[8px] uppercase tracking-wider px-1.5 py-0.5 border border-system-green/40 text-system-green",children:"x402"})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[a.ownerAddress&&(0,b.jsxs)("span",{className:"font-mono text-[9px] text-muted-foreground/40 truncate",children:[a.ownerAddress.slice(0,6),"...",a.ownerAddress.slice(-4)]}),k&&(0,b.jsx)("span",{className:"font-mono text-[9px] text-muted-foreground/40 shrink-0",children:k})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2 mt-3 pt-3 border-t border-border/40",children:[(0,b.jsx)("button",{type:"button",onClick:b=>{b.stopPropagation(),d.push(`/hire?network=${a.network}&agentId=${a.agentId}`)},className:"flex-1 font-mono text-[10px] uppercase tracking-widest py-1.5 border border-system-green/40 text-system-green hover:bg-system-green/5 transition-colors text-center",children:"HIRE"}),(0,b.jsx)("button",{type:"button",onClick:c,className:"flex-1 font-mono text-[10px] uppercase tracking-widest py-1.5 border border-info-blue/40 text-info-blue hover:bg-info-blue/5 transition-colors text-center",children:"DETAILS"})]})]})}function x({label:a,value:c,children:d}){return(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsx)("span",{className:"text-[10px] uppercase tracking-widest text-muted-foreground/60 w-24 shrink-0 pt-0.5",children:a}),d||(0,b.jsx)("span",{className:"text-xs text-foreground break-all",children:c})]})}function y({agent:a,onBack:c}){let d=(0,i.useRouter)(),{walletAddress:e}=(0,k.useWallet)(),g=h.CONTRACTS[a.network],j=g?.blockExplorer||"",l="active"===a.status,n=a.registeredAt?new Date(a.registeredAt).toLocaleString():"",o=parseFloat(a.hirePrice||"0"),p=Array.isArray(a.trustModels)?a.trustModels:[];return(0,b.jsxs)("div",{className:"flex flex-col gap-5",children:[(0,b.jsx)("button",{onClick:c,className:"font-mono text-xs uppercase tracking-widest text-muted-foreground hover:text-foreground transition-colors self-start",children:"← Back to agents"}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("span",{className:(0,f.cn)("h-3 w-3 rounded-full",l?"bg-system-green":"bg-error-red")}),(0,b.jsx)("h2",{className:"font-mono text-2xl md:text-3xl font-bold tracking-tight uppercase text-foreground",children:a.name}),a.agentId&&"pending"!==a.agentId&&(0,b.jsxs)("span",{className:"font-mono text-sm text-muted-foreground/60",children:["#",a.agentId]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(0,b.jsx)("span",{className:"font-mono text-[10px] uppercase tracking-widest text-muted-foreground/60",children:"Deployed on:"}),a.networks.map(a=>(0,b.jsx)("span",{className:(0,f.cn)("font-mono text-[9px] uppercase tracking-wider px-2 py-1 border",m[a]||"border-border text-muted-foreground/60"),children:h.CONTRACTS[a]?.name||a},a))]}),(p.length>0||"true"===a.x402Payment)&&(0,b.jsxs)("div",{className:"flex flex-wrap gap-2",children:[p.map(a=>{let c=v[a];return c?(0,b.jsx)("span",{className:(0,f.cn)("font-mono text-[9px] uppercase tracking-wider px-2 py-1 border",c.style),children:"reputation"===a?"Reputation-Based":"tee-attestation"===a?"TEE Attestation":"Crypto-Economic"},a):null}),"true"===a.x402Payment&&(0,b.jsx)("span",{className:"font-mono text-[9px] uppercase tracking-wider px-2 py-1 border border-system-green/40 text-system-green",children:"x402 Payments Enabled"})]}),(0,b.jsx)("div",{className:"flex items-center gap-3",children:(0,b.jsx)("button",{onClick:()=>d.push(`/hire?network=${a.network}&agentId=${a.agentId}`),className:"font-mono text-xs uppercase tracking-widest px-6 py-2.5 bg-system-green/10 border border-system-green/40 text-system-green hover:bg-system-green/20 transition-colors",children:o>0?`HIRE \u2014 $${o.toFixed(2)} / call`:"HIRE — FREE"})}),(0,b.jsxs)("div",{className:"border border-border p-5 relative",children:[(0,b.jsx)(r,{}),(0,b.jsxs)("div",{className:"space-y-2 text-sm font-mono",children:[(0,b.jsx)(x,{label:"NAME",value:a.name}),(0,b.jsx)(x,{label:"URL",children:(0,b.jsx)("a",{href:a.url,target:"_blank",rel:"noopener noreferrer",className:"text-info-blue hover:underline break-all text-xs",children:a.url})}),(0,b.jsx)(x,{label:"DESCRIPTION",value:a.description}),(0,b.jsx)(x,{label:"AGENT ID",value:a.agentId||"Pending"}),(0,b.jsx)(x,{label:"STATUS",children:(0,b.jsx)("span",{className:(0,f.cn)("text-xs",l?"text-system-green":"text-error-red"),children:a.status?.toUpperCase()||"UNKNOWN"})}),(0,b.jsx)(x,{label:"OWNER",children:(0,b.jsx)("span",{className:"text-xs text-foreground break-all",children:a.ownerAddress||"—"})}),(0,b.jsx)(x,{label:"VERSION",value:a.version||"—"}),a.author&&(0,b.jsx)(x,{label:"AUTHOR",value:a.author}),(0,b.jsx)(x,{label:"LICENSE",value:a.license||"—"}),a.registrationTx&&(0,b.jsx)(x,{label:"REG TX",children:(0,b.jsx)("a",{href:`${j}/tx/${a.registrationTx}`,target:"_blank",rel:"noopener noreferrer",className:"text-info-blue hover:underline break-all text-xs",children:a.registrationTx})}),n&&(0,b.jsx)(x,{label:"REGISTERED",value:n})]})]}),(a.mcpEndpoint||a.a2aEndpoint)&&(0,b.jsxs)("div",{className:"border border-border p-5 relative",children:[(0,b.jsx)(r,{}),(0,b.jsx)("span",{className:"font-mono text-[10px] uppercase tracking-widest text-muted-foreground/60 block mb-3",children:"Protocol Endpoints"}),(0,b.jsxs)("div",{className:"space-y-2 font-mono",children:[a.mcpEndpoint&&(0,b.jsx)(x,{label:"MCP",children:(0,b.jsx)("a",{href:a.mcpEndpoint,target:"_blank",rel:"noopener noreferrer",className:"text-info-blue hover:underline break-all text-xs",children:a.mcpEndpoint})}),a.a2aEndpoint&&(0,b.jsx)(x,{label:"A2A",children:(0,b.jsx)("a",{href:a.a2aEndpoint,target:"_blank",rel:"noopener noreferrer",className:"text-info-blue hover:underline break-all text-xs",children:a.a2aEndpoint})})]})]}),(0,b.jsx)(C,{agent:a,isOwner:!!e&&a.ownerAddress?.toLowerCase()===e.toLowerCase()}),(0,b.jsx)(z,{agent:a})]})}function z({agent:a}){let d=h.CONTRACTS[a.network],[e,i]=(0,c.useState)([]),[j,k]=(0,c.useState)(null),[l,m]=(0,c.useState)(!0),n=(0,c.useRef)(!1);async function o(){try{let b=new g.ethers.JsonRpcProvider(d.rpc),c=new g.ethers.Contract(d.reputationRegistry,h.REPUTATION_REGISTRY_ABI,b),e=await c.getClients(a.agentId);if(0===e.length){k({count:0,avg:0}),m(!1);return}try{let[b,d,f]=await c.getSummary(a.agentId,e,"",""),g=Number(b),h=g>0?Number(d)/Math.pow(10,Number(f)):0;k({count:g,avg:h})}catch{k({count:0,avg:0})}let f=[];for(let b of e){let d=Number(await c.getLastIndex(a.agentId,b));for(let e=1;e<=d;e++)try{let[d,,g,h,i]=await c.readFeedback(a.agentId,b,e);i||f.push({clientAddress:b,index:e,value:Number(d),tag1:g,tag2:h,isRevoked:i})}catch{}}i(f)}catch(a){console.error("Failed to fetch feedback:",a)}finally{m(!1)}}return(0,c.useEffect)(()=>{if(!n.current){if(n.current=!0,!a.agentId||"pending"===a.agentId||!d)return void m(!1);o()}},[]),(0,b.jsxs)("div",{className:"flex flex-col gap-5",children:[(0,b.jsxs)("div",{className:"border border-border p-5 relative",children:[(0,b.jsx)(r,{}),(0,b.jsx)("span",{className:"font-mono text-[10px] uppercase tracking-widest text-muted-foreground/60 block mb-4",children:"Reputation"}),l?(0,b.jsx)("div",{className:"flex gap-4",children:[1,2,3].map(a=>(0,b.jsx)("div",{className:"flex-1 h-20 bg-muted-foreground/5 border border-border animate-pulse"},a))}):(0,b.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,b.jsxs)("div",{className:"border border-border p-4 text-center",children:[(0,b.jsx)("span",{className:"font-mono text-2xl font-bold text-foreground block",children:j?`${j.avg.toFixed(1)}/5`:"—"}),(0,b.jsx)("span",{className:"font-mono text-[9px] uppercase tracking-widest text-muted-foreground/60",children:"Avg Score"})]}),(0,b.jsxs)("div",{className:"border border-border p-4 text-center",children:[(0,b.jsx)("span",{className:"font-mono text-2xl font-bold text-foreground block",children:j?.count??0}),(0,b.jsx)("span",{className:"font-mono text-[9px] uppercase tracking-widest text-muted-foreground/60",children:"Total Feedback"})]}),(0,b.jsxs)("div",{className:"border border-border p-4 text-center",children:[(0,b.jsx)("span",{className:"font-mono text-2xl font-bold text-foreground block",children:j?Math.round(20*j.avg):0}),(0,b.jsx)("span",{className:"font-mono text-[9px] uppercase tracking-widest text-muted-foreground/60",children:"Score /100"})]})]})]}),(0,b.jsx)("div",{className:"border border-border/60 px-4 py-3 text-center",children:(0,b.jsx)("span",{className:"font-mono text-[10px] uppercase tracking-widest text-muted-foreground/50",children:"Feedback can only be submitted after hiring and using this agent"})}),!l&&e.length>0&&(0,b.jsxs)("div",{className:"border border-border p-5 relative",children:[(0,b.jsx)(r,{}),(0,b.jsxs)("span",{className:"font-mono text-[10px] uppercase tracking-widest text-muted-foreground/60 block mb-4",children:["Feedback (",e.length,")"]}),(0,b.jsx)("div",{className:"space-y-3",children:e.map((a,c)=>(0,b.jsxs)("div",{className:"border border-border/60 p-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsxs)("span",{className:"font-mono text-[9px] text-muted-foreground/40",children:[a.clientAddress.slice(0,6),"...",a.clientAddress.slice(-4)]}),a.tag1&&(0,b.jsx)("span",{className:"font-mono text-[9px] uppercase tracking-wider text-muted-foreground/50 border border-border/40 px-1.5 py-0.5",children:a.tag1})]}),(0,b.jsxs)("div",{className:"flex items-center gap-1",children:[Array.from({length:5}).map((c,d)=>(0,b.jsx)("span",{className:(0,f.cn)("text-sm",d<a.value?"text-warning-amber":"text-border"),children:"★"},d)),(0,b.jsxs)("span",{className:"font-mono text-xs text-foreground ml-1",children:[a.value,"/5"]})]})]}),a.tag2&&(0,b.jsx)("p",{className:"font-mono text-[11px] text-muted-foreground leading-relaxed",children:a.tag2})]},`${a.clientAddress}-${a.index}-${c}`))})]}),!l&&0===e.length&&(0,b.jsxs)("div",{className:"border border-border p-5 relative text-center",children:[(0,b.jsx)(r,{}),(0,b.jsx)("span",{className:"font-mono text-xs uppercase tracking-widest text-muted-foreground/40",children:"No feedback yet"})]})]})}let A={WAV:"Web Availability",WV:"Wallet Verification",ETV:"On-Chain Transaction"};function B({score:a,label:c}){return(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("span",{className:"font-mono text-[10px] uppercase tracking-widest text-muted-foreground/60 w-32 shrink-0",children:c}),(0,b.jsx)("div",{className:"flex-1 h-2 bg-muted-foreground/10 relative overflow-hidden",children:(0,b.jsx)("div",{className:(0,f.cn)("h-full transition-all duration-500",a>=70?"bg-green-500":a>=40?"bg-yellow-500":"bg-red-500"),style:{width:`${a}%`}})}),(0,b.jsx)("span",{className:"font-mono text-xs text-foreground w-10 text-right",children:a})]})}function C({agent:a,isOwner:d}){let{signedFetch:e}=(0,k.useWallet)(),[g,h]=(0,c.useState)(null),[i,l]=(0,c.useState)(!0),[m,n]=(0,c.useState)(!1),[o,p]=(0,c.useState)(null);async function q(){n(!0),p(null);try{let b=await (0,j.apiVerifyAgent)(a.network,a.agentId,e);h(b)}catch(a){p(a instanceof Error?a.message:String(a))}finally{n(!1)}}return(0,c.useEffect)(()=>{a.agentId&&"pending"!==a.agentId?(0,j.apiGetVerification)(a.network,a.agentId).then(a=>{a&&a.riskTier&&h(a)}).catch(()=>{}).finally(()=>l(!1)):l(!1)},[a.network,a.agentId]),(0,b.jsxs)("div",{className:"border border-border p-5 relative",children:[(0,b.jsx)(r,{}),(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsx)("span",{className:"font-mono text-[10px] uppercase tracking-widest text-muted-foreground/60",children:"ERC-8126 Verification"}),d&&(0,b.jsx)("button",{onClick:q,disabled:m||!a.agentId||"pending"===a.agentId,className:"font-mono text-[10px] uppercase tracking-widest border border-border px-3 py-1.5 hover:border-foreground/30 hover:text-foreground transition-colors text-muted-foreground disabled:opacity-30",children:m?"Verifying...":g?"Re-verify":"Verify Now"})]}),i?(0,b.jsx)("div",{className:"h-20 bg-muted-foreground/5 animate-pulse"}):g?(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,b.jsxs)("div",{className:"border border-border p-4 text-center",children:[(0,b.jsx)("span",{className:"font-mono text-2xl font-bold text-foreground block",children:g.overallScore}),(0,b.jsx)("span",{className:"font-mono text-[9px] uppercase tracking-widest text-muted-foreground/60",children:"Score /100"})]}),(0,b.jsxs)("div",{className:"border border-border p-4 text-center",children:[(0,b.jsx)("span",{className:(0,f.cn)("font-mono text-sm font-bold block px-2 py-1 border",s[g.riskTier]||"border-border text-muted-foreground"),children:t(g.overallScore)}),(0,b.jsx)("span",{className:"font-mono text-[9px] uppercase tracking-widest text-muted-foreground/60 mt-1 block",children:"Status"})]}),(0,b.jsxs)("div",{className:"border border-border p-4 text-center",children:[(0,b.jsx)("span",{className:"font-mono text-sm text-foreground block",children:g.verifiedAt?new Date(g.verifiedAt).toLocaleDateString():"—"}),(0,b.jsx)("span",{className:"font-mono text-[9px] uppercase tracking-widest text-muted-foreground/60 mt-1 block",children:"Last Verified"})]})]}),g.proofs&&g.proofs.length>0&&(0,b.jsx)("div",{className:"space-y-3",children:g.proofs.map((a,c)=>(0,b.jsx)(B,{score:a.score,label:A[a.proofType]||a.proofType},c))}),g.txHash&&(0,b.jsxs)("div",{className:"font-mono text-[10px] text-muted-foreground/40",children:["On-chain tx: ",(0,b.jsx)("span",{className:"text-info-blue",children:g.txHash})]})]}):(0,b.jsx)("div",{className:"text-center py-4",children:(0,b.jsx)("span",{className:"font-mono text-xs uppercase tracking-widest text-muted-foreground/40",children:d?'Not yet verified — click "Verify Now" to run ERC-8126 checks':"Not yet verified"})}),o&&(0,b.jsx)("div",{className:"mt-3 border border-error-red/40 bg-error-red/5 px-4 py-2",children:(0,b.jsx)("span",{className:"font-mono text-xs text-error-red",children:o})})]})}a.s(["default",()=>p])}];

//# sourceMappingURL=app_agents_page_tsx_f5f08ed8._.js.map