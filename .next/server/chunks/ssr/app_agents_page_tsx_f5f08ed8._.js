module.exports=[84712,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(46271),e=a.i(62036),f=a.i(97895),g=a.i(38867),h=a.i(83103),i=a.i(50944),j=a.i(53250),k=a.i(43335),l=a.i(85085);let m=[{key:"all",label:"ALL"},...Object.entries(h.CONTRACTS).map(([a,b])=>({key:a,label:b.name}))];function n(){let[a,g]=(0,c.useState)([]),[i,k]=(0,c.useState)(!0),[l,n]=(0,c.useState)(null),[p,q]=(0,c.useState)("all"),[r,t]=(0,c.useState)(null),[v,w]=(0,c.useState)(1);(0,c.useEffect)(()=>{(0,j.apiListAgents)().then(a=>g(a.agents||[])).catch(a=>n(a.message)).finally(()=>k(!1))},[]);let x="all"===p?a:a.filter(a=>a.network===p),y=Math.max(1,Math.ceil(x.length/18)),z=x.slice((v-1)*18,18*v),A=(0,c.useCallback)(()=>t(null),[]);return(0,b.jsx)("div",{className:"h-full w-full relative flex flex-col overflow-y-auto no-scrollbar",children:(0,b.jsx)("div",{className:"flex-1 flex flex-col items-center pt-24 pb-16 px-4 md:px-8",children:(0,b.jsxs)("div",{className:"w-full max-w-5xl",children:[(0,b.jsxs)("div",{className:"mb-6",children:[(0,b.jsx)("h1",{className:"font-mono text-3xl md:text-4xl font-bold tracking-tight uppercase text-foreground",children:"AGENTS"}),(0,b.jsx)("p",{className:"font-mono text-[10px] uppercase tracking-widest text-muted-foreground/60 mt-2",children:"Deployed on 8004agent.network"})]}),!r&&(0,b.jsx)("div",{className:"flex flex-wrap gap-2 mb-6",children:m.map(a=>(0,b.jsx)("button",{onClick:()=>{q(a.key),t(null),w(1)},className:(0,f.cn)("font-mono text-[10px] uppercase tracking-wider px-3 py-1.5 border transition-colors",p===a.key?"border-foreground bg-foreground text-background":"border-border text-muted-foreground hover:border-foreground/30 hover:text-foreground"),children:a.label},a.key))}),!i&&!l&&!r&&(0,b.jsxs)("div",{className:"mb-4 flex items-center gap-3",children:[(0,b.jsxs)("span",{className:"font-mono text-[10px] uppercase tracking-widest text-muted-foreground/60",children:[x.length," agent",1!==x.length?"s":"","all"!==p?` on ${h.CONTRACTS[p]?.name||p}`:""]}),y>1&&(0,b.jsxs)("span",{className:"font-mono text-[10px] uppercase tracking-widest text-muted-foreground/40",children:["Page ",v,"/",y]})]}),(0,b.jsx)(e.AnimatePresence,{mode:"wait",children:i?(0,b.jsx)(d.motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Array.from({length:6}).map((a,c)=>(0,b.jsx)(o,{},c))},"loading"):l?(0,b.jsx)(d.motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"border border-error-red/40 bg-error-red/5 px-4 py-3",children:(0,b.jsx)("span",{className:"font-mono text-xs uppercase tracking-wider text-error-red",children:l})},"error"):r?(0,b.jsx)(d.motion.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},exit:{opacity:0,y:-12},transition:{duration:.2},children:(0,b.jsx)(u,{agent:r,onBack:A})},"detail"):0===x.length?(0,b.jsx)(d.motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"border border-border p-8 text-center",children:(0,b.jsxs)("span",{className:"font-mono text-xs uppercase tracking-widest text-muted-foreground/60",children:["No agents found","all"!==p?` on ${h.CONTRACTS[p]?.name||p}`:""]})},"empty"):(0,b.jsxs)(d.motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"flex flex-col gap-6",children:[(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:z.map((a,c)=>(0,b.jsx)(s,{agent:a,onClick:()=>t(a)},`${a.network}-${a.agentId}-${c}`))}),y>1&&(0,b.jsxs)("div",{className:"flex items-center justify-center gap-2 pt-2",children:[(0,b.jsx)("button",{onClick:()=>w(a=>Math.max(1,a-1)),disabled:1===v,className:"font-mono text-[10px] uppercase tracking-widest px-3 py-1.5 border border-border text-muted-foreground hover:text-foreground hover:border-foreground/30 transition-colors disabled:opacity-30 disabled:pointer-events-none",children:"← Prev"}),Array.from({length:y},(a,b)=>b+1).map(a=>(0,b.jsx)("button",{onClick:()=>w(a),className:(0,f.cn)("font-mono text-[10px] uppercase tracking-widest w-8 h-8 border transition-colors",a===v?"border-foreground bg-foreground text-background":"border-border text-muted-foreground hover:border-foreground/30 hover:text-foreground"),children:a},a)),(0,b.jsx)("button",{onClick:()=>w(a=>Math.min(y,a+1)),disabled:v===y,className:"font-mono text-[10px] uppercase tracking-widest px-3 py-1.5 border border-border text-muted-foreground hover:text-foreground hover:border-foreground/30 transition-colors disabled:opacity-30 disabled:pointer-events-none",children:"Next →"})]})]},`grid-${v}`)})]})})})}function o(){return(0,b.jsxs)("div",{className:"border border-border p-5 relative animate-pulse",children:[(0,b.jsx)(p,{opacity:10}),(0,b.jsx)("div",{className:"h-4 w-2/3 bg-muted-foreground/10 rounded mb-3"}),(0,b.jsx)("div",{className:"h-3 w-1/3 bg-muted-foreground/10 rounded mb-4"}),(0,b.jsx)("div",{className:"h-3 w-full bg-muted-foreground/10 rounded mb-2"}),(0,b.jsx)("div",{className:"h-3 w-4/5 bg-muted-foreground/10 rounded mb-4"}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)("div",{className:"h-5 w-16 bg-muted-foreground/10 rounded"}),(0,b.jsx)("div",{className:"h-5 w-16 bg-muted-foreground/10 rounded"})]})]})}function p({opacity:a=20}){let c=`border-foreground/${a}`;return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:`absolute top-2 left-2 w-3 h-3 border-t border-l ${c}`}),(0,b.jsx)("div",{className:`absolute top-2 right-2 w-3 h-3 border-t border-r ${c}`}),(0,b.jsx)("div",{className:`absolute bottom-2 left-2 w-3 h-3 border-b border-l ${c}`}),(0,b.jsx)("div",{className:`absolute bottom-2 right-2 w-3 h-3 border-b border-r ${c}`})]})}let q={MINIMAL:"border-green-500/60 text-green-500 bg-green-500/5",LOW:"border-cyan-500/60 text-cyan-500 bg-cyan-500/5",MEDIUM:"border-yellow-500/60 text-yellow-500 bg-yellow-500/5",HIGH:"border-red-400/60 text-red-400 bg-red-400/5",CRITICAL:"border-red-600/60 text-red-600 bg-red-600/10"};function r({network:a,agentId:d}){let[e,g]=(0,c.useState)(null);if((0,c.useEffect)(()=>{d&&"pending"!==d&&(0,j.apiGetVerification)(a,d).then(a=>{a&&a.riskTier&&g(a)}).catch(()=>{})},[a,d]),!e)return null;let h=q[e.riskTier]||"border-border text-muted-foreground";return(0,b.jsxs)("span",{className:(0,f.cn)("font-mono text-[8px] uppercase tracking-wider px-1.5 py-0.5 border shrink-0",h),children:[e.riskTier," ",e.overallScore]})}function s({agent:a,onClick:c}){let d=(0,i.useRouter)(),e=h.CONTRACTS[a.network]?.name||a.network,g="active"===a.status,j=Array.isArray(a.skills)?a.skills:[],k=parseFloat(a.hirePrice||"0"),l=a.registeredAt?new Date(a.registeredAt).toLocaleDateString():"";return(0,b.jsxs)("div",{className:"border border-border p-5 relative hover:border-foreground/30 transition-colors group w-full",children:[(0,b.jsx)(p,{}),(0,b.jsxs)("button",{type:"button",onClick:c,className:"w-full text-left cursor-pointer",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-1.5",children:[(0,b.jsx)("span",{className:(0,f.cn)("h-2 w-2 rounded-full shrink-0",g?"bg-system-green":"bg-error-red")}),(0,b.jsx)("span",{className:"font-mono text-sm font-bold uppercase tracking-wider text-foreground truncate",children:a.name}),a.agentId&&"pending"!==a.agentId&&(0,b.jsxs)("span",{className:"font-mono text-[10px] text-muted-foreground/60 shrink-0",children:["#",a.agentId]}),(0,b.jsx)(r,{network:a.network,agentId:a.agentId})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,b.jsx)("span",{className:"font-mono text-[9px] uppercase tracking-wider text-muted-foreground/50 border border-border px-1.5 py-0.5",children:e}),(0,b.jsx)("span",{className:(0,f.cn)("font-mono text-[9px] uppercase tracking-wider",k>0?"text-system-green":"text-muted-foreground/40"),children:k>0?`$${k.toFixed(2)} USDC`:"FREE"})]}),a.description&&(0,b.jsx)("p",{className:"font-mono text-[11px] text-muted-foreground leading-relaxed line-clamp-2 mb-3",children:a.description}),j.length>0&&(0,b.jsxs)("div",{className:"flex flex-wrap gap-1.5 mb-3",children:[j.slice(0,3).map(a=>(0,b.jsx)("span",{className:"font-mono text-[9px] uppercase tracking-wider text-muted-foreground/60 border border-border/60 px-1.5 py-0.5",children:a},a)),j.length>3&&(0,b.jsxs)("span",{className:"font-mono text-[9px] text-muted-foreground/40",children:["+",j.length-3]})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[a.ownerAddress&&(0,b.jsxs)("span",{className:"font-mono text-[9px] text-muted-foreground/40 truncate",children:[a.ownerAddress.slice(0,6),"...",a.ownerAddress.slice(-4)]}),l&&(0,b.jsx)("span",{className:"font-mono text-[9px] text-muted-foreground/40 shrink-0",children:l})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2 mt-3 pt-3 border-t border-border/40",children:[(0,b.jsx)("button",{type:"button",onClick:b=>{b.stopPropagation(),d.push(`/hire?network=${a.network}&agentId=${a.agentId}`)},className:"flex-1 font-mono text-[10px] uppercase tracking-widest py-1.5 border border-system-green/40 text-system-green hover:bg-system-green/5 transition-colors text-center",children:"HIRE"}),(0,b.jsx)("button",{type:"button",onClick:c,className:"flex-1 font-mono text-[10px] uppercase tracking-widest py-1.5 border border-info-blue/40 text-info-blue hover:bg-info-blue/5 transition-colors text-center",children:"FEEDBACK"})]})]})}function t({label:a,value:c,children:d}){return(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsx)("span",{className:"text-[10px] uppercase tracking-widest text-muted-foreground/60 w-24 shrink-0 pt-0.5",children:a}),d||(0,b.jsx)("span",{className:"text-xs text-foreground break-all",children:c})]})}function u({agent:a,onBack:c}){let d=(0,i.useRouter)(),e=h.CONTRACTS[a.network],g=e?.name||a.network,j=e?.blockExplorer||"",k="active"===a.status,l=a.registeredAt?new Date(a.registeredAt).toLocaleString():"",m=parseFloat(a.hirePrice||"0");return(0,b.jsxs)("div",{className:"flex flex-col gap-5",children:[(0,b.jsx)("button",{onClick:c,className:"font-mono text-xs uppercase tracking-widest text-muted-foreground hover:text-foreground transition-colors self-start",children:"← Back to agents"}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("span",{className:(0,f.cn)("h-3 w-3 rounded-full",k?"bg-system-green":"bg-error-red")}),(0,b.jsx)("h2",{className:"font-mono text-2xl md:text-3xl font-bold tracking-tight uppercase text-foreground",children:a.name}),a.agentId&&"pending"!==a.agentId&&(0,b.jsxs)("span",{className:"font-mono text-sm text-muted-foreground/60",children:["#",a.agentId]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("button",{onClick:()=>d.push(`/hire?network=${a.network}&agentId=${a.agentId}`),className:"font-mono text-xs uppercase tracking-widest px-6 py-2.5 bg-system-green/10 border border-system-green/40 text-system-green hover:bg-system-green/20 transition-colors",children:m>0?`HIRE — $${m.toFixed(2)} / call`:"HIRE — FREE"}),(0,b.jsx)("a",{href:"#feedback",className:"font-mono text-xs uppercase tracking-widest px-6 py-2.5 border border-info-blue/40 text-info-blue hover:bg-info-blue/5 transition-colors",children:"GIVE FEEDBACK"})]}),(0,b.jsxs)("div",{className:"border border-border p-5 relative",children:[(0,b.jsx)(p,{}),(0,b.jsxs)("div",{className:"space-y-2 text-sm font-mono",children:[(0,b.jsx)(t,{label:"NAME",value:a.name}),(0,b.jsx)(t,{label:"URL",children:(0,b.jsx)("a",{href:a.url,target:"_blank",rel:"noopener noreferrer",className:"text-info-blue hover:underline break-all text-xs",children:a.url})}),(0,b.jsx)(t,{label:"DESCRIPTION",value:a.description}),(0,b.jsx)(t,{label:"AGENT ID",value:a.agentId||"Pending"}),(0,b.jsx)(t,{label:"NETWORK",value:g}),(0,b.jsx)(t,{label:"STATUS",children:(0,b.jsx)("span",{className:(0,f.cn)("text-xs",k?"text-system-green":"text-error-red"),children:a.status?.toUpperCase()||"UNKNOWN"})}),(0,b.jsx)(t,{label:"OWNER",children:(0,b.jsx)("span",{className:"text-xs text-foreground break-all",children:a.ownerAddress||"—"})}),(0,b.jsx)(t,{label:"VERSION",value:a.version||"—"}),a.author&&(0,b.jsx)(t,{label:"AUTHOR",value:a.author}),(0,b.jsx)(t,{label:"LICENSE",value:a.license||"—"}),a.registrationTx&&(0,b.jsx)(t,{label:"REG TX",children:(0,b.jsx)("a",{href:`${j}/tx/${a.registrationTx}`,target:"_blank",rel:"noopener noreferrer",className:"text-info-blue hover:underline break-all text-xs",children:a.registrationTx})}),l&&(0,b.jsx)(t,{label:"REGISTERED",value:l})]})]}),(a.mcpEndpoint||a.a2aEndpoint)&&(0,b.jsxs)("div",{className:"border border-border p-5 relative",children:[(0,b.jsx)(p,{}),(0,b.jsx)("span",{className:"font-mono text-[10px] uppercase tracking-widest text-muted-foreground/60 block mb-3",children:"Protocol Endpoints"}),(0,b.jsxs)("div",{className:"space-y-2 font-mono",children:[a.mcpEndpoint&&(0,b.jsx)(t,{label:"MCP",children:(0,b.jsx)("a",{href:a.mcpEndpoint,target:"_blank",rel:"noopener noreferrer",className:"text-info-blue hover:underline break-all text-xs",children:a.mcpEndpoint})}),a.a2aEndpoint&&(0,b.jsx)(t,{label:"A2A",children:(0,b.jsx)("a",{href:a.a2aEndpoint,target:"_blank",rel:"noopener noreferrer",className:"text-info-blue hover:underline break-all text-xs",children:a.a2aEndpoint})})]})]}),(0,b.jsx)(y,{agent:a}),(0,b.jsx)("div",{id:"feedback",children:(0,b.jsx)(v,{agent:a})})]})}function v({agent:a}){let{walletAddress:d,signer:e}=(0,l.useWallet)(),i=h.CONTRACTS[a.network],[j,m]=(0,c.useState)([]),[n,o]=(0,c.useState)(null),[q,r]=(0,c.useState)(!0),[s,t]=(0,c.useState)(!1),[u,v]=(0,c.useState)(null),[w,x]=(0,c.useState)(5),[y,z]=(0,c.useState)(""),A=(0,c.useRef)(!1);async function B(){try{let b=new g.ethers.JsonRpcProvider(i.rpc),c=new g.ethers.Contract(i.reputationRegistry,h.REPUTATION_REGISTRY_ABI,b),d=await c.getClients(a.agentId);if(0===d.length){o({count:0,avg:0}),r(!1);return}try{let[b,e,f]=await c.getSummary(a.agentId,d,"",""),g=Number(b),h=g>0?Number(e)/Math.pow(10,Number(f)):0;o({count:g,avg:h})}catch{o({count:0,avg:0})}let e=[];for(let b of d){let d=Number(await c.getLastIndex(a.agentId,b));for(let f=1;f<=d;f++)try{let[d,,g,h,i]=await c.readFeedback(a.agentId,b,f);i||e.push({clientAddress:b,index:f,value:Number(d),tag1:g,tag2:h,isRevoked:i})}catch{}}m(e)}catch(a){console.error("Failed to fetch feedback:",a)}finally{r(!1)}}async function C(){if(d&&e&&a.agentId&&"pending"!==a.agentId){t(!0),v(null);try{let b=`I give feedback score ${w}/5 to agent #${a.agentId} (${a.name}) on ${i.name} via 8004agent.network`,c=await e.signMessage(b),f={network:i.facinetNetwork,chainId:i.chainId},j=await (0,k.selectFacilitator)(f),l=g.ethers.keccak256(g.ethers.toUtf8Bytes(c));await (0,k.facinetExecuteContract)(f,{contractAddress:i.reputationRegistry,functionName:"giveFeedback",functionArgs:[a.agentId,w,0,"rating",y||"",a.url||"",`sig:${d}`,l],abi:h.REPUTATION_REGISTRY_ABI},j),v("Feedback submitted on-chain!"),z(""),x(5),A.current=!1,r(!0),B()}catch(b){let a=b instanceof Error?b.message:String(b);v(`Failed: ${a}`)}finally{t(!1)}}}return(0,c.useEffect)(()=>{if(!A.current){if(A.current=!0,!a.agentId||"pending"===a.agentId||!i)return void r(!1);B()}},[]),(0,b.jsxs)("div",{className:"flex flex-col gap-5",children:[(0,b.jsxs)("div",{className:"border border-border p-5 relative",children:[(0,b.jsx)(p,{}),(0,b.jsx)("span",{className:"font-mono text-[10px] uppercase tracking-widest text-muted-foreground/60 block mb-4",children:"Reputation"}),q?(0,b.jsx)("div",{className:"flex gap-4",children:[1,2,3].map(a=>(0,b.jsx)("div",{className:"flex-1 h-20 bg-muted-foreground/5 border border-border animate-pulse"},a))}):(0,b.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,b.jsxs)("div",{className:"border border-border p-4 text-center",children:[(0,b.jsx)("span",{className:"font-mono text-2xl font-bold text-foreground block",children:n?`${n.avg.toFixed(1)}/5`:"—"}),(0,b.jsx)("span",{className:"font-mono text-[9px] uppercase tracking-widest text-muted-foreground/60",children:"Avg Score"})]}),(0,b.jsxs)("div",{className:"border border-border p-4 text-center",children:[(0,b.jsx)("span",{className:"font-mono text-2xl font-bold text-foreground block",children:n?.count??0}),(0,b.jsx)("span",{className:"font-mono text-[9px] uppercase tracking-widest text-muted-foreground/60",children:"Total Feedback"})]}),(0,b.jsxs)("div",{className:"border border-border p-4 text-center",children:[(0,b.jsx)("span",{className:"font-mono text-2xl font-bold text-foreground block",children:n?Math.round(20*n.avg):0}),(0,b.jsx)("span",{className:"font-mono text-[9px] uppercase tracking-widest text-muted-foreground/60",children:"Score /100"})]})]})]}),(0,b.jsxs)("div",{className:"border border-border p-5 relative",children:[(0,b.jsx)(p,{}),(0,b.jsx)("span",{className:"font-mono text-[10px] uppercase tracking-widest text-muted-foreground/60 block mb-4",children:"Give Feedback"}),d?a.ownerAddress&&d.toLowerCase()===a.ownerAddress.toLowerCase()?(0,b.jsx)("div",{className:"border border-border px-4 py-3",children:(0,b.jsx)("span",{className:"font-mono text-xs uppercase tracking-wider text-muted-foreground/60",children:"You cannot review your own agent"})}):(0,b.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"font-mono text-[10px] uppercase tracking-widest text-muted-foreground/60 block mb-2",children:"Score"}),(0,b.jsx)("div",{className:"flex gap-2",children:[1,2,3,4,5].map(a=>(0,b.jsx)("button",{onClick:()=>x(a),className:(0,f.cn)("w-10 h-10 font-mono text-sm font-bold border transition-colors",a===w?"border-foreground bg-foreground text-background":"border-border text-muted-foreground hover:border-foreground/30 hover:text-foreground"),children:a},a))})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"font-mono text-[10px] uppercase tracking-widest text-muted-foreground/60 block mb-2",children:"Comment (optional)"}),(0,b.jsx)("textarea",{value:y,onChange:a=>z(a.target.value),placeholder:"Your feedback...",rows:3,className:"w-full bg-transparent border border-border px-4 py-2.5 font-mono text-sm text-foreground placeholder:text-muted-foreground/40 focus:outline-none focus:border-foreground/40 transition-colors resize-none no-scrollbar"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("button",{onClick:C,disabled:s||!a.agentId||"pending"===a.agentId,className:"font-mono text-xs uppercase tracking-widest bg-foreground text-background px-6 py-2.5 hover:opacity-90 transition-opacity disabled:opacity-30",children:s?"Submitting...":"Submit Feedback"}),(0,b.jsx)("span",{className:"font-mono text-[9px] text-muted-foreground/40 uppercase tracking-wider",children:"Gas covered by Facinet"})]}),u&&(0,b.jsx)("span",{className:(0,f.cn)("font-mono text-xs uppercase tracking-wider",u.startsWith("Failed")?"text-error-red":"text-system-green"),children:u})]}):(0,b.jsx)("div",{className:"border border-warning-amber/40 bg-warning-amber/5 px-4 py-3",children:(0,b.jsx)("span",{className:"font-mono text-xs uppercase tracking-wider text-warning-amber",children:"Connect wallet from navbar to give feedback"})})]}),!q&&j.length>0&&(0,b.jsxs)("div",{className:"border border-border p-5 relative",children:[(0,b.jsx)(p,{}),(0,b.jsxs)("span",{className:"font-mono text-[10px] uppercase tracking-widest text-muted-foreground/60 block mb-4",children:["Feedback (",j.length,")"]}),(0,b.jsx)("div",{className:"space-y-3",children:j.map((a,c)=>(0,b.jsxs)("div",{className:"border border-border/60 p-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsxs)("span",{className:"font-mono text-[9px] text-muted-foreground/40",children:[a.clientAddress.slice(0,6),"...",a.clientAddress.slice(-4)]}),a.tag1&&(0,b.jsx)("span",{className:"font-mono text-[9px] uppercase tracking-wider text-muted-foreground/50 border border-border/40 px-1.5 py-0.5",children:a.tag1})]}),(0,b.jsxs)("div",{className:"flex items-center gap-1",children:[Array.from({length:5}).map((c,d)=>(0,b.jsx)("span",{className:(0,f.cn)("text-sm",d<a.value?"text-warning-amber":"text-border"),children:"★"},d)),(0,b.jsxs)("span",{className:"font-mono text-xs text-foreground ml-1",children:[a.value,"/5"]})]})]}),a.tag2&&(0,b.jsx)("p",{className:"font-mono text-[11px] text-muted-foreground leading-relaxed",children:a.tag2})]},`${a.clientAddress}-${a.index}-${c}`))})]}),!q&&0===j.length&&(0,b.jsxs)("div",{className:"border border-border p-5 relative text-center",children:[(0,b.jsx)(p,{}),(0,b.jsx)("span",{className:"font-mono text-xs uppercase tracking-widest text-muted-foreground/40",children:"No feedback yet — be the first to review this agent"})]})]})}let w={WAV:"Web Availability",WV:"Wallet Verification",ETV:"On-Chain Transaction"};function x({score:a,label:c}){return(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("span",{className:"font-mono text-[10px] uppercase tracking-widest text-muted-foreground/60 w-32 shrink-0",children:c}),(0,b.jsx)("div",{className:"flex-1 h-2 bg-muted-foreground/10 relative overflow-hidden",children:(0,b.jsx)("div",{className:(0,f.cn)("h-full transition-all duration-500",a>=70?"bg-green-500":a>=40?"bg-yellow-500":"bg-red-500"),style:{width:`${a}%`}})}),(0,b.jsx)("span",{className:"font-mono text-xs text-foreground w-10 text-right",children:a})]})}function y({agent:a}){let{signedFetch:d}=(0,l.useWallet)(),[e,g]=(0,c.useState)(null),[h,i]=(0,c.useState)(!0),[k,m]=(0,c.useState)(!1),[n,o]=(0,c.useState)(null);async function r(){m(!0),o(null);try{let b=await (0,j.apiVerifyAgent)(a.network,a.agentId,d);g(b)}catch(a){o(a instanceof Error?a.message:String(a))}finally{m(!1)}}return(0,c.useEffect)(()=>{a.agentId&&"pending"!==a.agentId?(0,j.apiGetVerification)(a.network,a.agentId).then(a=>{a&&a.riskTier&&g(a)}).catch(()=>{}).finally(()=>i(!1)):i(!1)},[a.network,a.agentId]),(0,b.jsxs)("div",{className:"border border-border p-5 relative",children:[(0,b.jsx)(p,{}),(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsx)("span",{className:"font-mono text-[10px] uppercase tracking-widest text-muted-foreground/60",children:"ERC-8126 Verification"}),(0,b.jsx)("button",{onClick:r,disabled:k||!a.agentId||"pending"===a.agentId,className:"font-mono text-[10px] uppercase tracking-widest border border-border px-3 py-1.5 hover:border-foreground/30 hover:text-foreground transition-colors text-muted-foreground disabled:opacity-30",children:k?"Verifying...":e?"Re-verify":"Verify Now"})]}),h?(0,b.jsx)("div",{className:"h-20 bg-muted-foreground/5 animate-pulse"}):e?(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,b.jsxs)("div",{className:"border border-border p-4 text-center",children:[(0,b.jsx)("span",{className:"font-mono text-2xl font-bold text-foreground block",children:e.overallScore}),(0,b.jsx)("span",{className:"font-mono text-[9px] uppercase tracking-widest text-muted-foreground/60",children:"Score /100"})]}),(0,b.jsxs)("div",{className:"border border-border p-4 text-center",children:[(0,b.jsx)("span",{className:(0,f.cn)("font-mono text-sm font-bold block px-2 py-1 border",q[e.riskTier]||"border-border text-muted-foreground"),children:e.riskTier}),(0,b.jsx)("span",{className:"font-mono text-[9px] uppercase tracking-widest text-muted-foreground/60 mt-1 block",children:"Risk Tier"})]}),(0,b.jsxs)("div",{className:"border border-border p-4 text-center",children:[(0,b.jsx)("span",{className:"font-mono text-sm text-foreground block",children:e.verifiedAt?new Date(e.verifiedAt).toLocaleDateString():"—"}),(0,b.jsx)("span",{className:"font-mono text-[9px] uppercase tracking-widest text-muted-foreground/60 mt-1 block",children:"Last Verified"})]})]}),e.proofs&&e.proofs.length>0&&(0,b.jsx)("div",{className:"space-y-3",children:e.proofs.map((a,c)=>(0,b.jsx)(x,{score:a.score,label:w[a.proofType]||a.proofType},c))}),e.txHash&&(0,b.jsxs)("div",{className:"font-mono text-[10px] text-muted-foreground/40",children:["On-chain tx: ",(0,b.jsx)("span",{className:"text-info-blue",children:e.txHash})]})]}):(0,b.jsx)("div",{className:"text-center py-4",children:(0,b.jsx)("span",{className:"font-mono text-xs uppercase tracking-widest text-muted-foreground/40",children:'Not yet verified — click "Verify Now" to run ERC-8126 checks'})}),n&&(0,b.jsx)("div",{className:"mt-3 border border-error-red/40 bg-error-red/5 px-4 py-2",children:(0,b.jsx)("span",{className:"font-mono text-xs text-error-red",children:n})})]})}a.s(["default",()=>n])}];

//# sourceMappingURL=app_agents_page_tsx_f5f08ed8._.js.map