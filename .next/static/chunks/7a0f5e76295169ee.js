(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,54858,4319,e=>{"use strict";let t=e.i(47167).default.env.NEXT_PUBLIC_API_BASE||"https://agent-cli-backend.onrender.com";async function r(e,r,a){let n=a||fetch,s=await n(`${t}${e}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)}),i=await s.json().catch(()=>({}));if(!s.ok)throw Error(i.error||s.statusText||`HTTP ${s.status}`);return i}async function a(e,r){let a=r||fetch,n=await a(`${t}${e}`),s=await n.json().catch(()=>({}));if(!n.ok)throw Error(s.error||n.statusText||`HTTP ${n.status}`);return s}async function n(e,t){let r=new URLSearchParams;return e&&r.set("name",e),t&&r.set("url",t),a(`/api/agents/check?${r.toString()}`)}async function s(e){return r("/api/circle/create-wallet",{agentId:e})}async function i(){return a("/api/agents")}async function o(e,t){return a(`/api/agents/${e}/${t}`)}async function l(e){let t=e?`?status=${e}`:"";return a(`/api/arena/events${t}`)}async function c(e){return a(`/api/arena/events/${e}`)}async function d(e,t){return r("/api/arena/events",e,t)}async function u(e,t,a){return r(`/api/arena/events/${e}/register`,t,a)}async function p(e,t,a){return r(`/api/arena/events/${e}/status`,t,a)}async function m(e,t,a){return r(`/api/arena/events/${e}/vote`,t,a)}async function x(e,t,a){return r(`/api/arena/events/${e}/judge`,t,a)}async function g(e,t,a){return r(`/api/arena/events/${e}/distribute`,t,a)}async function f(e){return a(`/api/arena/admin-check?address=${e}`)}async function h(){return a("/api/arena/leaderboard")}async function b(e,t,a){return r(`/api/verify/${e}/${t}`,{},a)}async function y(e,t){return a(`/api/verify/${e}/${t}`)}async function v(e,t){return r("/api/agents",e,t)}async function j(e,t){return a(`/api/hire/plans/${e}/${t}`)}async function k(e){return r("/api/bridge/initiate",e)}async function N(e){return r("/api/hire",e)}async function w(e){return a(`/api/hire/my/${e}`)}async function A(e){return a(`/api/hire/status/${e}`)}async function I(e,t,r){return a(`/api/hire/active/${e}/${t}/${r}`)}async function S(e,t,a){return r("/api/workspace/call",{hireId:e,message:t,files:a})}async function C(e){return a(`/api/workspace/history/${e}`)}async function E(e){return r(`/api/workspace/clear/${e}`,{})}async function T(e,t){return r("/api/circle/withdraw",e,t)}async function R(e){return a(`/api/circle/withdraw-status/${e}`)}e.s(["API_BASE",0,t,"APPLICATION_DOMAINS",0,{Technology:["Technology","Software Engineering","DevOps","Data Science","Blockchain","DeFi","Cybersecurity","Cloud Computing"],"Finance & Business":["Finance & Business","Finance","Banking"],Healthcare:["Healthcare","Telemedicine","Healthcare Informatics"],Education:["Education","E-Learning"]},"CHAIN_USDC",0,{sepolia:"0x1c7D4B196Cb0C7B01d743Fbc6116a902379C7238",baseSepolia:"0x036CbD53842c5426634e7929541eC2318f3dCF7e",fuji:"0x5425890298aed601595a70AB815c96711a31Bc65",arbitrumSepolia:"0x75faf114eafb1BDbe2F0316DF893fd58CE46AA4d",monadTestnet:"0x534b2f3A21130d7a60830c2Df862319e593943A3"},"CONTRACTS",0,{sepolia:{name:"Ethereum Sepolia",rpc:"https://ethereum-sepolia-rpc.publicnode.com",chainId:0xaa36a7,chainIdHex:"0xaa36a7",blockExplorer:"https://sepolia.etherscan.io",identityRegistry:"0x8004A818BFB912233c491871b3d84c89A494BD9e",reputationRegistry:"0x8004B663056A597Dffe9eCcC1965A193B7388713",verificationRegistry:"0xA4Bc25c1715c073202783699ea934b169c19b3C2",facinetNetwork:"ethereum-sepolia"},baseSepolia:{name:"Base Sepolia",rpc:"https://sepolia.base.org",chainId:84532,chainIdHex:"0x14a34",blockExplorer:"https://sepolia.basescan.org",identityRegistry:"0x8004A818BFB912233c491871b3d84c89A494BD9e",reputationRegistry:"0x8004B663056A597Dffe9eCcC1965A193B7388713",verificationRegistry:"0x817FCea8d1AcdABe280A39F31feAaf635D740491",facinetNetwork:"base-sepolia"},fuji:{name:"Avalanche Fuji",rpc:"https://api.avax-test.network/ext/bc/C/rpc",chainId:43113,chainIdHex:"0xa869",blockExplorer:"https://testnet.snowtrace.io",identityRegistry:"0x8004A818BFB912233c491871b3d84c89A494BD9e",reputationRegistry:"0x8004B663056A597Dffe9eCcC1965A193B7388713",verificationRegistry:"0x82b50Dd0729D1b109522f6b4D9B13Aa438aF63D0",facinetNetwork:"avalanche-fuji"},arbitrumSepolia:{name:"Arbitrum Sepolia",rpc:"https://sepolia-rollup.arbitrum.io/rpc",chainId:421614,chainIdHex:"0x66eee",blockExplorer:"https://sepolia.arbiscan.io",identityRegistry:"0x8004A818BFB912233c491871b3d84c89A494BD9e",reputationRegistry:"0x8004B663056A597Dffe9eCcC1965A193B7388713",verificationRegistry:"0x388166fb3B38aFa179B76444d742A329b78B4FF4",facinetNetwork:"arbitrum-sepolia"},monadTestnet:{name:"Monad Testnet",rpc:"https://testnet-rpc.monad.xyz",chainId:10143,chainIdHex:"0x279f",blockExplorer:"https://testnet.monadexplorer.com",identityRegistry:"0x8004A818BFB912233c491871b3d84c89A494BD9e",reputationRegistry:"0x8004B663056A597Dffe9eCcC1965A193B7388713",verificationRegistry:"0x6166809DCFaD786C0f18d8d97be3729b83cb2775",facinetNetwork:"monad-testnet"}},"DEFAULT_FORM_DATA",0,{name:"",url:"",imageUrl:"",description:"",version:"1.0.0",author:"",license:"MIT",mcpEndpoint:"",a2aEndpoint:"",skills:[],customSkills:"",domains:[],customDomains:"",metadataStorage:"on-chain",trustModels:[],x402Payment:!0,activationStatus:"active",hirePrice:"0"},"IDENTITY_REGISTRY_ABI",0,[{inputs:[{name:"agentURI",type:"string"}],name:"register",outputs:[{name:"agentId",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"from",type:"address"},{name:"to",type:"address"},{name:"tokenId",type:"uint256"}],name:"transferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"tokenId",type:"uint256"},{name:"uri",type:"string"}],name:"setAgentURI",outputs:[],stateMutability:"nonpayable",type:"function"},{anonymous:!1,inputs:[{indexed:!0,name:"agentId",type:"uint256"},{indexed:!1,name:"agentURI",type:"string"},{indexed:!0,name:"owner",type:"address"}],name:"Registered",type:"event"}],"OASF_SKILLS",0,{"Natural Language Processing":["Natural Language Processing","Summarization","Question Answering","Sentiment Analysis","Translation","Named Entity Recognition","Storytelling"],"Images & Computer Vision":["Computer Vision","Image Generation","Image Classification","Object Detection"],"Multi Modal":["Speech Recognition","Text-to-Speech","Text to Image","Image to Text"],"Analytical Skills":["Code Generation","Code Optimization","Math Problem Solving"],"Data Engineering":["Data Analysis","Database Query","API Integration"]},"PAYMENT_CHAINS",0,[{key:"fuji",label:"Avalanche Fuji (Direct)",cctp:!1},{key:"sepolia",label:"Ethereum Sepolia",cctp:!0},{key:"baseSepolia",label:"Base Sepolia",cctp:!0},{key:"arbitrumSepolia",label:"Arbitrum Sepolia",cctp:!0}],"REPUTATION_REGISTRY_ABI",0,[{inputs:[{name:"agentId",type:"uint256"},{name:"value",type:"int128"},{name:"valueDecimals",type:"uint8"},{name:"tag1",type:"string"},{name:"tag2",type:"string"},{name:"endpoint",type:"string"},{name:"feedbackURI",type:"string"},{name:"feedbackHash",type:"bytes32"}],name:"giveFeedback",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"agentId",type:"uint256"}],name:"getClients",outputs:[{name:"",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[{name:"agentId",type:"uint256"},{name:"clientAddress",type:"address"}],name:"getLastIndex",outputs:[{name:"",type:"uint64"}],stateMutability:"view",type:"function"},{inputs:[{name:"agentId",type:"uint256"},{name:"clientAddress",type:"address"},{name:"feedbackIndex",type:"uint64"}],name:"readFeedback",outputs:[{name:"value",type:"int128"},{name:"valueDecimals",type:"uint8"},{name:"tag1",type:"string"},{name:"tag2",type:"string"},{name:"isRevoked",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{name:"agentId",type:"uint256"},{name:"clientAddresses",type:"address[]"},{name:"tag1",type:"string"},{name:"tag2",type:"string"}],name:"getSummary",outputs:[{name:"count",type:"uint64"},{name:"summaryValue",type:"int128"},{name:"summaryValueDecimals",type:"uint8"}],stateMutability:"view",type:"function"},{anonymous:!1,inputs:[{indexed:!0,name:"agentId",type:"uint256"},{indexed:!0,name:"clientAddress",type:"address"},{indexed:!1,name:"feedbackIndex",type:"uint64"},{indexed:!1,name:"value",type:"int128"},{indexed:!1,name:"valueDecimals",type:"uint8"},{indexed:!0,name:"indexedTag1",type:"string"},{indexed:!1,name:"tag1",type:"string"},{indexed:!1,name:"tag2",type:"string"},{indexed:!1,name:"endpoint",type:"string"},{indexed:!1,name:"feedbackURI",type:"string"},{indexed:!1,name:"feedbackHash",type:"bytes32"}],name:"NewFeedback",type:"event"}],"TRUST_MODELS",0,[{name:"Reputation-Based",value:"reputation"},{name:"Crypto-Economic (Staking)",value:"crypto-economic"},{name:"TEE Attestation",value:"tee-attestation"}],"USDC_ABI",0,[{inputs:[{name:"to",type:"address"},{name:"amount",type:"uint256"}],name:"transfer",outputs:[{name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"account",type:"address"}],name:"balanceOf",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Transfer",type:"event"}],"USDC_ADDRESS",0,"0x5425890298aed601595a70AB815c96711a31Bc65","USDC_DECIMALS",0,6],4319),e.s(["apiBridgeInitiate",()=>k,"apiCheckActiveHire",()=>I,"apiCheckAdmin",()=>f,"apiCheckAgent",()=>n,"apiCreateCircleWallet",()=>s,"apiCreateEvent",()=>d,"apiDistributePrizes",()=>g,"apiGetAgent",()=>o,"apiGetEvent",()=>c,"apiGetHireStatus",()=>A,"apiGetLeaderboard",()=>h,"apiGetMyHires",()=>w,"apiGetPlans",()=>j,"apiGetVerification",()=>y,"apiJudgeEvent",()=>x,"apiListAgents",()=>i,"apiListEvents",()=>l,"apiRecordHire",()=>N,"apiRegisterForEvent",()=>u,"apiStoreAgent",()=>v,"apiUpdateEventStatus",()=>p,"apiVerifyAgent",()=>b,"apiVoteEvent",()=>m,"apiWithdraw",()=>T,"apiWithdrawStatus",()=>R,"apiWorkspaceCall",()=>S,"apiWorkspaceClear",()=>E,"apiWorkspaceHistory",()=>C],54858)},43363,e=>{"use strict";let t=e.i(47167).default.env.NEXT_PUBLIC_FACINET_API||"https://facinet.vercel.app";async function r(e,r){let a=await fetch(`${t}/api/facilitator/list?network=${encodeURIComponent(e)}&chainId=${r}`,{headers:{"User-Agent":"Facinet-Web/1.0"}}),n=await a.json();return n.success&&Array.isArray(n.facilitators)?n.facilitators.filter(t=>"active"===t.status&&(!t.network||t.network===e)&&(void 0===t.chainId||t.chainId===r)&&(!!t.network||void 0!==t.chainId)):[]}async function a(e){let t=await r(e.network,e.chainId);if(0===t.length)throw Error(`No active facilitators for ${e.network} (chainId ${e.chainId}). Check https://facinet.vercel.app for available facilitators.`);let a=t[Math.floor(Math.random()*t.length)];return{id:a.id,name:a.name||`Facilitator ${a.id.slice(0,8)}`,wallet:a.facilitatorWallet}}async function n(e,r,a){if(!r.contractAddress||!r.functionName)throw Error("contractAddress and functionName are required");if(!r.abi||0===r.abi.length)throw Error("ABI is required for contract execution");let n={facilitatorId:a.id,network:e.network,chainId:e.chainId,contractAddress:r.contractAddress,functionName:r.functionName,functionArgs:r.functionArgs,abi:r.abi},s=await fetch(`${t}/api/x402/execute-contract`,{method:"POST",headers:{"Content-Type":"application/json","X-Network":e.network,"X-Chain-Id":e.chainId.toString()},body:JSON.stringify(n)}),i=await s.json().catch(()=>({}));if(!s.ok||!i.success)throw Error(i.error||i.message||i.reason||`Execute failed (HTTP ${s.status})`);return{success:!0,txHash:i.txHash,facilitator:{id:a.id,name:a.name,wallet:a.wallet},contract:{address:r.contractAddress,functionName:r.functionName,network:e.network},gasUsed:i.gasUsed,gasSpent:i.gasSpent}}e.s(["facinetExecuteContract",()=>n,"selectFacilitator",()=>a])},99519,e=>{"use strict";var t=e.i(43476),r=e.i(71645),a=e.i(46932),n=e.i(88653),s=e.i(47163),i=e.i(37799),o=e.i(54238),l=e.i(43363),c=e.i(4319),d=e.i(54858);let u=[{id:0,label:"BASIC INFO"},{id:1,label:"ENDPOINTS"},{id:2,label:"SKILLS"},{id:3,label:"CONFIG"},{id:4,label:"REVIEW"},{id:5,label:"DEPLOY"},{id:6,label:"DONE"}],p=Object.keys(c.CONTRACTS).length;function m(){let[e,s]=(0,r.useState)(0),[o,l]=(0,r.useState)({...c.DEFAULT_FORM_DATA}),[d,u]=(0,r.useState)(null),[p,m]=(0,r.useState)(null),[g,f]=(0,r.useState)(!1),[h,b]=(0,r.useState)(!1),[v,k]=(0,r.useState)(!1),{walletAddress:I,signer:S}=(0,i.useWallet)(),T=(0,r.useCallback)(e=>{l(t=>({...t,...e})),void 0!==e.name&&f(!1),void 0!==e.url&&b(!1)},[]),R=(0,r.useCallback)(()=>{switch(e){case 0:return""!==o.name.trim()&&o.url.trim().startsWith("http")&&""!==o.description.trim()&&!g&&!h&&!v;case 1:case 2:case 3:return!0;case 4:return!!I;default:return!1}},[e,o,I,g,h,v]);return(0,t.jsx)("div",{className:"h-full w-full relative flex flex-col overflow-y-auto no-scrollbar",children:(0,t.jsxs)("div",{className:"flex-1 flex flex-col items-center pt-24 pb-16 px-4 md:px-8",children:[e<6&&(0,t.jsx)(x,{currentStep:e}),(0,t.jsxs)("div",{className:"w-full max-w-2xl mt-8",children:[(0,t.jsx)(n.AnimatePresence,{mode:"wait",children:(0,t.jsxs)(a.motion.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},exit:{opacity:0,y:-12},transition:{duration:.25},children:[0===e&&(0,t.jsx)(y,{form:o,updateForm:T,nameTaken:g,setNameTaken:f,urlTaken:h,setUrlTaken:b,checking:v,setChecking:k}),1===e&&(0,t.jsx)(j,{form:o,updateForm:T}),2===e&&(0,t.jsx)(N,{form:o,updateForm:T}),3===e&&(0,t.jsx)(w,{form:o,updateForm:T}),4===e&&(0,t.jsx)(A,{form:o,walletAddress:I}),5===e&&(0,t.jsx)(C,{form:o,walletAddress:I,signer:S,setResult:u,setError:m,onComplete:()=>s(6)}),6===e&&(0,t.jsx)(E,{result:d,error:p,form:o})]},e)}),e<5&&(0,t.jsxs)("div",{className:"flex items-center justify-between mt-8 pt-6 border-t border-border",children:[(0,t.jsx)("button",{onClick:()=>s(e=>Math.max(0,e-1)),disabled:0===e,className:"font-mono text-xs uppercase tracking-widest text-muted-foreground hover:text-foreground transition-colors disabled:opacity-30",children:"[BACK]"}),e<4?(0,t.jsx)("button",{onClick:()=>s(e=>e+1),disabled:!R(),className:"font-mono text-xs uppercase tracking-widest bg-foreground text-background px-6 py-2.5 hover:opacity-90 transition-opacity disabled:opacity-30",children:"NEXT →"}):(0,t.jsx)("button",{onClick:()=>s(5),disabled:!I,className:"font-mono text-xs uppercase tracking-widest bg-foreground text-background px-6 py-2.5 hover:opacity-90 transition-opacity disabled:opacity-30",children:"SIGN & DEPLOY"})]})]})]})})}function x({currentStep:e}){return(0,t.jsx)("div",{className:"flex items-center gap-1 md:gap-2 w-full max-w-2xl",children:u.slice(0,6).map(r=>(0,t.jsxs)("div",{className:"flex-1 flex flex-col items-center gap-2",children:[(0,t.jsx)("div",{className:(0,s.cn)("w-full h-1 rounded-full transition-colors duration-300",r.id<=e?"bg-foreground":"bg-border")}),(0,t.jsx)("span",{className:(0,s.cn)("font-mono text-[9px] tracking-widest uppercase transition-colors duration-300 hidden md:block",r.id===e?"text-foreground":"text-muted-foreground/50"),children:r.label})]},r.id))})}function g({children:e}){return(0,t.jsx)("label",{className:"font-mono text-[10px] uppercase tracking-widest text-muted-foreground mb-1.5 block",children:e})}function f({value:e,onChange:r,placeholder:a,required:n,error:i}){return(0,t.jsx)("input",{type:"text",value:e,onChange:e=>r(e.target.value),placeholder:a,required:n,className:(0,s.cn)("w-full bg-transparent border px-4 py-2.5 font-mono text-sm text-foreground placeholder:text-muted-foreground/40 focus:outline-none transition-colors",i?"border-error-red focus:border-error-red":"border-border focus:border-foreground/40")})}function h({value:e,onChange:r,placeholder:a,rows:n=3}){return(0,t.jsx)("textarea",{value:e,onChange:e=>r(e.target.value),placeholder:a,rows:n,className:"w-full bg-transparent border border-border px-4 py-2.5 font-mono text-sm text-foreground placeholder:text-muted-foreground/40 focus:outline-none focus:border-foreground/40 transition-colors resize-none no-scrollbar"})}function b({step:e,title:r}){return(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("span",{className:"font-mono text-[10px] text-muted-foreground/60 uppercase tracking-widest",children:e}),(0,t.jsx)("h2",{className:"font-mono text-2xl md:text-3xl font-bold tracking-tight uppercase text-foreground mt-1",children:r})]})}function y({form:e,updateForm:a,nameTaken:n,setNameTaken:s,urlTaken:i,setUrlTaken:o,checking:l,setChecking:c}){let u=(0,r.useRef)(null),p=(0,r.useRef)(null),m=(0,r.useCallback)(e=>{(u.current&&clearTimeout(u.current),e.trim())?(c(!0),u.current=setTimeout(async()=>{try{let t=await (0,d.apiCheckAgent)(e.trim(),void 0);s(t.nameTaken)}catch{}c(!1)},500)):s(!1)},[s,c]),x=(0,r.useCallback)(e=>{(p.current&&clearTimeout(p.current),e.trim())?(c(!0),p.current=setTimeout(async()=>{try{let t=await (0,d.apiCheckAgent)(void 0,e.trim());o(t.urlTaken)}catch{}c(!1)},500)):o(!1)},[o,c]);return(0,t.jsxs)("div",{className:"flex flex-col gap-5",children:[(0,t.jsx)(b,{step:"Step 01",title:"Basic Information"}),(0,t.jsxs)("div",{children:[(0,t.jsx)(g,{children:"Agent Name *"}),(0,t.jsx)(f,{value:e.name,onChange:e=>{a({name:e}),m(e)},placeholder:"My AI Agent",required:!0,error:n}),n&&(0,t.jsx)("span",{className:"font-mono text-[10px] uppercase tracking-wider text-error-red mt-1 block",children:"This name is already taken — an agent with this name is already live"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(g,{children:"Agent URL *"}),(0,t.jsx)(f,{value:e.url,onChange:e=>{a({url:e}),x(e)},placeholder:"https://my-agent.vercel.app",required:!0,error:i}),i&&(0,t.jsx)("span",{className:"font-mono text-[10px] uppercase tracking-wider text-error-red mt-1 block",children:"This URL is already registered — an agent at this URL is already live"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(g,{children:"Image URL (optional)"}),(0,t.jsx)(f,{value:e.imageUrl,onChange:e=>a({imageUrl:e}),placeholder:"https://..."})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(g,{children:"Description *"}),(0,t.jsx)(h,{value:e.description,onChange:e=>a({description:e}),placeholder:"What does your agent do?"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(g,{children:"Version"}),(0,t.jsx)(f,{value:e.version,onChange:e=>a({version:e}),placeholder:"1.0.0"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(g,{children:"Author"}),(0,t.jsx)(f,{value:e.author,onChange:e=>a({author:e}),placeholder:"Name"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(g,{children:"License"}),(0,t.jsx)(f,{value:e.license,onChange:e=>a({license:e}),placeholder:"MIT"})]})]})]})}function v({url:e,protocol:a}){let[n,i]=(0,r.useState)("idle"),[o,l]=(0,r.useState)(""),c=(0,r.useRef)(null);return((0,r.useEffect)(()=>{if(c.current&&clearTimeout(c.current),!e||!e.startsWith("http")){i("idle"),l("");return}return i("checking"),c.current=setTimeout(async()=>{try{let t="A2A"===a?{jsonrpc:"2.0",method:"agent/info",id:1}:{jsonrpc:"2.0",method:"tools/list",id:1},r=new AbortController,n=setTimeout(()=>r.abort(),5e3),s=await fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t),signal:r.signal});if(clearTimeout(n),s.ok)try{let e=await s.json();void 0!==e.result||e.jsonrpc||e.error?(i("ok"),l(`Responding to ${a} protocol`)):(i("partial"),l("Reachable but not responding to protocol"))}catch{i("partial"),l("Reachable but response is not JSON")}else i("partial"),l(`Reachable (HTTP ${s.status}) but not 2xx`)}catch{i("error"),l("Unreachable or CORS blocked")}},1500),()=>{c.current&&clearTimeout(c.current)}},[e,a]),"idle"===n)?null:(0,t.jsxs)("div",{className:"flex items-center gap-2 mt-1.5",children:[(0,t.jsx)("span",{className:(0,s.cn)("h-2 w-2 rounded-full shrink-0","ok"===n?"bg-system-green":"partial"===n?"bg-warning-amber":"checking"===n?"bg-muted-foreground/30 animate-pulse":"bg-error-red")}),(0,t.jsx)("span",{className:(0,s.cn)("font-mono text-[9px] uppercase tracking-wider","ok"===n?"text-system-green":"partial"===n?"text-warning-amber":"checking"===n?"text-muted-foreground/50":"text-error-red"),children:"checking"===n?"Checking...":o})]})}function j({form:e,updateForm:r}){return(0,t.jsxs)("div",{className:"flex flex-col gap-5",children:[(0,t.jsx)(b,{step:"Step 02",title:"Endpoints"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground -mt-3",children:"Optional protocol endpoints for your agent."}),(0,t.jsxs)("div",{children:[(0,t.jsx)(g,{children:"MCP Endpoint URL"}),(0,t.jsx)(f,{value:e.mcpEndpoint,onChange:e=>r({mcpEndpoint:e}),placeholder:"https://my-agent.com/mcp"}),(0,t.jsx)(v,{url:e.mcpEndpoint,protocol:"MCP"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(g,{children:"A2A Endpoint URL"}),(0,t.jsx)(f,{value:e.a2aEndpoint,onChange:e=>r({a2aEndpoint:e}),placeholder:"https://my-agent.com/a2a"}),(0,t.jsx)(v,{url:e.a2aEndpoint,protocol:"A2A"})]}),(0,t.jsx)("div",{className:"border border-border/40 px-3 py-2",children:(0,t.jsx)("span",{className:"font-mono text-[9px] text-muted-foreground/40 uppercase tracking-wider",children:"Validation is advisory only and does not block deployment"})})]})}function k({label:e,items:r,selected:a,onChange:n}){return(0,t.jsxs)("div",{children:[(0,t.jsx)(g,{children:e}),(0,t.jsx)("div",{className:"border border-border p-4 max-h-56 overflow-y-auto no-scrollbar flex flex-col gap-3",children:Object.entries(r).map(([e,r])=>(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-mono text-[9px] uppercase tracking-widest text-muted-foreground/60 mb-1 block",children:e}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:r.map(e=>(0,t.jsx)("button",{type:"button",onClick:()=>{n(a.includes(e)?a.filter(t=>t!==e):[...a,e])},className:(0,s.cn)("font-mono text-[10px] uppercase tracking-wider px-3 py-1.5 border transition-colors",a.includes(e)?"border-foreground bg-foreground text-background":"border-border text-muted-foreground hover:border-foreground/30 hover:text-foreground"),children:e},e))})]},e))})]})}function N({form:e,updateForm:r}){return(0,t.jsxs)("div",{className:"flex flex-col gap-5",children:[(0,t.jsx)(b,{step:"Step 03",title:"Skills & Domains"}),(0,t.jsx)(k,{label:"OASF Skills",items:c.OASF_SKILLS,selected:e.skills,onChange:e=>r({skills:e})}),(0,t.jsxs)("div",{children:[(0,t.jsx)(g,{children:"Custom Skills (comma-separated)"}),(0,t.jsx)(f,{value:e.customSkills,onChange:e=>r({customSkills:e}),placeholder:"Custom Skill 1, Custom Skill 2"})]}),(0,t.jsx)(k,{label:"Application Domains",items:c.APPLICATION_DOMAINS,selected:e.domains,onChange:e=>r({domains:e})}),(0,t.jsxs)("div",{children:[(0,t.jsx)(g,{children:"Custom Domains (comma-separated)"}),(0,t.jsx)(f,{value:e.customDomains,onChange:e=>r({customDomains:e}),placeholder:"Custom Domain 1, Custom Domain 2"})]})]})}function w({form:e,updateForm:r}){return(0,t.jsxs)("div",{className:"flex flex-col gap-5",children:[(0,t.jsx)(b,{step:"Step 04",title:"Advanced Configuration"}),(0,t.jsxs)("div",{children:[(0,t.jsx)(g,{children:"Metadata Storage"}),(0,t.jsx)("div",{className:"flex gap-3",children:["on-chain","ipfs"].map(a=>(0,t.jsx)("button",{type:"button",onClick:()=>r({metadataStorage:a}),className:(0,s.cn)("flex-1 font-mono text-xs uppercase tracking-wider px-4 py-3 border transition-colors text-center",e.metadataStorage===a?"border-foreground bg-foreground text-background":"border-border text-muted-foreground hover:border-foreground/30"),children:"on-chain"===a?"ON-CHAIN (PERMANENT)":"IPFS (UPDATEABLE)"},a))})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(g,{children:"Trust Models (optional)"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:c.TRUST_MODELS.map(a=>(0,t.jsx)("button",{type:"button",onClick:()=>{var t;return t=a.value,void r({trustModels:e.trustModels.includes(t)?e.trustModels.filter(e=>e!==t):[...e.trustModels,t]})},className:(0,s.cn)("font-mono text-[10px] uppercase tracking-wider px-3 py-1.5 border transition-colors",e.trustModels.includes(a.value)?"border-foreground bg-foreground text-background":"border-border text-muted-foreground hover:border-foreground/30"),children:a.name},a.value))})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(g,{children:"X402 Payment Support"}),(0,t.jsx)("button",{type:"button",onClick:()=>r({x402Payment:!e.x402Payment}),className:(0,s.cn)("font-mono text-xs uppercase tracking-wider px-4 py-2.5 border transition-colors",e.x402Payment?"border-foreground bg-foreground text-background":"border-border text-muted-foreground"),children:e.x402Payment?"ENABLED":"DISABLED"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(g,{children:"Activation Status"}),(0,t.jsx)("div",{className:"flex gap-3",children:["active","inactive"].map(a=>(0,t.jsx)("button",{type:"button",onClick:()=>r({activationStatus:a}),className:(0,s.cn)("flex-1 font-mono text-xs uppercase tracking-wider px-4 py-2.5 border transition-colors text-center",e.activationStatus===a?"border-foreground bg-foreground text-background":"border-border text-muted-foreground hover:border-foreground/30"),children:a},a))})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(g,{children:"Hire Price (USDC, 0 = free)"}),(0,t.jsx)(f,{value:e.hirePrice,onChange:e=>{(""===e||/^\d*\.?\d*$/.test(e))&&r({hirePrice:e})},placeholder:"0"})]})]})}function A({form:e,walletAddress:r}){let a=[...e.skills,...e.customSkills.split(",").map(e=>e.trim()).filter(Boolean)],n=[...e.domains,...e.customDomains.split(",").map(e=>e.trim()).filter(Boolean)],s=parseFloat(e.hirePrice||"0"),i=Object.values(c.CONTRACTS).map(e=>e.name).join(", ");return(0,t.jsxs)("div",{className:"flex flex-col gap-5",children:[(0,t.jsx)(b,{step:"Step 05",title:"Review & Deploy"}),r?(0,t.jsxs)("div",{className:"border border-system-green/40 bg-system-green/5 px-4 py-3 flex items-center gap-2",children:[(0,t.jsx)("span",{className:"h-2 w-2 rounded-full bg-system-green"}),(0,t.jsxs)("span",{className:"font-mono text-xs uppercase tracking-wider text-system-green",children:["Owner: ",r]})]}):(0,t.jsx)("div",{className:"border border-warning-amber/40 bg-warning-amber/5 px-4 py-3",children:(0,t.jsx)("span",{className:"font-mono text-xs uppercase tracking-wider text-warning-amber",children:"Connect wallet from navbar to proceed"})}),(0,t.jsxs)("div",{className:"border border-border p-5 relative",children:[(0,t.jsx)("div",{className:"absolute top-2 left-2 w-3 h-3 border-t border-l border-foreground/20"}),(0,t.jsx)("div",{className:"absolute top-2 right-2 w-3 h-3 border-t border-r border-foreground/20"}),(0,t.jsx)("div",{className:"absolute bottom-2 left-2 w-3 h-3 border-b border-l border-foreground/20"}),(0,t.jsx)("div",{className:"absolute bottom-2 right-2 w-3 h-3 border-b border-r border-foreground/20"}),(0,t.jsxs)("div",{className:"space-y-2 text-sm font-mono",children:[(0,t.jsx)(I,{label:"NAME",value:e.name}),(0,t.jsx)(I,{label:"URL",value:e.url}),e.imageUrl&&(0,t.jsx)(I,{label:"IMAGE",value:e.imageUrl}),(0,t.jsx)(I,{label:"DESCRIPTION",value:e.description}),(0,t.jsx)(I,{label:"VERSION",value:e.version}),e.author&&(0,t.jsx)(I,{label:"AUTHOR",value:e.author}),(0,t.jsx)(I,{label:"LICENSE",value:e.license}),e.mcpEndpoint&&(0,t.jsx)(I,{label:"MCP",value:e.mcpEndpoint}),e.a2aEndpoint&&(0,t.jsx)(I,{label:"A2A",value:e.a2aEndpoint}),a.length>0&&(0,t.jsx)(I,{label:"SKILLS",value:a.join(", ")}),n.length>0&&(0,t.jsx)(I,{label:"DOMAINS",value:n.join(", ")}),(0,t.jsx)(I,{label:"METADATA",value:e.metadataStorage.toUpperCase()}),e.trustModels.length>0&&(0,t.jsx)(I,{label:"TRUST",value:e.trustModels.join(", ")}),(0,t.jsx)(I,{label:"X402",value:e.x402Payment?"ENABLED":"DISABLED"}),(0,t.jsx)(I,{label:"STATUS",value:e.activationStatus.toUpperCase()}),(0,t.jsx)(I,{label:"HIRE PRICE",value:s>0?`$${s.toFixed(2)} USDC`:"FREE"})]})]}),(0,t.jsxs)("div",{className:"border border-border bg-muted/5 p-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"font-mono text-xs uppercase tracking-widest text-muted-foreground",children:"Cost"}),(0,t.jsx)("span",{className:"font-mono text-lg font-bold text-system-green",children:"FREE"})]}),(0,t.jsxs)("p",{className:"font-mono text-[10px] text-muted-foreground/60 mt-2 uppercase tracking-wider",children:["You will sign a message to prove ownership. All gas fees are covered by Facinet facilitators. Agent will be registered on ",p," networks: ",i,"."]})]})]})}function I({label:e,value:r}){return(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("span",{className:"text-[10px] uppercase tracking-widest text-muted-foreground/60 w-24 shrink-0 pt-0.5",children:e}),(0,t.jsx)("span",{className:"text-xs text-foreground break-all",children:r})]})}async function S(e,t){let r=new o.ethers.JsonRpcProvider(t),a=await r.waitForTransaction(e,1,6e4);if(!a)return null;let n=new o.ethers.Interface(c.IDENTITY_REGISTRY_ABI);for(let e of a.logs)try{let t=n.parseLog({topics:e.topics,data:e.data});if(t?.name==="Registered")return t.args.agentId.toString()}catch{}return null}function C({form:e,walletAddress:a,signer:n,setResult:i,setError:o,onComplete:u}){let[p,m]=(0,r.useState)([]),x=(0,r.useRef)(!1),g=(0,r.useCallback)((e,t="running")=>{m(r=>[...r,{message:e,status:t}])},[]),f=(0,r.useCallback)((e,t)=>{m(r=>{let a=[...r];return a.length>0&&(a[a.length-1]={...a[a.length-1],status:e,...t?{message:t}:{}}),a})},[]);async function h(){let t={agentWalletAddress:null,circleWalletId:null,networkResults:[]};try{if(!n)throw Error("Wallet not connected");g("Requesting ownership signature...");let r=Math.floor(Date.now()/1e3),s=`I am registering agent "${e.name}" at ${e.url} as owner ${a} on 8004agent.network

Timestamp: ${r}`;await n.signMessage(s),f("done","Ownership verified!"),g("Creating Circle Agent Wallet...");try{let e=await (0,d.apiCreateCircleWallet)("pending");t.agentWalletAddress=e.address||null,t.circleWalletId=e.walletId||null,f("done",`Wallet: ${e.address?.slice(0,10)}...`)}catch(t){let e=t instanceof Error?t.message:String(t);f("error",`Wallet skipped: ${e}`)}let o=[...e.skills,...e.customSkills.split(",").map(e=>e.trim()).filter(Boolean)],p=[...e.domains,...e.customDomains.split(",").map(e=>e.trim()).filter(Boolean)];for(let r of Object.keys(c.CONTRACTS)){let n=c.CONTRACTS[r],s={network:n.name,networkKey:r,agentId:null,registrationTx:null,transferTx:null,blockExplorer:n.blockExplorer};try{let i={network:n.facinetNetwork,chainId:n.chainId};g(`Selecting facilitator on ${n.name}...`);let u=await (0,l.selectFacilitator)(i);f("done",`${n.name}: Using ${u.name}`),g(`Registering on ${n.name} via Facinet...`);let m=await (0,l.facinetExecuteContract)(i,{contractAddress:n.identityRegistry,functionName:"register",functionArgs:[e.url],abi:c.IDENTITY_REGISTRY_ABI},u);s.registrationTx=m.txHash,f("done",`${n.name}: Tx ${m.txHash.slice(0,14)}...`),g(`Parsing agent ID on ${n.name}...`);try{let e=await S(m.txHash,n.rpc);s.agentId=e,e?f("done",`${n.name}: Agent #${e}`):f("done",`${n.name}: Registered (ID pending)`)}catch{f("done",`${n.name}: Registered (ID will resolve)`)}if(s.agentId){g(`Transferring NFT #${s.agentId} to owner on ${n.name}...`);try{let e=await (0,l.facinetExecuteContract)(i,{contractAddress:n.identityRegistry,functionName:"transferFrom",functionArgs:[u.wallet,a,s.agentId],abi:c.IDENTITY_REGISTRY_ABI},u);s.transferTx=e.txHash,f("done",`NFT transferred on ${n.name}`)}catch(t){let e=t instanceof Error?t.message:String(t);f("error",`NFT transfer pending: ${e}`)}}try{await (0,d.apiStoreAgent)({agentId:s.agentId||"pending",name:e.name,url:e.url,imageUrl:e.imageUrl||"",description:e.description,version:e.version,author:e.author,license:e.license,mcpEndpoint:e.mcpEndpoint||"",a2aEndpoint:e.a2aEndpoint||"",skills:o,domains:p,metadataStorage:e.metadataStorage,trustModels:e.trustModels,x402Payment:e.x402Payment,status:e.activationStatus,hirePrice:e.hirePrice,network:r,ownerAddress:a,registrationTx:s.registrationTx||"",registeredAt:new Date().toISOString(),agentWalletAddress:t.agentWalletAddress||"",circleWalletId:t.circleWalletId||""})}catch{}}catch(t){let e=t instanceof Error?t.message:String(t);f("error",`${n.name} failed: ${e}`)}t.networkResults.push(s)}g("Registration complete!"),f("done"),i(t),setTimeout(()=>u(),1500)}catch(r){let e=r instanceof Error?r.message:String(r);f("error",e),o(e),i(t),setTimeout(()=>u(),2e3)}}return(0,r.useEffect)(()=>{x.current||(x.current=!0,h())},[]),(0,t.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,t.jsx)(b,{step:"Step 06",title:"Deploying..."}),(0,t.jsxs)("div",{className:"border border-border p-5 relative min-h-[300px]",children:[(0,t.jsx)("div",{className:"absolute top-2 left-2 w-3 h-3 border-t border-l border-foreground/20"}),(0,t.jsx)("div",{className:"absolute top-2 right-2 w-3 h-3 border-t border-r border-foreground/20"}),(0,t.jsx)("div",{className:"absolute bottom-2 left-2 w-3 h-3 border-b border-l border-foreground/20"}),(0,t.jsx)("div",{className:"absolute bottom-2 right-2 w-3 h-3 border-b border-r border-foreground/20"}),(0,t.jsxs)("div",{className:"space-y-2 font-mono text-xs",children:[p.map((e,r)=>(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)("span",{className:(0,s.cn)("shrink-0 mt-0.5","running"===e.status&&"text-info-blue animate-pulse","done"===e.status&&"text-system-green","error"===e.status&&"text-error-red","pending"===e.status&&"text-muted-foreground/40"),children:"running"===e.status?">":"done"===e.status?"+":"error"===e.status?"x":"-"}),(0,t.jsx)("span",{className:(0,s.cn)("break-all","error"===e.status&&"text-error-red","done"===e.status&&"text-foreground/80","running"===e.status&&"text-foreground","pending"===e.status&&"text-muted-foreground/40"),children:e.message})]},r)),p.length>0&&"running"===p[p.length-1].status&&(0,t.jsx)("span",{className:"text-muted-foreground/40 animate-pulse",children:"_"})]})]})]})}function E({result:e,error:a,form:n}){let{signedFetch:o}=(0,i.useWallet)(),[l,c]=(0,r.useState)(!1),[u,p]=(0,r.useState)(null),[m,x]=(0,r.useState)(null);if(!e)return null;let g=e.networkResults.some(e=>null!==e.registrationTx),f=e.networkResults.find(e=>null!==e.registrationTx);async function h(){if(f?.agentId){c(!0),x(null);try{let e=await (0,d.apiVerifyAgent)(f.network,f.agentId,o);p(e)}catch(e){x(e instanceof Error?e.message:String(e))}finally{c(!1)}}}return(0,t.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("h2",{className:"font-mono text-3xl md:text-4xl font-bold tracking-tight uppercase text-foreground",children:g?"DEPLOYMENT COMPLETE":"DEPLOYMENT FAILED"}),a&&!g&&(0,t.jsx)("p",{className:"font-mono text-xs text-error-red mt-2 uppercase tracking-wider",children:a})]}),g&&(0,t.jsxs)("div",{className:"border border-border p-5 relative",children:[(0,t.jsx)("div",{className:"absolute top-2 left-2 w-3 h-3 border-t border-l border-foreground/20"}),(0,t.jsx)("div",{className:"absolute top-2 right-2 w-3 h-3 border-t border-r border-foreground/20"}),(0,t.jsx)("div",{className:"absolute bottom-2 left-2 w-3 h-3 border-b border-l border-foreground/20"}),(0,t.jsx)("div",{className:"absolute bottom-2 right-2 w-3 h-3 border-b border-r border-foreground/20"}),(0,t.jsxs)("div",{className:"space-y-2 font-mono text-sm",children:[(0,t.jsx)(I,{label:"NAME",value:n.name}),(0,t.jsx)(I,{label:"URL",value:n.url}),e.agentWalletAddress&&(0,t.jsx)(I,{label:"WALLET",value:e.agentWalletAddress}),e.circleWalletId&&(0,t.jsx)(I,{label:"CIRCLE ID",value:e.circleWalletId})]})]}),(0,t.jsx)("div",{className:"space-y-3",children:e.networkResults.map((e,r)=>(0,t.jsxs)("div",{className:"border border-border p-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,t.jsx)("span",{className:(0,s.cn)("h-2 w-2 rounded-full",e.registrationTx?"bg-system-green":"bg-error-red")}),(0,t.jsx)("span",{className:"font-mono text-xs font-bold uppercase tracking-widest text-foreground",children:e.network})]}),(0,t.jsxs)("div",{className:"space-y-1 font-mono text-xs",children:[(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("span",{className:"text-muted-foreground/60 w-20 shrink-0",children:"AGENT ID"}),(0,t.jsx)("span",{className:"text-foreground",children:e.agentId||"Pending"})]}),e.registrationTx&&(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("span",{className:"text-muted-foreground/60 w-20 shrink-0",children:"REG TX"}),(0,t.jsx)("a",{href:`${e.blockExplorer}/tx/${e.registrationTx}`,target:"_blank",rel:"noopener noreferrer",className:"text-info-blue hover:underline break-all",children:e.registrationTx})]}),e.transferTx&&(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("span",{className:"text-muted-foreground/60 w-20 shrink-0",children:"XFER TX"}),(0,t.jsx)("a",{href:`${e.blockExplorer}/tx/${e.transferTx}`,target:"_blank",rel:"noopener noreferrer",className:"text-info-blue hover:underline break-all",children:e.transferTx})]})]})]},r))}),e.agentWalletAddress&&(0,t.jsxs)("div",{className:"border border-border bg-muted/5 p-4",children:[(0,t.jsx)("span",{className:"font-mono text-[10px] uppercase tracking-widest text-muted-foreground/60 block mb-2",children:"Agent Wallet (Circle Managed)"}),(0,t.jsx)("p",{className:"font-mono text-xs text-muted-foreground",children:"This wallet works on all EVM networks. Private key is securely managed by Circle. Hire payments will be sent to this address."})]}),u&&(0,t.jsx)("div",{className:"border border-border p-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsxs)("span",{className:(0,s.cn)("font-mono text-sm font-bold px-3 py-1 border",{MINIMAL:"text-green-500 border-green-500/60",LOW:"text-cyan-500 border-cyan-500/60",MEDIUM:"text-yellow-500 border-yellow-500/60",HIGH:"text-red-400 border-red-400/60",CRITICAL:"text-red-600 border-red-600/60"}[u.riskTier]||"text-muted-foreground border-border"),children:[u.overallScore>=80?"✓ VERIFIED":u.overallScore>=60?"VERIFIED":u.overallScore>=40?"PARTIAL":u.overallScore>=20?"LOW":"RISK"," ",u.overallScore]}),(0,t.jsxs)("span",{className:"font-mono text-[10px] uppercase tracking-widest text-muted-foreground/60",children:["ERC-8126 Verification — ",u.riskTier," Risk"]})]})}),m&&(0,t.jsx)("div",{className:"border border-error-red/40 bg-error-red/5 px-4 py-2",children:(0,t.jsx)("span",{className:"font-mono text-xs text-error-red",children:m})}),(0,t.jsxs)("div",{className:"flex justify-center gap-4 pt-4",children:[g&&f?.agentId&&!u&&(0,t.jsx)("button",{onClick:h,disabled:l,className:"font-mono text-xs uppercase tracking-widest border border-system-green/40 text-system-green px-8 py-3 hover:bg-system-green/5 transition-colors disabled:opacity-40",children:l?"VERIFYING...":"VERIFY THIS AGENT"}),(0,t.jsx)("button",{onClick:()=>window.location.reload(),className:"font-mono text-xs uppercase tracking-widest bg-foreground text-background px-8 py-3 hover:opacity-90 transition-opacity",children:"DEPLOY ANOTHER AGENT"})]})]})}e.s(["default",()=>m])}]);