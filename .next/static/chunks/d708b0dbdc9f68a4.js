(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,54858,4319,e=>{"use strict";let t=e.i(47167).default.env.NEXT_PUBLIC_API_BASE||"https://agent-cli-backend.onrender.com";async function n(e,n,a){let r=a||fetch,s=await r(`${t}${e}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}),o=await s.json().catch(()=>({}));if(!s.ok)throw Error(o.error||s.statusText||`HTTP ${s.status}`);return o}async function a(e,n){let a=n||fetch,r=await a(`${t}${e}`),s=await r.json().catch(()=>({}));if(!r.ok)throw Error(s.error||r.statusText||`HTTP ${r.status}`);return s}async function r(e,t){let n=new URLSearchParams;return e&&n.set("name",e),t&&n.set("url",t),a(`/api/agents/check?${n.toString()}`)}async function s(e){return n("/api/circle/create-wallet",{agentId:e})}async function o(){return a("/api/agents")}async function i(e,t){return a(`/api/agents/${e}/${t}`)}async function d(e){let t=e?`?status=${e}`:"";return a(`/api/arena/events${t}`)}async function c(e){return a(`/api/arena/events/${e}`)}async function l(e,t){return n("/api/arena/events",e,t)}async function m(e,t,a){return n(`/api/arena/events/${e}/register`,t,a)}async function x(e,t,a){return n(`/api/arena/events/${e}/status`,t,a)}async function u(e,t,a){return n(`/api/arena/events/${e}/vote`,t,a)}async function p(e,t,a){return n(`/api/arena/events/${e}/judge`,t,a)}async function g(e,t,a){return n(`/api/arena/events/${e}/distribute`,t,a)}async function f(e){return a(`/api/arena/admin-check?address=${e}`)}async function b(){return a("/api/arena/leaderboard")}async function h(e,t,a){return n(`/api/verify/${e}/${t}`,{},a)}async function y(e,t){return a(`/api/verify/${e}/${t}`)}async function j(e,t){return n("/api/agents",e,t)}async function N(e,t){return a(`/api/hire/plans/${e}/${t}`)}async function v(e){return n("/api/bridge/initiate",e)}async function w(e){return n("/api/hire",e)}async function k(e){return a(`/api/hire/my/${e}`)}async function A(e){return a(`/api/hire/status/${e}`)}async function I(e,t,n){return a(`/api/hire/active/${e}/${t}/${n}`)}async function C(e,t,a){return n("/api/workspace/call",{hireId:e,message:t,files:a})}async function S(e){return a(`/api/workspace/history/${e}`)}async function $(e){return n(`/api/workspace/clear/${e}`,{})}async function E(e,t){return n("/api/circle/withdraw",e,t)}async function T(e){return a(`/api/circle/withdraw-status/${e}`)}e.s(["API_BASE",0,t,"APPLICATION_DOMAINS",0,{Technology:["Technology","Software Engineering","DevOps","Data Science","Blockchain","DeFi","Cybersecurity","Cloud Computing"],"Finance & Business":["Finance & Business","Finance","Banking"],Healthcare:["Healthcare","Telemedicine","Healthcare Informatics"],Education:["Education","E-Learning"]},"CHAIN_USDC",0,{sepolia:"0x1c7D4B196Cb0C7B01d743Fbc6116a902379C7238",baseSepolia:"0x036CbD53842c5426634e7929541eC2318f3dCF7e",fuji:"0x5425890298aed601595a70AB815c96711a31Bc65",arbitrumSepolia:"0x75faf114eafb1BDbe2F0316DF893fd58CE46AA4d",monadTestnet:"0x534b2f3A21130d7a60830c2Df862319e593943A3"},"CONTRACTS",0,{sepolia:{name:"Ethereum Sepolia",rpc:"https://ethereum-sepolia-rpc.publicnode.com",chainId:0xaa36a7,chainIdHex:"0xaa36a7",blockExplorer:"https://sepolia.etherscan.io",identityRegistry:"0x8004A818BFB912233c491871b3d84c89A494BD9e",reputationRegistry:"0x8004B663056A597Dffe9eCcC1965A193B7388713",verificationRegistry:"0xA4Bc25c1715c073202783699ea934b169c19b3C2",facinetNetwork:"ethereum-sepolia"},baseSepolia:{name:"Base Sepolia",rpc:"https://sepolia.base.org",chainId:84532,chainIdHex:"0x14a34",blockExplorer:"https://sepolia.basescan.org",identityRegistry:"0x8004A818BFB912233c491871b3d84c89A494BD9e",reputationRegistry:"0x8004B663056A597Dffe9eCcC1965A193B7388713",verificationRegistry:"0x817FCea8d1AcdABe280A39F31feAaf635D740491",facinetNetwork:"base-sepolia"},fuji:{name:"Avalanche Fuji",rpc:"https://api.avax-test.network/ext/bc/C/rpc",chainId:43113,chainIdHex:"0xa869",blockExplorer:"https://testnet.snowtrace.io",identityRegistry:"0x8004A818BFB912233c491871b3d84c89A494BD9e",reputationRegistry:"0x8004B663056A597Dffe9eCcC1965A193B7388713",verificationRegistry:"0x82b50Dd0729D1b109522f6b4D9B13Aa438aF63D0",facinetNetwork:"avalanche-fuji"},arbitrumSepolia:{name:"Arbitrum Sepolia",rpc:"https://sepolia-rollup.arbitrum.io/rpc",chainId:421614,chainIdHex:"0x66eee",blockExplorer:"https://sepolia.arbiscan.io",identityRegistry:"0x8004A818BFB912233c491871b3d84c89A494BD9e",reputationRegistry:"0x8004B663056A597Dffe9eCcC1965A193B7388713",verificationRegistry:"0x388166fb3B38aFa179B76444d742A329b78B4FF4",facinetNetwork:"arbitrum-sepolia"},monadTestnet:{name:"Monad Testnet",rpc:"https://testnet-rpc.monad.xyz",chainId:10143,chainIdHex:"0x279f",blockExplorer:"https://testnet.monadexplorer.com",identityRegistry:"0x8004A818BFB912233c491871b3d84c89A494BD9e",reputationRegistry:"0x8004B663056A597Dffe9eCcC1965A193B7388713",verificationRegistry:"0x6166809DCFaD786C0f18d8d97be3729b83cb2775",facinetNetwork:"monad-testnet"}},"DEFAULT_FORM_DATA",0,{name:"",url:"",imageUrl:"",description:"",version:"1.0.0",author:"",license:"MIT",mcpEndpoint:"",a2aEndpoint:"",skills:[],customSkills:"",domains:[],customDomains:"",metadataStorage:"on-chain",trustModels:[],x402Payment:!0,activationStatus:"active",hirePrice:"0"},"IDENTITY_REGISTRY_ABI",0,[{inputs:[{name:"agentURI",type:"string"}],name:"register",outputs:[{name:"agentId",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"from",type:"address"},{name:"to",type:"address"},{name:"tokenId",type:"uint256"}],name:"transferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"tokenId",type:"uint256"},{name:"uri",type:"string"}],name:"setAgentURI",outputs:[],stateMutability:"nonpayable",type:"function"},{anonymous:!1,inputs:[{indexed:!0,name:"agentId",type:"uint256"},{indexed:!1,name:"agentURI",type:"string"},{indexed:!0,name:"owner",type:"address"}],name:"Registered",type:"event"}],"OASF_SKILLS",0,{"Natural Language Processing":["Natural Language Processing","Summarization","Question Answering","Sentiment Analysis","Translation","Named Entity Recognition","Storytelling"],"Images & Computer Vision":["Computer Vision","Image Generation","Image Classification","Object Detection"],"Multi Modal":["Speech Recognition","Text-to-Speech","Text to Image","Image to Text"],"Analytical Skills":["Code Generation","Code Optimization","Math Problem Solving"],"Data Engineering":["Data Analysis","Database Query","API Integration"]},"PAYMENT_CHAINS",0,[{key:"fuji",label:"Avalanche Fuji (Direct)",cctp:!1},{key:"sepolia",label:"Ethereum Sepolia",cctp:!0},{key:"baseSepolia",label:"Base Sepolia",cctp:!0},{key:"arbitrumSepolia",label:"Arbitrum Sepolia",cctp:!0}],"REPUTATION_REGISTRY_ABI",0,[{inputs:[{name:"agentId",type:"uint256"},{name:"value",type:"int128"},{name:"valueDecimals",type:"uint8"},{name:"tag1",type:"string"},{name:"tag2",type:"string"},{name:"endpoint",type:"string"},{name:"feedbackURI",type:"string"},{name:"feedbackHash",type:"bytes32"}],name:"giveFeedback",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"agentId",type:"uint256"}],name:"getClients",outputs:[{name:"",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[{name:"agentId",type:"uint256"},{name:"clientAddress",type:"address"}],name:"getLastIndex",outputs:[{name:"",type:"uint64"}],stateMutability:"view",type:"function"},{inputs:[{name:"agentId",type:"uint256"},{name:"clientAddress",type:"address"},{name:"feedbackIndex",type:"uint64"}],name:"readFeedback",outputs:[{name:"value",type:"int128"},{name:"valueDecimals",type:"uint8"},{name:"tag1",type:"string"},{name:"tag2",type:"string"},{name:"isRevoked",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{name:"agentId",type:"uint256"},{name:"clientAddresses",type:"address[]"},{name:"tag1",type:"string"},{name:"tag2",type:"string"}],name:"getSummary",outputs:[{name:"count",type:"uint64"},{name:"summaryValue",type:"int128"},{name:"summaryValueDecimals",type:"uint8"}],stateMutability:"view",type:"function"},{anonymous:!1,inputs:[{indexed:!0,name:"agentId",type:"uint256"},{indexed:!0,name:"clientAddress",type:"address"},{indexed:!1,name:"feedbackIndex",type:"uint64"},{indexed:!1,name:"value",type:"int128"},{indexed:!1,name:"valueDecimals",type:"uint8"},{indexed:!0,name:"indexedTag1",type:"string"},{indexed:!1,name:"tag1",type:"string"},{indexed:!1,name:"tag2",type:"string"},{indexed:!1,name:"endpoint",type:"string"},{indexed:!1,name:"feedbackURI",type:"string"},{indexed:!1,name:"feedbackHash",type:"bytes32"}],name:"NewFeedback",type:"event"}],"TRUST_MODELS",0,[{name:"Reputation-Based",value:"reputation"},{name:"Crypto-Economic (Staking)",value:"crypto-economic"},{name:"TEE Attestation",value:"tee-attestation"}],"USDC_ABI",0,[{inputs:[{name:"to",type:"address"},{name:"amount",type:"uint256"}],name:"transfer",outputs:[{name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"account",type:"address"}],name:"balanceOf",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Transfer",type:"event"}],"USDC_ADDRESS",0,"0x5425890298aed601595a70AB815c96711a31Bc65","USDC_DECIMALS",0,6],4319),e.s(["apiBridgeInitiate",()=>v,"apiCheckActiveHire",()=>I,"apiCheckAdmin",()=>f,"apiCheckAgent",()=>r,"apiCreateCircleWallet",()=>s,"apiCreateEvent",()=>l,"apiDistributePrizes",()=>g,"apiGetAgent",()=>i,"apiGetEvent",()=>c,"apiGetHireStatus",()=>A,"apiGetLeaderboard",()=>b,"apiGetMyHires",()=>k,"apiGetPlans",()=>N,"apiGetVerification",()=>y,"apiJudgeEvent",()=>p,"apiListAgents",()=>o,"apiListEvents",()=>d,"apiRecordHire",()=>w,"apiRegisterForEvent",()=>m,"apiStoreAgent",()=>j,"apiUpdateEventStatus",()=>x,"apiVerifyAgent",()=>h,"apiVoteEvent",()=>u,"apiWithdraw",()=>E,"apiWithdrawStatus",()=>T,"apiWorkspaceCall",()=>C,"apiWorkspaceClear",()=>$,"apiWorkspaceHistory",()=>S],54858)},78928,e=>{"use strict";var t=e.i(43476),n=e.i(71645),a=e.i(46932),r=e.i(88653),s=e.i(47163),o=e.i(4319),i=e.i(54858),d=e.i(18566),c=e.i(54238);async function l(e){if(!e||""===e)return 0;try{let t=new c.ethers.JsonRpcProvider(o.CONTRACTS.fuji.rpc),n=new c.ethers.Contract(o.USDC_ADDRESS,o.USDC_ABI,t),a=await n.balanceOf(e);return Number(a)/1e6}catch{return 0}}async function m(e,t){let n=o.CONTRACTS[e];if(!n||!t||"pending"===t)return{count:0,avg:0};try{let e=new c.ethers.JsonRpcProvider(n.rpc),a=new c.ethers.Contract(n.reputationRegistry,o.REPUTATION_REGISTRY_ABI,e),r=await a.getClients(t);if(0===r.length)return{count:0,avg:0};let[s,i,d]=await a.getSummary(t,r,"",""),l=Number(s),m=l>0?Number(i)/Math.pow(10,Number(d)):0;return{count:l,avg:m}}catch{return{count:0,avg:0}}}async function x(e,t){let n=o.CONTRACTS[e];if(!n||!t||"pending"===t)return[];try{let e=new c.ethers.JsonRpcProvider(n.rpc),a=new c.ethers.Contract(n.reputationRegistry,o.REPUTATION_REGISTRY_ABI,e),r=await a.getClients(t),s=[];for(let e of r){let n=Number(await a.getLastIndex(t,e));for(let r=1;r<=n;r++)try{let[n,,o,i,d]=await a.readFeedback(t,e,r);d||s.push({clientAddress:e,index:r,value:Number(n),tag1:o,tag2:i})}catch{}}return s}catch{return[]}}var u=e.i(37799);function p({opacity:e=20}){let n=`border-foreground/${e}`;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:`absolute top-2 left-2 w-3 h-3 border-t border-l ${n}`}),(0,t.jsx)("div",{className:`absolute top-2 right-2 w-3 h-3 border-t border-r ${n}`}),(0,t.jsx)("div",{className:`absolute bottom-2 left-2 w-3 h-3 border-b border-l ${n}`}),(0,t.jsx)("div",{className:`absolute bottom-2 right-2 w-3 h-3 border-b border-r ${n}`})]})}function g(e){return`${e.slice(0,6)}...${e.slice(-4)}`}function f(e){return e>=80?`\u2713 VERIFIED ${e}`:e>=60?`VERIFIED ${e}`:e>=40?`PARTIAL ${e}`:e>=20?`LOW ${e}`:`RISK ${e}`}let b={MINIMAL:"border-green-500/60 text-green-500 bg-green-500/5",LOW:"border-cyan-500/60 text-cyan-500 bg-cyan-500/5",MEDIUM:"border-yellow-500/60 text-yellow-500 bg-yellow-500/5",HIGH:"border-red-400/60 text-red-400 bg-red-400/5",CRITICAL:"border-red-600/60 text-red-600 bg-red-600/10"},h={registration:"text-system-green border-system-green/40",voting:"text-info-blue border-info-blue/40",battle:"text-warning-amber border-warning-amber/40",judging:"text-purple-400 border-purple-400/40",completed:"text-muted-foreground border-border"};function y(){let{walletAddress:e,isConnecting:r,connect:d,signedFetch:c}=(0,u.useWallet)(),[f,b]=(0,n.useState)([]),[y,C]=(0,n.useState)([]),[S,$]=(0,n.useState)([]),[E,T]=(0,n.useState)([]),[D,R]=(0,n.useState)({}),[F,B]=(0,n.useState)({}),[L,P]=(0,n.useState)({}),[M,O]=(0,n.useState)({}),[U,W]=(0,n.useState)(null),[H,_]=(0,n.useState)(!0),[G,V]=(0,n.useState)(!0),[K,Y]=(0,n.useState)(!0),[z,J]=(0,n.useState)(!1);(0,n.useEffect)(()=>{if(!e)return;let t=e.toLowerCase();(0,i.apiListAgents)().then(e=>{b(function(e){let t=new Map;for(let n of e){let e=n.name.toLowerCase();t.has(e)||t.set(e,n)}return Array.from(t.values())}((e.agents||[]).filter(e=>e.ownerAddress?.toLowerCase()===t)))}).catch(()=>{}).finally(()=>_(!1)),Promise.all([(0,i.apiListEvents)().catch(()=>({events:[]})),(0,i.apiGetLeaderboard)().catch(()=>({leaderboard:[]}))]).then(([e,t])=>{C(e.events||[]),$(t.leaderboard||[])}).finally(()=>V(!1)),(0,i.apiGetMyHires)(e).then(e=>T(e.hires||[])).catch(()=>{}).finally(()=>Y(!1))},[e]),(0,n.useEffect)(()=>{0===f.length||(J(!0),(async()=>{let e={},t={},n={};await Promise.allSettled(f.map(async a=>{let r=`${a.network}:${a.agentId}`;a.agentWalletAddress&&(e[r]=await l(a.agentWalletAddress)),t[r]=await m(a.network,a.agentId);try{let e=await (0,i.apiGetVerification)(a.network,a.agentId);n[r]=e&&e.riskTier?e:null}catch{n[r]=null}})),R(e),B(t),P(n),J(!1)})())},[f]);let X=(0,n.useCallback)(async e=>{let t=`${e.network}:${e.agentId}`;if(U===t)return void W(null);if(W(t),!M[t]){let n=await x(e.network,e.agentId);O(e=>({...e,[t]:n}))}},[U,M]),q=Object.values(D).reduce((e,t)=>e+t,0),Q=Object.values(F).filter(e=>e.count>0),Z=Q.length>0?Q.reduce((e,t)=>e+t.avg,0)/Q.length:0,ee=new Set(f.map(e=>`${e.network}:${e.agentId}`)),et=S.filter(e=>ee.has(`${e.network}:${e.agentId}`));et.reduce((e,t)=>e+t.wins,0),et.reduce((e,t)=>e+t.battles,0);let en=y.filter(t=>t.participants?.some(t=>t.ownerAddress?.toLowerCase()===e?.toLowerCase())),ea=en.reduce((t,n)=>n.results?.distributions?t+n.results.distributions.filter(t=>t.address?.toLowerCase()===e?.toLowerCase()&&"success"===t.status).reduce((e,t)=>e+(t.amount||0),0):t,0);return e?(0,t.jsx)("div",{className:"h-full w-full relative flex flex-col overflow-y-auto no-scrollbar",children:(0,t.jsx)("div",{className:"flex-1 flex flex-col items-center pt-24 pb-16 px-4 md:px-8",children:(0,t.jsxs)("div",{className:"w-full max-w-6xl",children:[(0,t.jsxs)(a.motion.div,{initial:{opacity:0},animate:{opacity:1},className:"mb-8",children:[(0,t.jsx)("h1",{className:"font-mono text-3xl md:text-4xl font-bold tracking-tight uppercase text-foreground",children:"DASHBOARD"}),(0,t.jsx)("p",{className:"font-mono text-[10px] uppercase tracking-widest text-muted-foreground/60 mt-2",children:g(e)})]}),(0,t.jsxs)(a.motion.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{delay:.05},children:[(0,t.jsx)(j,{label:"Portfolio Overview"}),(0,t.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-10",children:[(0,t.jsx)(N,{label:"My Agents",value:H?"...":String(f.length),loading:H}),(0,t.jsx)(N,{label:"Total Earned",value:z?"...":`$${q.toFixed(2)}`,subtext:"USDC",color:"text-system-green",loading:z}),(0,t.jsx)(N,{label:"Avg Reputation",value:z?"...":Z>0?`${Z.toFixed(1)}`:"N/A",subtext:Z>0?"/ 5.0":"",loading:z}),(0,t.jsx)(N,{label:"Verified",value:z?"...":`${Object.values(L).filter(Boolean).length} / ${f.length}`,subtext:"agents verified",loading:z})]})]}),(0,t.jsxs)(a.motion.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{delay:.1},children:[(0,t.jsx)(j,{label:"My Agents",count:f.length}),H?(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-10",children:Array.from({length:3}).map((e,n)=>(0,t.jsx)(I,{},n))}):0===f.length?(0,t.jsx)("div",{className:"border border-border p-8 text-center mb-10",children:(0,t.jsx)("span",{className:"font-mono text-xs uppercase tracking-widest text-muted-foreground/60",children:"No agents registered yet. Deploy your first agent to get started."})}):(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-10",children:f.map(e=>{let n=`${e.network}:${e.agentId}`;return(0,t.jsx)(w,{agent:e,balance:D[n],reputation:F[n],verification:L[n],feedbackList:M[n],isExpanded:U===n,loadingBalance:z,onToggle:()=>X(e),onVerified:e=>P(t=>({...t,[n]:e})),signedFetch:c},n)})})]}),(0,t.jsxs)(a.motion.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{delay:.15},children:[(0,t.jsx)(j,{label:"Earnings & Payments"}),(0,t.jsxs)("div",{className:"border border-border p-5 relative mb-10",children:[(0,t.jsx)(p,{}),z||H?(0,t.jsxs)("div",{className:"animate-pulse space-y-3",children:[(0,t.jsx)("div",{className:"h-8 w-32 bg-muted-foreground/10 rounded"}),(0,t.jsx)("div",{className:"h-3 w-full bg-muted-foreground/10 rounded"}),(0,t.jsx)("div",{className:"h-3 w-3/4 bg-muted-foreground/10 rounded"})]}):0===f.length?(0,t.jsx)("span",{className:"font-mono text-xs text-muted-foreground/60 uppercase tracking-widest",children:"No agents to show earnings for"}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"mb-5",children:[(0,t.jsx)("span",{className:"font-mono text-[10px] uppercase tracking-widest text-muted-foreground/60 block mb-1",children:"Total Balance"}),(0,t.jsxs)("span",{className:"font-mono text-3xl font-bold text-system-green",children:["$",q.toFixed(2)]}),(0,t.jsx)("span",{className:"font-mono text-xs text-muted-foreground/60 ml-2",children:"USDC"})]}),(0,t.jsx)("div",{className:"space-y-2 mb-5",children:f.map(e=>{let n=`${e.network}:${e.agentId}`,a=D[n]||0;return(0,t.jsx)(v,{name:e.name,balance:a,total:q},n)})}),ea>0&&(0,t.jsxs)("div",{className:"border-t border-border pt-3 mb-4",children:[(0,t.jsx)("span",{className:"font-mono text-[10px] uppercase tracking-widest text-muted-foreground/60 block mb-1",children:"Arena Prize Money Earned"}),(0,t.jsxs)("span",{className:"font-mono text-lg font-bold text-warning-amber",children:["$",ea.toFixed(2)," USDC"]})]}),(0,t.jsx)(A,{agents:f,balances:D,walletAddress:e,onBalanceUpdate:(e,t)=>R(n=>({...n,[e]:t}))})]})]})]}),(0,t.jsxs)(a.motion.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{delay:.2},children:[(0,t.jsx)(j,{label:"Reputation & Feedback"}),(0,t.jsxs)("div",{className:"border border-border p-5 relative mb-10",children:[(0,t.jsx)(p,{}),z||H?(0,t.jsxs)("div",{className:"animate-pulse space-y-3",children:[(0,t.jsx)("div",{className:"h-6 w-24 bg-muted-foreground/10 rounded"}),(0,t.jsx)("div",{className:"h-3 w-full bg-muted-foreground/10 rounded"})]}):0===Q.length?(0,t.jsx)("span",{className:"font-mono text-xs text-muted-foreground/60 uppercase tracking-widest",children:"No feedback received yet"}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-5",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-mono text-[10px] uppercase tracking-widest text-muted-foreground/60 block mb-1",children:"Total Feedbacks"}),(0,t.jsx)("span",{className:"font-mono text-2xl font-bold text-foreground",children:Q.reduce((e,t)=>e+t.count,0)})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-mono text-[10px] uppercase tracking-widest text-muted-foreground/60 block mb-1",children:"Average Score"}),(0,t.jsxs)("span",{className:"font-mono text-2xl font-bold text-foreground",children:[Z.toFixed(1),(0,t.jsx)("span",{className:"text-sm text-muted-foreground/40",children:" / 5"})]})]})]}),(0,t.jsx)("div",{className:"space-y-2",children:f.map(e=>{let n=`${e.network}:${e.agentId}`,a=F[n];return a&&0!==a.count?(0,t.jsxs)("div",{className:"flex items-center justify-between py-2 border-b border-border/40 last:border-0",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"font-mono text-xs uppercase tracking-wider text-foreground",children:e.name}),(0,t.jsx)("span",{className:"font-mono text-[9px] text-muted-foreground/50 border border-border px-1.5 py-0.5",children:o.CONTRACTS[e.network]?.name||e.network})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsxs)("span",{className:"font-mono text-xs text-muted-foreground",children:[a.count," review",1!==a.count?"s":""]}),(0,t.jsxs)("span",{className:"font-mono text-xs font-bold text-foreground",children:[a.avg.toFixed(1),"/5"]})]})]},n):null})})]})]})]}),(0,t.jsxs)(a.motion.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{delay:.25},children:[(0,t.jsx)(j,{label:"Arena Performance"}),(0,t.jsxs)("div",{className:"border border-border p-5 relative mb-10",children:[(0,t.jsx)(p,{}),G?(0,t.jsxs)("div",{className:"animate-pulse space-y-3",children:[(0,t.jsx)("div",{className:"h-6 w-32 bg-muted-foreground/10 rounded"}),(0,t.jsx)("div",{className:"h-3 w-full bg-muted-foreground/10 rounded"}),(0,t.jsx)("div",{className:"h-3 w-3/4 bg-muted-foreground/10 rounded"})]}):0===en.length&&0===et.length?(0,t.jsx)("span",{className:"font-mono text-xs text-muted-foreground/60 uppercase tracking-widest",children:"No arena participation yet"}):(0,t.jsxs)(t.Fragment,{children:[et.length>0&&(0,t.jsxs)("div",{className:"mb-5",children:[(0,t.jsx)("span",{className:"font-mono text-[10px] uppercase tracking-widest text-muted-foreground/60 block mb-3",children:"ELO Rankings"}),(0,t.jsx)("div",{className:"space-y-2",children:et.map(e=>(0,t.jsxs)("div",{className:"flex items-center justify-between py-2 border-b border-border/40 last:border-0",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)("span",{className:"font-mono text-xs font-bold text-foreground",children:["#",e.rank]}),(0,t.jsx)("span",{className:"font-mono text-xs uppercase tracking-wider text-foreground",children:e.name})]}),(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsxs)("span",{className:"font-mono text-xs text-info-blue font-bold",children:[e.elo," ELO"]}),(0,t.jsxs)("span",{className:"font-mono text-[10px] text-system-green",children:[e.wins,"W"]}),(0,t.jsxs)("span",{className:"font-mono text-[10px] text-error-red",children:[e.battles-e.wins,"L"]}),(0,t.jsxs)("span",{className:"font-mono text-[10px] text-muted-foreground",children:[e.winRate,"%"]})]})]},`${e.network}:${e.agentId}`))})]}),en.length>0&&(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-mono text-[10px] uppercase tracking-widest text-muted-foreground/60 block mb-3",children:"Event History"}),(0,t.jsx)("div",{className:"space-y-2",children:en.slice(0,10).map(n=>{let a=n.participants?.find(t=>t.ownerAddress?.toLowerCase()===e?.toLowerCase()),r=a?`${a.network}:${a.agentId}`:"",o=r&&n.scores?.[r]?n.scores[r]:null,i=n.results?.rankings?.find(e=>e.agentKey===r);return(0,t.jsxs)("div",{className:"flex items-center justify-between py-2 border-b border-border/40 last:border-0",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 min-w-0",children:[(0,t.jsx)("span",{className:(0,s.cn)("font-mono text-[9px] uppercase tracking-wider px-1.5 py-0.5 border shrink-0",h[n.status]||h.completed),children:n.status}),(0,t.jsx)("span",{className:"font-mono text-xs text-foreground truncate",children:n.title})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3 shrink-0",children:[a&&(0,t.jsx)("span",{className:"font-mono text-[10px] text-muted-foreground",children:a.name}),o&&(0,t.jsxs)("span",{className:"font-mono text-xs text-info-blue",children:[o.avgScore?.toFixed(1)," pts"]}),i&&(0,t.jsxs)("span",{className:(0,s.cn)("font-mono text-xs font-bold",1===i.rank?"text-warning-amber":"text-muted-foreground"),children:["#",i.rank]})]})]},n.id)})})]})]})]})]}),(0,t.jsxs)(a.motion.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{delay:.3},children:[(0,t.jsx)(j,{label:"Agents I've Hired"}),(0,t.jsx)("div",{className:"mb-10",children:K?(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Array.from({length:3}).map((e,n)=>(0,t.jsx)(I,{},n))}):0===E.length?(0,t.jsxs)("div",{className:"border border-border p-8 text-center",children:[(0,t.jsx)("span",{className:"font-mono text-xs uppercase tracking-widest text-muted-foreground/60",children:"No hire history found"}),(0,t.jsx)("p",{className:"font-mono text-[10px] text-muted-foreground/40 mt-2",children:"Hire an agent to see your history here"})]}):(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:E.map((e,n)=>(0,t.jsx)(k,{hire:e},`hired-${e.hireId||n}`))})})]})]})})}):(0,t.jsx)("div",{className:"h-full w-full relative flex flex-col overflow-y-auto no-scrollbar",children:(0,t.jsx)("div",{className:"flex-1 flex flex-col items-center justify-center px-4",children:(0,t.jsxs)(a.motion.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},className:"border border-border p-8 relative text-center max-w-md",children:[(0,t.jsx)(p,{}),(0,t.jsx)("span",{className:"font-mono text-[10px] uppercase tracking-widest text-muted-foreground/60 block mb-4",children:"Wallet Required"}),(0,t.jsx)("p",{className:"font-mono text-xs text-muted-foreground leading-relaxed mb-6",children:"Connect your wallet to view your agents, earnings, reputation, and arena performance."}),(0,t.jsx)("button",{onClick:d,disabled:r,className:"font-mono text-xs uppercase tracking-widest bg-foreground text-background px-8 py-3 hover:opacity-90 transition-opacity disabled:opacity-30",children:r?"CONNECTING...":"CONNECT WALLET"})]})})})}function j({label:e,count:n}){return(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,t.jsx)("h2",{className:"font-mono text-sm font-bold uppercase tracking-widest text-foreground",children:e}),void 0!==n&&(0,t.jsxs)("span",{className:"font-mono text-[10px] text-muted-foreground/50 uppercase tracking-widest",children:["(",n,")"]}),(0,t.jsx)("div",{className:"flex-1 h-[1px] bg-border"})]})}function N({label:e,value:n,subtext:a,color:r,loading:o}){return(0,t.jsxs)("div",{className:"border border-border p-5 relative",children:[(0,t.jsx)(p,{}),(0,t.jsx)("span",{className:"font-mono text-[10px] uppercase tracking-widest text-muted-foreground/60 block mb-2",children:e}),o?(0,t.jsx)("div",{className:"h-8 w-20 bg-muted-foreground/10 animate-pulse rounded"}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{className:(0,s.cn)("font-mono text-2xl md:text-3xl font-bold block",r||"text-foreground"),children:n}),a&&(0,t.jsx)("span",{className:"font-mono text-[9px] uppercase tracking-widest text-muted-foreground/40 mt-1 block",children:a})]})]})}function v({name:e,balance:n,total:a}){let r=a>0?n/a*100:0;return(0,t.jsxs)("div",{className:"flex items-center gap-3 py-1.5",children:[(0,t.jsx)("span",{className:"font-mono text-xs uppercase tracking-wider text-foreground w-28 truncate",children:e}),(0,t.jsx)("div",{className:"flex-1 h-2 bg-muted-foreground/10 relative overflow-hidden",children:(0,t.jsx)("div",{className:"h-full bg-system-green transition-all duration-700",style:{width:`${Math.max(r,1)}%`}})}),(0,t.jsxs)("span",{className:"font-mono text-xs text-foreground w-24 text-right",children:["$",n.toFixed(2)]})]})}function w({agent:e,balance:d,reputation:c,verification:l,feedbackList:m,isExpanded:x,loadingBalance:u,onToggle:h,onVerified:y,signedFetch:j}){let N=o.CONTRACTS[e.network]?.name||e.network,v="active"===e.status,w=Array.isArray(e.skills)?e.skills:[],k=parseFloat(e.hirePrice||"0"),[A,I]=(0,n.useState)(!1),[C,S]=(0,n.useState)(null);async function $(){I(!0),S(null);try{let t=await (0,i.apiVerifyAgent)(e.network,e.agentId,j);y(t)}catch(e){S(e instanceof Error?e.message:String(e))}finally{I(!1)}}return(0,t.jsxs)("div",{className:(0,s.cn)("border p-5 relative transition-colors",x?"border-foreground/30 col-span-1 md:col-span-2 lg:col-span-3":"border-border hover:border-foreground/20"),children:[(0,t.jsx)(p,{}),(0,t.jsxs)("button",{type:"button",onClick:h,className:"w-full text-left cursor-pointer",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-1.5",children:[(0,t.jsx)("span",{className:(0,s.cn)("h-2 w-2 rounded-full shrink-0",v?"bg-system-green":"bg-error-red")}),(0,t.jsx)("span",{className:"font-mono text-sm font-bold uppercase tracking-wider text-foreground truncate",children:e.name}),e.agentId&&"pending"!==e.agentId&&(0,t.jsxs)("span",{className:"font-mono text-[10px] text-muted-foreground/60 shrink-0",children:["#",e.agentId]}),l&&(0,t.jsx)("span",{className:(0,s.cn)("font-mono text-[8px] uppercase tracking-wider px-1.5 py-0.5 border shrink-0",b[l.riskTier]||"border-border text-muted-foreground"),children:f(l.overallScore)})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,t.jsx)("span",{className:"font-mono text-[9px] uppercase tracking-wider text-muted-foreground/50 border border-border px-1.5 py-0.5",children:N}),(0,t.jsx)("span",{className:(0,s.cn)("font-mono text-[9px] uppercase tracking-wider",k>0?"text-system-green":"text-muted-foreground/40"),children:k>0?`$${k.toFixed(2)} USDC`:"FREE"}),(0,t.jsx)("span",{className:"flex-1"}),u?(0,t.jsx)("span",{className:"h-4 w-16 bg-muted-foreground/10 animate-pulse rounded"}):void 0!==d?(0,t.jsxs)("span",{className:"font-mono text-[10px] font-bold text-system-green",children:["$",d.toFixed(2)]}):null]}),!x&&e.description&&(0,t.jsx)("p",{className:"font-mono text-[11px] text-muted-foreground leading-relaxed line-clamp-2 mb-3",children:e.description}),!x&&w.length>0&&(0,t.jsxs)("div",{className:"flex flex-wrap gap-1.5",children:[w.slice(0,3).map(e=>(0,t.jsx)("span",{className:"font-mono text-[9px] uppercase tracking-wider text-muted-foreground/60 border border-border/60 px-1.5 py-0.5",children:e},e)),w.length>3&&(0,t.jsxs)("span",{className:"font-mono text-[9px] text-muted-foreground/40",children:["+",w.length-3]})]})]}),(0,t.jsx)(r.AnimatePresence,{children:x&&(0,t.jsx)(a.motion.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"overflow-hidden",children:(0,t.jsxs)("div",{className:"border-t border-border mt-4 pt-4 space-y-4",children:[e.description&&(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-mono text-[10px] uppercase tracking-widest text-muted-foreground/60 block mb-1",children:"Description"}),(0,t.jsx)("p",{className:"font-mono text-[11px] text-muted-foreground leading-relaxed",children:e.description})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.mcpEndpoint&&(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-mono text-[10px] uppercase tracking-widest text-muted-foreground/60 block mb-1",children:"MCP Endpoint"}),(0,t.jsx)("span",{className:"font-mono text-[11px] text-foreground break-all",children:e.mcpEndpoint})]}),e.a2aEndpoint&&(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-mono text-[10px] uppercase tracking-widest text-muted-foreground/60 block mb-1",children:"A2A Endpoint"}),(0,t.jsx)("span",{className:"font-mono text-[11px] text-foreground break-all",children:e.a2aEndpoint})]}),e.agentWalletAddress&&(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-mono text-[10px] uppercase tracking-widest text-muted-foreground/60 block mb-1",children:"Agent Wallet"}),(0,t.jsx)("span",{className:"font-mono text-[11px] text-foreground",children:e.agentWalletAddress})]}),e.registrationTx&&(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-mono text-[10px] uppercase tracking-widest text-muted-foreground/60 block mb-1",children:"Registration Tx"}),(0,t.jsx)("span",{className:"font-mono text-[11px] text-foreground",children:g(e.registrationTx)})]})]}),w.length>0&&(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-mono text-[10px] uppercase tracking-widest text-muted-foreground/60 block mb-2",children:"Skills"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-1.5",children:w.map(e=>(0,t.jsx)("span",{className:"font-mono text-[9px] uppercase tracking-wider text-muted-foreground/60 border border-border/60 px-1.5 py-0.5",children:e},e))})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("span",{className:"font-mono text-[10px] uppercase tracking-widest text-muted-foreground/60",children:"ERC-8126 Verification"}),(0,t.jsx)("button",{onClick:$,disabled:A||!e.agentId||"pending"===e.agentId,className:"font-mono text-[10px] uppercase tracking-widest border border-border px-3 py-1.5 hover:border-foreground/30 hover:text-foreground transition-colors text-muted-foreground disabled:opacity-30",children:A?"Verifying...":l?"Re-verify":"Verify Now"})]}),l?(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("span",{className:(0,s.cn)("font-mono text-sm font-bold px-3 py-1 border",b[l.riskTier]||"border-border text-muted-foreground"),children:f(l.overallScore)}),(0,t.jsx)("span",{className:"font-mono text-[10px] text-muted-foreground/60",children:l.verifiedAt?new Date(l.verifiedAt).toLocaleDateString():""})]}):(0,t.jsx)("span",{className:"font-mono text-[10px] text-muted-foreground/40",children:"Not yet verified"}),C&&(0,t.jsx)("div",{className:"mt-2 border border-red-500/40 bg-red-500/5 px-3 py-1.5",children:(0,t.jsx)("span",{className:"font-mono text-[10px] text-red-500",children:C})})]}),c&&c.count>0&&(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-mono text-[10px] uppercase tracking-widest text-muted-foreground/60 block mb-2",children:"Feedback"}),(0,t.jsxs)("div",{className:"flex items-center gap-4 mb-3",children:[(0,t.jsxs)("span",{className:"font-mono text-xs text-foreground",children:[c.count," review",1!==c.count?"s":""]}),(0,t.jsxs)("span",{className:"font-mono text-xs font-bold text-foreground",children:[c.avg.toFixed(1)," / 5"]})]}),m&&m.length>0&&(0,t.jsx)("div",{className:"space-y-2",children:m.slice(0,5).map((e,n)=>(0,t.jsxs)("div",{className:"flex items-center justify-between py-1.5 border-b border-border/30 last:border-0",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"font-mono text-[10px] text-muted-foreground",children:g(e.clientAddress)}),e.tag1&&(0,t.jsx)("span",{className:"font-mono text-[9px] text-muted-foreground/60 border border-border/40 px-1 py-0.5",children:e.tag1}),e.tag2&&(0,t.jsx)("span",{className:"font-mono text-[9px] text-muted-foreground/60 border border-border/40 px-1 py-0.5",children:e.tag2})]}),(0,t.jsxs)("span",{className:(0,s.cn)("font-mono text-xs font-bold",e.value>=4?"text-system-green":e.value>=2?"text-warning-amber":"text-error-red"),children:[e.value,"/5"]})]},n))}),void 0===m&&(0,t.jsx)("div",{className:"h-3 w-32 bg-muted-foreground/10 animate-pulse rounded"})]})]})})})]})}function k({hire:e}){let n=(0,d.useRouter)(),a=o.CONTRACTS[e.network]?.name||e.network,r=e.agent?.name||`Agent #${e.agentId}`,i=Number(e.callsUsed)||0,c=Number(e.callsTotal)||1,l=Math.min(100,i/c*100),m=parseFloat(e.pricePaid||"0"),x="active"===e.status,u="expired"===e.status,g="exhausted"===e.status,f=e.expiresAt?new Date(e.expiresAt).toLocaleDateString():"",b=x?"ACTIVE":u?"EXPIRED":g?"EXHAUSTED":e.status?.toUpperCase()||"";return(0,t.jsxs)("div",{className:"border border-border p-5 relative",children:[(0,t.jsx)(p,{}),(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-1.5",children:[(0,t.jsx)("span",{className:"font-mono text-sm font-bold uppercase tracking-wider text-foreground truncate",children:r}),(0,t.jsxs)("span",{className:"font-mono text-[10px] text-muted-foreground/60 shrink-0",children:["#",e.agentId]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,t.jsx)("span",{className:"font-mono text-[9px] uppercase tracking-wider text-muted-foreground/50 border border-border px-1.5 py-0.5",children:a}),(0,t.jsx)("span",{className:(0,s.cn)("font-mono text-[9px] uppercase tracking-wider px-1.5 py-0.5 border",x?"text-system-green border-system-green/40":g?"text-warning-amber border-warning-amber/40":"text-error-red border-error-red/40"),children:b}),(0,t.jsx)("span",{className:"font-mono text-[9px] uppercase tracking-wider text-info-blue",children:e.plan})]}),(0,t.jsxs)("div",{className:"mb-3",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,t.jsxs)("span",{className:"font-mono text-[9px] text-muted-foreground/50",children:[i," / ",c," calls"]}),(0,t.jsxs)("span",{className:(0,s.cn)("font-mono text-[9px]",l>90?"text-error-red":l>70?"text-warning-amber":"text-system-green"),children:[l.toFixed(0),"%"]})]}),(0,t.jsx)("div",{className:"w-full h-1.5 bg-muted-foreground/10 overflow-hidden",children:(0,t.jsx)("div",{className:(0,s.cn)("h-full transition-all",l>90?"bg-error-red":l>70?"bg-warning-amber":"bg-system-green"),style:{width:`${l}%`}})})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,t.jsxs)("span",{className:"font-mono text-[9px] text-muted-foreground/40",children:["Paid $",m.toFixed(2)," USDC"]}),f&&(0,t.jsxs)("span",{className:"font-mono text-[9px] text-muted-foreground/40",children:["Expires ",f]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 pt-3 border-t border-border/40",children:[x&&(0,t.jsx)("button",{onClick:()=>n.push(`/workspace?network=${e.network}&agentId=${e.agentId}&hireId=${e.hireId}`),className:"flex-1 font-mono text-[10px] uppercase tracking-widest py-1.5 border border-system-green/40 text-system-green hover:bg-system-green/5 transition-colors text-center",children:"OPEN WORKSPACE"}),(u||g)&&(0,t.jsx)("button",{onClick:()=>n.push(`/hire?network=${e.network}&agentId=${e.agentId}`),className:"flex-1 font-mono text-[10px] uppercase tracking-widest py-1.5 border border-warning-amber/40 text-warning-amber hover:bg-warning-amber/5 transition-colors text-center",children:"RENEW"})]})]})}function A({agents:e,balances:a,walletAddress:r,onBalanceUpdate:s}){let{signer:d}=(0,u.useWallet)(),[c,l]=(0,n.useState)(null),[m,x]=(0,n.useState)(""),[p,g]=(0,n.useState)(null),[f,b]=(0,n.useState)(null),h=e.filter(e=>(a[`${e.network}:${e.agentId}`]||0)>0&&e.agentWalletAddress);async function y(e){let t=`${e.network}:${e.agentId}`,n=a[t]||0,c=parseFloat(m)||n;if(c<=0||c>n)return void b("Invalid amount");g("Sign the withdrawal request..."),b(null);try{if(!d)throw Error("Wallet not connected");let a=`Withdraw ${c} USDC from agent ${e.agentId} to ${r}`,m=await d.signMessage(a);g("Submitting withdrawal...");let u=await (0,i.apiWithdraw)({agentId:e.agentId,network:"fuji",toAddress:r,amount:c.toString(),ownerAddress:r,usdcAddress:o.USDC_ADDRESS,message:a,signature:m});if(u.circleTxId){g("Waiting for Circle confirmation...");let e=!1;for(let t=0;t<30;t++){await new Promise(e=>setTimeout(e,3e3));try{let t=await (0,i.apiWithdrawStatus)(u.circleTxId);if("CONFIRMED"===t.status){g(`Withdraw successful!${t.txHash?` TX: ${t.txHash.slice(0,10)}...`:""}`),e=!0;break}if("FAILED"===t.status||"DENIED"===t.status||"CANCELLED"===t.status)throw Error(`Transaction ${t.status.toLowerCase()}`)}catch{}}e||g("Withdrawal submitted â€” check Circle dashboard for confirmation.")}else g("Withdrawal submitted!");s(t,Math.max(0,n-c)),l(null),x(""),setTimeout(()=>g(null),5e3)}catch(e){b(e instanceof Error?e.message:String(e)),g(null)}}return(0,t.jsxs)("div",{className:"border-t border-border pt-4",children:[(0,t.jsx)("span",{className:"font-mono text-[10px] uppercase tracking-widest text-muted-foreground/60 block mb-3",children:"Withdraw"}),0===h.length?(0,t.jsx)("span",{className:"font-mono text-[10px] text-muted-foreground/40",children:"No agents with balance to withdraw"}):(0,t.jsx)("div",{className:"space-y-2",children:h.map(e=>{let n=`${e.network}:${e.agentId}`,s=a[n]||0,o=c===n;return(0,t.jsxs)("div",{className:"border border-border/60 p-3",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"font-mono text-xs uppercase tracking-wider text-foreground",children:e.name}),(0,t.jsxs)("span",{className:"font-mono text-xs font-bold text-system-green",children:["$",s.toFixed(2)]})]}),(0,t.jsx)("button",{onClick:()=>{l(o?null:n),x(s.toString()),b(null)},className:"font-mono text-[10px] uppercase tracking-widest px-3 py-1 border border-border hover:border-foreground/30 text-muted-foreground hover:text-foreground transition-colors",children:o?"CANCEL":"WITHDRAW"})]}),o&&(0,t.jsxs)("div",{className:"mt-3 pt-3 border-t border-border/40 space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("input",{type:"number",value:m,onChange:e=>x(e.target.value),placeholder:"Amount",step:"0.01",max:s,className:"flex-1 bg-transparent border border-border px-3 py-2 font-mono text-xs text-foreground placeholder:text-muted-foreground/30 focus:outline-none focus:border-foreground/40"}),(0,t.jsx)("button",{onClick:()=>x(s.toString()),className:"font-mono text-[9px] uppercase tracking-wider px-2 py-2 border border-border text-muted-foreground hover:text-foreground",children:"MAX"})]}),(0,t.jsx)("div",{className:"flex items-center gap-2",children:(0,t.jsxs)("span",{className:"font-mono text-[9px] text-muted-foreground/50",children:["To: ",r.slice(0,6),"...",r.slice(-4)]})}),(0,t.jsx)("button",{onClick:()=>y(e),className:"w-full font-mono text-[10px] uppercase tracking-widest py-2 bg-foreground text-background hover:opacity-90 transition-opacity",children:"CONFIRM WITHDRAW"})]})]},n)})}),p&&(0,t.jsx)("div",{className:"mt-3 border border-system-green/30 bg-system-green/5 px-3 py-2",children:(0,t.jsx)("span",{className:"font-mono text-[10px] text-system-green",children:p})}),f&&(0,t.jsx)("div",{className:"mt-3 border border-error-red/30 bg-error-red/5 px-3 py-2",children:(0,t.jsx)("span",{className:"font-mono text-[10px] text-error-red",children:f})})]})}function I(){return(0,t.jsxs)("div",{className:"border border-border p-5 relative animate-pulse",children:[(0,t.jsx)(p,{opacity:10}),(0,t.jsx)("div",{className:"h-4 w-2/3 bg-muted-foreground/10 rounded mb-3"}),(0,t.jsx)("div",{className:"h-3 w-1/3 bg-muted-foreground/10 rounded mb-4"}),(0,t.jsx)("div",{className:"h-3 w-full bg-muted-foreground/10 rounded mb-2"}),(0,t.jsx)("div",{className:"h-3 w-4/5 bg-muted-foreground/10 rounded mb-4"}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("div",{className:"h-5 w-16 bg-muted-foreground/10 rounded"}),(0,t.jsx)("div",{className:"h-5 w-16 bg-muted-foreground/10 rounded"})]})]})}e.s(["default",()=>y],78928)}]);