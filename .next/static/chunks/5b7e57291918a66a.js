(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,54858,4319,e=>{"use strict";let t=e.i(47167).default.env.NEXT_PUBLIC_API_BASE||"https://agent-cli-backend.onrender.com";async function r(e,r,n){let a=n||fetch,s=await a(`${t}${e}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)}),o=await s.json().catch(()=>({}));if(!s.ok)throw Error(o.error||s.statusText||`HTTP ${s.status}`);return o}async function n(e,r){let n=r||fetch,a=await n(`${t}${e}`),s=await a.json().catch(()=>({}));if(!a.ok)throw Error(s.error||a.statusText||`HTTP ${a.status}`);return s}async function a(e,t){let r=new URLSearchParams;return e&&r.set("name",e),t&&r.set("url",t),n(`/api/agents/check?${r.toString()}`)}async function s(e){return r("/api/circle/create-wallet",{agentId:e})}async function o(){return n("/api/agents")}async function i(e,t){return n(`/api/agents/${e}/${t}`)}async function d(e){let t=e?`?status=${e}`:"";return n(`/api/arena/events${t}`)}async function l(e){return n(`/api/arena/events/${e}`)}async function c(e,t){return r("/api/arena/events",e,t)}async function p(e,t,n){return r(`/api/arena/events/${e}/register`,t,n)}async function u(e,t,n){return r(`/api/arena/events/${e}/status`,t,n)}async function x(e,t,n){return r(`/api/arena/events/${e}/vote`,t,n)}async function m(e,t,n){return r(`/api/arena/events/${e}/judge`,t,n)}async function g(e,t,n){return r(`/api/arena/events/${e}/distribute`,t,n)}async function f(e){return n(`/api/arena/admin-check?address=${e}`)}async function b(){return n("/api/arena/leaderboard")}async function h(e,t,n){return r(`/api/verify/${e}/${t}`,{},n)}async function y(e,t){return n(`/api/verify/${e}/${t}`)}async function v(e,t){return r("/api/agents",e,t)}async function j(e,t){return n(`/api/hire/plans/${e}/${t}`)}async function N(e){return r("/api/bridge/initiate",e)}async function k(e){return r("/api/hire",e)}async function w(e){return n(`/api/hire/my/${e}`)}async function A(e){return n(`/api/hire/status/${e}`)}async function I(e,t,r){return n(`/api/hire/active/${e}/${t}/${r}`)}async function S(e,t,n){return r("/api/workspace/call",{hireId:e,message:t,files:n})}async function C(e){return n(`/api/workspace/history/${e}`)}async function E(e){return r(`/api/workspace/clear/${e}`,{})}async function T(e,t){return r("/api/circle/withdraw",e,t)}async function R(e){return n(`/api/circle/withdraw-status/${e}`)}e.s(["API_BASE",0,t,"APPLICATION_DOMAINS",0,{Technology:["Technology","Software Engineering","DevOps","Data Science","Blockchain","DeFi","Cybersecurity","Cloud Computing"],"Finance & Business":["Finance & Business","Finance","Banking"],Healthcare:["Healthcare","Telemedicine","Healthcare Informatics"],Education:["Education","E-Learning"]},"CHAIN_USDC",0,{sepolia:"0x1c7D4B196Cb0C7B01d743Fbc6116a902379C7238",baseSepolia:"0x036CbD53842c5426634e7929541eC2318f3dCF7e",fuji:"0x5425890298aed601595a70AB815c96711a31Bc65",arbitrumSepolia:"0x75faf114eafb1BDbe2F0316DF893fd58CE46AA4d",monadTestnet:"0x534b2f3A21130d7a60830c2Df862319e593943A3"},"CONTRACTS",0,{sepolia:{name:"Ethereum Sepolia",rpc:"https://ethereum-sepolia-rpc.publicnode.com",chainId:0xaa36a7,chainIdHex:"0xaa36a7",blockExplorer:"https://sepolia.etherscan.io",identityRegistry:"0x8004A818BFB912233c491871b3d84c89A494BD9e",reputationRegistry:"0x8004B663056A597Dffe9eCcC1965A193B7388713",verificationRegistry:"0xA4Bc25c1715c073202783699ea934b169c19b3C2",facinetNetwork:"ethereum-sepolia"},baseSepolia:{name:"Base Sepolia",rpc:"https://sepolia.base.org",chainId:84532,chainIdHex:"0x14a34",blockExplorer:"https://sepolia.basescan.org",identityRegistry:"0x8004A818BFB912233c491871b3d84c89A494BD9e",reputationRegistry:"0x8004B663056A597Dffe9eCcC1965A193B7388713",verificationRegistry:"0x817FCea8d1AcdABe280A39F31feAaf635D740491",facinetNetwork:"base-sepolia"},fuji:{name:"Avalanche Fuji",rpc:"https://api.avax-test.network/ext/bc/C/rpc",chainId:43113,chainIdHex:"0xa869",blockExplorer:"https://testnet.snowtrace.io",identityRegistry:"0x8004A818BFB912233c491871b3d84c89A494BD9e",reputationRegistry:"0x8004B663056A597Dffe9eCcC1965A193B7388713",verificationRegistry:"0x82b50Dd0729D1b109522f6b4D9B13Aa438aF63D0",facinetNetwork:"avalanche-fuji"},arbitrumSepolia:{name:"Arbitrum Sepolia",rpc:"https://sepolia-rollup.arbitrum.io/rpc",chainId:421614,chainIdHex:"0x66eee",blockExplorer:"https://sepolia.arbiscan.io",identityRegistry:"0x8004A818BFB912233c491871b3d84c89A494BD9e",reputationRegistry:"0x8004B663056A597Dffe9eCcC1965A193B7388713",verificationRegistry:"0x388166fb3B38aFa179B76444d742A329b78B4FF4",facinetNetwork:"arbitrum-sepolia"},monadTestnet:{name:"Monad Testnet",rpc:"https://testnet-rpc.monad.xyz",chainId:10143,chainIdHex:"0x279f",blockExplorer:"https://testnet.monadexplorer.com",identityRegistry:"0x8004A818BFB912233c491871b3d84c89A494BD9e",reputationRegistry:"0x8004B663056A597Dffe9eCcC1965A193B7388713",verificationRegistry:"0x6166809DCFaD786C0f18d8d97be3729b83cb2775",facinetNetwork:"monad-testnet"}},"DEFAULT_FORM_DATA",0,{name:"",url:"",imageUrl:"",description:"",version:"1.0.0",author:"",license:"MIT",mcpEndpoint:"",a2aEndpoint:"",skills:[],customSkills:"",domains:[],customDomains:"",metadataStorage:"on-chain",trustModels:[],x402Payment:!0,activationStatus:"active",hirePrice:"0"},"IDENTITY_REGISTRY_ABI",0,[{inputs:[{name:"agentURI",type:"string"}],name:"register",outputs:[{name:"agentId",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"from",type:"address"},{name:"to",type:"address"},{name:"tokenId",type:"uint256"}],name:"transferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"tokenId",type:"uint256"},{name:"uri",type:"string"}],name:"setAgentURI",outputs:[],stateMutability:"nonpayable",type:"function"},{anonymous:!1,inputs:[{indexed:!0,name:"agentId",type:"uint256"},{indexed:!1,name:"agentURI",type:"string"},{indexed:!0,name:"owner",type:"address"}],name:"Registered",type:"event"}],"OASF_SKILLS",0,{"Natural Language Processing":["Natural Language Processing","Summarization","Question Answering","Sentiment Analysis","Translation","Named Entity Recognition","Storytelling"],"Images & Computer Vision":["Computer Vision","Image Generation","Image Classification","Object Detection"],"Multi Modal":["Speech Recognition","Text-to-Speech","Text to Image","Image to Text"],"Analytical Skills":["Code Generation","Code Optimization","Math Problem Solving"],"Data Engineering":["Data Analysis","Database Query","API Integration"]},"PAYMENT_CHAINS",0,[{key:"fuji",label:"Avalanche Fuji (Direct)",cctp:!1},{key:"sepolia",label:"Ethereum Sepolia",cctp:!0},{key:"baseSepolia",label:"Base Sepolia",cctp:!0},{key:"arbitrumSepolia",label:"Arbitrum Sepolia",cctp:!0}],"REPUTATION_REGISTRY_ABI",0,[{inputs:[{name:"agentId",type:"uint256"},{name:"value",type:"int128"},{name:"valueDecimals",type:"uint8"},{name:"tag1",type:"string"},{name:"tag2",type:"string"},{name:"endpoint",type:"string"},{name:"feedbackURI",type:"string"},{name:"feedbackHash",type:"bytes32"}],name:"giveFeedback",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"agentId",type:"uint256"}],name:"getClients",outputs:[{name:"",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[{name:"agentId",type:"uint256"},{name:"clientAddress",type:"address"}],name:"getLastIndex",outputs:[{name:"",type:"uint64"}],stateMutability:"view",type:"function"},{inputs:[{name:"agentId",type:"uint256"},{name:"clientAddress",type:"address"},{name:"feedbackIndex",type:"uint64"}],name:"readFeedback",outputs:[{name:"value",type:"int128"},{name:"valueDecimals",type:"uint8"},{name:"tag1",type:"string"},{name:"tag2",type:"string"},{name:"isRevoked",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{name:"agentId",type:"uint256"},{name:"clientAddresses",type:"address[]"},{name:"tag1",type:"string"},{name:"tag2",type:"string"}],name:"getSummary",outputs:[{name:"count",type:"uint64"},{name:"summaryValue",type:"int128"},{name:"summaryValueDecimals",type:"uint8"}],stateMutability:"view",type:"function"},{anonymous:!1,inputs:[{indexed:!0,name:"agentId",type:"uint256"},{indexed:!0,name:"clientAddress",type:"address"},{indexed:!1,name:"feedbackIndex",type:"uint64"},{indexed:!1,name:"value",type:"int128"},{indexed:!1,name:"valueDecimals",type:"uint8"},{indexed:!0,name:"indexedTag1",type:"string"},{indexed:!1,name:"tag1",type:"string"},{indexed:!1,name:"tag2",type:"string"},{indexed:!1,name:"endpoint",type:"string"},{indexed:!1,name:"feedbackURI",type:"string"},{indexed:!1,name:"feedbackHash",type:"bytes32"}],name:"NewFeedback",type:"event"}],"TRUST_MODELS",0,[{name:"Reputation-Based",value:"reputation"},{name:"Crypto-Economic (Staking)",value:"crypto-economic"},{name:"TEE Attestation",value:"tee-attestation"}],"USDC_ABI",0,[{inputs:[{name:"to",type:"address"},{name:"amount",type:"uint256"}],name:"transfer",outputs:[{name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"account",type:"address"}],name:"balanceOf",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Transfer",type:"event"}],"USDC_ADDRESS",0,"0x5425890298aed601595a70AB815c96711a31Bc65","USDC_DECIMALS",0,6],4319),e.s(["apiBridgeInitiate",()=>N,"apiCheckActiveHire",()=>I,"apiCheckAdmin",()=>f,"apiCheckAgent",()=>a,"apiCreateCircleWallet",()=>s,"apiCreateEvent",()=>c,"apiDistributePrizes",()=>g,"apiGetAgent",()=>i,"apiGetEvent",()=>l,"apiGetHireStatus",()=>A,"apiGetLeaderboard",()=>b,"apiGetMyHires",()=>w,"apiGetPlans",()=>j,"apiGetVerification",()=>y,"apiJudgeEvent",()=>m,"apiListAgents",()=>o,"apiListEvents",()=>d,"apiRecordHire",()=>k,"apiRegisterForEvent",()=>p,"apiStoreAgent",()=>v,"apiUpdateEventStatus",()=>u,"apiVerifyAgent",()=>h,"apiVoteEvent",()=>x,"apiWithdraw",()=>T,"apiWithdrawStatus",()=>R,"apiWorkspaceCall",()=>S,"apiWorkspaceClear",()=>E,"apiWorkspaceHistory",()=>C],54858)},61628,e=>{"use strict";var t=e.i(43476),r=e.i(71645),n=e.i(46932),a=e.i(88653),s=e.i(47163),o=e.i(54238),i=e.i(4319),d=e.i(18566),l=e.i(54858),c=e.i(37799);let p={sepolia:"ETH",baseSepolia:"BASE",fuji:"AVAX",arbitrumSepolia:"ARB",monadTestnet:"MON"},u={sepolia:"border-blue-500/40 text-blue-400",baseSepolia:"border-cyan-500/40 text-cyan-400",fuji:"border-red-500/40 text-red-400",arbitrumSepolia:"border-sky-500/40 text-sky-400",monadTestnet:"border-purple-500/40 text-purple-400"},x=Object.values(i.OASF_SKILLS).flat(),m=Object.values(i.APPLICATION_DOMAINS).flat();function g(){let[e,o]=(0,r.useState)([]),[i,d]=(0,r.useState)(!0),[c,p]=(0,r.useState)(null),[u,g]=(0,r.useState)(null),[b,h]=(0,r.useState)(1),[y,v]=(0,r.useState)(""),[j,k]=(0,r.useState)(""),[A,I]=(0,r.useState)("");(0,r.useEffect)(()=>{(0,l.apiListAgents)().then(e=>o(e.agents||[])).catch(e=>p(e.message)).finally(()=>d(!1))},[]);let S=function(e){let t=new Map;for(let r of e){let e=`${r.name.toLowerCase()}:${(r.ownerAddress||"").toLowerCase()}`;if(t.has(e)){let n=t.get(e);n.networks.includes(r.network)||(n.networks.push(r.network),n.agentsByNetwork[r.network]=r)}else t.set(e,{...r,networks:[r.network],agentsByNetwork:{[r.network]:r}})}return Array.from(t.values())}(e);if(y.trim()){let e=y.trim().toLowerCase();S=S.filter(t=>t.name.toLowerCase().includes(e)||(t.description||"").toLowerCase().includes(e))}j&&(S=S.filter(e=>(Array.isArray(e.skills)?e.skills:[]).some(e=>e.toLowerCase()===j.toLowerCase()))),A&&(S=S.filter(e=>(Array.isArray(e.domains)?e.domains:[]).some(e=>e.toLowerCase()===A.toLowerCase())));let C=Math.max(1,Math.ceil(S.length/18)),E=S.slice((b-1)*18,18*b),T=(0,r.useCallback)(()=>g(null),[]);return(0,t.jsx)("div",{className:"h-full w-full relative flex flex-col overflow-y-auto no-scrollbar",children:(0,t.jsx)("div",{className:"flex-1 flex flex-col items-center pt-24 pb-16 px-4 md:px-8",children:(0,t.jsxs)("div",{className:"w-full max-w-5xl",children:[(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("h1",{className:"font-mono text-3xl md:text-4xl font-bold tracking-tight uppercase text-foreground",children:"AGENTS"}),(0,t.jsx)("p",{className:"font-mono text-[10px] uppercase tracking-widest text-muted-foreground/60 mt-2",children:"Deployed on 8004agent.network"})]}),!u&&(0,t.jsxs)("div",{className:"flex flex-col gap-3 mb-6",children:[(0,t.jsx)("input",{type:"text",value:y,onChange:e=>{v(e.target.value),h(1)},placeholder:"Search agents by name or description...",className:"w-full bg-transparent border border-border px-4 py-2 font-mono text-xs text-foreground placeholder:text-muted-foreground/40 focus:outline-none focus:border-foreground/40 transition-colors"}),(0,t.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[(0,t.jsxs)("select",{value:j,onChange:e=>{k(e.target.value),h(1)},className:"font-mono text-[10px] uppercase tracking-wider px-2 py-1.5 border border-border bg-transparent text-muted-foreground focus:outline-none focus:border-foreground/40 cursor-pointer",children:[(0,t.jsx)("option",{value:"",children:"All Skills"}),x.map(e=>(0,t.jsx)("option",{value:e,children:e},e))]}),(0,t.jsxs)("select",{value:A,onChange:e=>{I(e.target.value),h(1)},className:"font-mono text-[10px] uppercase tracking-wider px-2 py-1.5 border border-border bg-transparent text-muted-foreground focus:outline-none focus:border-foreground/40 cursor-pointer",children:[(0,t.jsx)("option",{value:"",children:"All Domains"}),m.map(e=>(0,t.jsx)("option",{value:e,children:e},e))]}),(y||j||A)&&(0,t.jsx)("button",{onClick:()=>{v(""),k(""),I(""),h(1)},className:"font-mono text-[10px] uppercase tracking-wider px-3 py-1.5 border border-error-red/40 text-error-red hover:bg-error-red/5 transition-colors",children:"Clear"})]})]}),!i&&!c&&!u&&(0,t.jsxs)("div",{className:"mb-4 flex items-center gap-3",children:[(0,t.jsxs)("span",{className:"font-mono text-[10px] uppercase tracking-widest text-muted-foreground/60",children:[S.length," agent",1!==S.length?"s":""]}),C>1&&(0,t.jsxs)("span",{className:"font-mono text-[10px] uppercase tracking-widest text-muted-foreground/40",children:["Page ",b,"/",C]})]}),(0,t.jsx)(a.AnimatePresence,{mode:"wait",children:i?(0,t.jsx)(n.motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Array.from({length:6}).map((e,r)=>(0,t.jsx)(f,{},r))},"loading"):c?(0,t.jsx)(n.motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"border border-error-red/40 bg-error-red/5 px-4 py-3",children:(0,t.jsx)("span",{className:"font-mono text-xs uppercase tracking-wider text-error-red",children:c})},"error"):u?(0,t.jsx)(n.motion.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},exit:{opacity:0,y:-12},transition:{duration:.2},children:(0,t.jsx)(w,{agent:u,onBack:T})},"detail"):0===S.length?(0,t.jsx)(n.motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"border border-border p-8 text-center",children:(0,t.jsx)("span",{className:"font-mono text-xs uppercase tracking-widest text-muted-foreground/60",children:"No agents found"})},"empty"):(0,t.jsxs)(n.motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"flex flex-col gap-6",children:[(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:E.map((e,r)=>(0,t.jsx)(N,{agent:e,onClick:()=>g(e)},`${e.name}-${e.ownerAddress}-${r}`))}),C>1&&(0,t.jsxs)("div",{className:"flex items-center justify-center gap-2 pt-2",children:[(0,t.jsx)("button",{onClick:()=>h(e=>Math.max(1,e-1)),disabled:1===b,className:"font-mono text-[10px] uppercase tracking-widest px-3 py-1.5 border border-border text-muted-foreground hover:text-foreground hover:border-foreground/30 transition-colors disabled:opacity-30 disabled:pointer-events-none",children:"← Prev"}),Array.from({length:C},(e,t)=>t+1).map(e=>(0,t.jsx)("button",{onClick:()=>h(e),className:(0,s.cn)("font-mono text-[10px] uppercase tracking-widest w-8 h-8 border transition-colors",e===b?"border-foreground bg-foreground text-background":"border-border text-muted-foreground hover:border-foreground/30 hover:text-foreground"),children:e},e)),(0,t.jsx)("button",{onClick:()=>h(e=>Math.min(C,e+1)),disabled:b===C,className:"font-mono text-[10px] uppercase tracking-widest px-3 py-1.5 border border-border text-muted-foreground hover:text-foreground hover:border-foreground/30 transition-colors disabled:opacity-30 disabled:pointer-events-none",children:"Next →"})]})]},`grid-${b}`)})]})})})}function f(){return(0,t.jsxs)("div",{className:"border border-border p-5 relative animate-pulse",children:[(0,t.jsx)(b,{opacity:10}),(0,t.jsx)("div",{className:"h-4 w-2/3 bg-muted-foreground/10 rounded mb-3"}),(0,t.jsx)("div",{className:"h-3 w-1/3 bg-muted-foreground/10 rounded mb-4"}),(0,t.jsx)("div",{className:"h-3 w-full bg-muted-foreground/10 rounded mb-2"}),(0,t.jsx)("div",{className:"h-3 w-4/5 bg-muted-foreground/10 rounded mb-4"}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("div",{className:"h-5 w-16 bg-muted-foreground/10 rounded"}),(0,t.jsx)("div",{className:"h-5 w-16 bg-muted-foreground/10 rounded"})]})]})}function b({opacity:e=20}){let r=`border-foreground/${e}`;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:`absolute top-2 left-2 w-3 h-3 border-t border-l ${r}`}),(0,t.jsx)("div",{className:`absolute top-2 right-2 w-3 h-3 border-t border-r ${r}`}),(0,t.jsx)("div",{className:`absolute bottom-2 left-2 w-3 h-3 border-b border-l ${r}`}),(0,t.jsx)("div",{className:`absolute bottom-2 right-2 w-3 h-3 border-b border-r ${r}`})]})}let h={MINIMAL:"border-green-500/60 text-green-500 bg-green-500/5",LOW:"border-cyan-500/60 text-cyan-500 bg-cyan-500/5",MEDIUM:"border-yellow-500/60 text-yellow-500 bg-yellow-500/5",HIGH:"border-red-400/60 text-red-400 bg-red-400/5",CRITICAL:"border-red-600/60 text-red-600 bg-red-600/10"};function y(e){return e>=80?`\u2713 VERIFIED ${e}`:e>=60?`VERIFIED ${e}`:e>=40?`PARTIAL ${e}`:e>=20?`LOW ${e}`:`RISK ${e}`}function v({network:e,agentId:n}){let[a,o]=(0,r.useState)(null);if((0,r.useEffect)(()=>{n&&"pending"!==n&&(0,l.apiGetVerification)(e,n).then(e=>{e&&e.riskTier&&o(e)}).catch(()=>{})},[e,n]),!a)return null;let i=h[a.riskTier]||"border-border text-muted-foreground";return(0,t.jsx)("span",{className:(0,s.cn)("font-mono text-[8px] uppercase tracking-wider px-1.5 py-0.5 border shrink-0",i),children:y(a.overallScore)})}let j={reputation:{label:"REP",style:"border-green-500/40 text-green-500"},"tee-attestation":{label:"TEE",style:"border-purple-500/40 text-purple-400"},"crypto-economic":{label:"STAKE",style:"border-yellow-500/40 text-yellow-500"}};function N({agent:e,onClick:r}){let n=(0,d.useRouter)(),a="active"===e.status,o=Array.isArray(e.skills)?e.skills:[],i=Array.isArray(e.trustModels)?e.trustModels:[],l=parseFloat(e.hirePrice||"0"),c=e.registeredAt?new Date(e.registeredAt).toLocaleDateString():"";return(0,t.jsxs)("div",{className:"border border-border p-5 relative hover:border-foreground/30 transition-colors group w-full",children:[(0,t.jsx)(b,{}),(0,t.jsxs)("button",{type:"button",onClick:r,className:"w-full text-left cursor-pointer",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-1.5",children:[(0,t.jsx)("span",{className:(0,s.cn)("h-2 w-2 rounded-full shrink-0",a?"bg-system-green":"bg-error-red")}),(0,t.jsx)("span",{className:"font-mono text-sm font-bold uppercase tracking-wider text-foreground truncate",children:e.name}),e.agentId&&"pending"!==e.agentId&&(0,t.jsxs)("span",{className:"font-mono text-[10px] text-muted-foreground/60 shrink-0",children:["#",e.agentId]}),(0,t.jsx)(v,{network:e.network,agentId:e.agentId})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1.5 mb-3",children:[e.networks.map(e=>(0,t.jsx)("span",{className:(0,s.cn)("font-mono text-[8px] uppercase tracking-wider px-1.5 py-0.5 border",u[e]||"border-border text-muted-foreground/60"),children:p[e]||e},e)),(0,t.jsx)("span",{className:(0,s.cn)("font-mono text-[9px] uppercase tracking-wider ml-auto",l>0?"text-system-green":"text-muted-foreground/40"),children:l>0?`$${l.toFixed(2)} USDC`:"FREE"})]}),e.description&&(0,t.jsx)("p",{className:"font-mono text-[11px] text-muted-foreground leading-relaxed line-clamp-2 mb-3",children:e.description}),o.length>0&&(0,t.jsxs)("div",{className:"flex flex-wrap gap-1.5 mb-3",children:[o.slice(0,3).map(e=>(0,t.jsx)("span",{className:"font-mono text-[9px] uppercase tracking-wider text-muted-foreground/60 border border-border/60 px-1.5 py-0.5",children:e},e)),o.length>3&&(0,t.jsxs)("span",{className:"font-mono text-[9px] text-muted-foreground/40",children:["+",o.length-3]})]}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-1.5 mb-3",children:[i.map(e=>{let r=j[e];return r?(0,t.jsx)("span",{className:(0,s.cn)("font-mono text-[8px] uppercase tracking-wider px-1.5 py-0.5 border",r.style),children:r.label},e):null}),"true"===e.x402Payment&&(0,t.jsx)("span",{className:"font-mono text-[8px] uppercase tracking-wider px-1.5 py-0.5 border border-system-green/40 text-system-green",children:"x402"})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[e.ownerAddress&&(0,t.jsxs)("span",{className:"font-mono text-[9px] text-muted-foreground/40 truncate",children:[e.ownerAddress.slice(0,6),"...",e.ownerAddress.slice(-4)]}),c&&(0,t.jsx)("span",{className:"font-mono text-[9px] text-muted-foreground/40 shrink-0",children:c})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 mt-3 pt-3 border-t border-border/40",children:[(0,t.jsx)("button",{type:"button",onClick:t=>{t.stopPropagation(),n.push(`/hire?network=${e.network}&agentId=${e.agentId}`)},className:"flex-1 font-mono text-[10px] uppercase tracking-widest py-1.5 border border-system-green/40 text-system-green hover:bg-system-green/5 transition-colors text-center",children:"HIRE"}),(0,t.jsx)("button",{type:"button",onClick:r,className:"flex-1 font-mono text-[10px] uppercase tracking-widest py-1.5 border border-info-blue/40 text-info-blue hover:bg-info-blue/5 transition-colors text-center",children:"DETAILS"})]})]})}function k({label:e,value:r,children:n}){return(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("span",{className:"text-[10px] uppercase tracking-widest text-muted-foreground/60 w-24 shrink-0 pt-0.5",children:e}),n||(0,t.jsx)("span",{className:"text-xs text-foreground break-all",children:r})]})}function w({agent:e,onBack:r}){let n=(0,d.useRouter)(),{walletAddress:a}=(0,c.useWallet)(),o=i.CONTRACTS[e.network],l=o?.blockExplorer||"",p="active"===e.status,x=e.registeredAt?new Date(e.registeredAt).toLocaleString():"",m=parseFloat(e.hirePrice||"0"),g=Array.isArray(e.trustModels)?e.trustModels:[];return(0,t.jsxs)("div",{className:"flex flex-col gap-5",children:[(0,t.jsx)("button",{onClick:r,className:"font-mono text-xs uppercase tracking-widest text-muted-foreground hover:text-foreground transition-colors self-start",children:"← Back to agents"}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("span",{className:(0,s.cn)("h-3 w-3 rounded-full",p?"bg-system-green":"bg-error-red")}),(0,t.jsx)("h2",{className:"font-mono text-2xl md:text-3xl font-bold tracking-tight uppercase text-foreground",children:e.name}),e.agentId&&"pending"!==e.agentId&&(0,t.jsxs)("span",{className:"font-mono text-sm text-muted-foreground/60",children:["#",e.agentId]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(0,t.jsx)("span",{className:"font-mono text-[10px] uppercase tracking-widest text-muted-foreground/60",children:"Deployed on:"}),e.networks.map(e=>(0,t.jsx)("span",{className:(0,s.cn)("font-mono text-[9px] uppercase tracking-wider px-2 py-1 border",u[e]||"border-border text-muted-foreground/60"),children:i.CONTRACTS[e]?.name||e},e))]}),(g.length>0||"true"===e.x402Payment)&&(0,t.jsxs)("div",{className:"flex flex-wrap gap-2",children:[g.map(e=>{let r=j[e];return r?(0,t.jsx)("span",{className:(0,s.cn)("font-mono text-[9px] uppercase tracking-wider px-2 py-1 border",r.style),children:"reputation"===e?"Reputation-Based":"tee-attestation"===e?"TEE Attestation":"Crypto-Economic"},e):null}),"true"===e.x402Payment&&(0,t.jsx)("span",{className:"font-mono text-[9px] uppercase tracking-wider px-2 py-1 border border-system-green/40 text-system-green",children:"x402 Payments Enabled"})]}),(0,t.jsx)("div",{className:"flex items-center gap-3",children:(0,t.jsx)("button",{onClick:()=>n.push(`/hire?network=${e.network}&agentId=${e.agentId}`),className:"font-mono text-xs uppercase tracking-widest px-6 py-2.5 bg-system-green/10 border border-system-green/40 text-system-green hover:bg-system-green/20 transition-colors",children:m>0?`HIRE \u2014 $${m.toFixed(2)} / call`:"HIRE — FREE"})}),(0,t.jsxs)("div",{className:"border border-border p-5 relative",children:[(0,t.jsx)(b,{}),(0,t.jsxs)("div",{className:"space-y-2 text-sm font-mono",children:[(0,t.jsx)(k,{label:"NAME",value:e.name}),(0,t.jsx)(k,{label:"URL",children:(0,t.jsx)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"text-info-blue hover:underline break-all text-xs",children:e.url})}),(0,t.jsx)(k,{label:"DESCRIPTION",value:e.description}),(0,t.jsx)(k,{label:"AGENT ID",value:e.agentId||"Pending"}),(0,t.jsx)(k,{label:"STATUS",children:(0,t.jsx)("span",{className:(0,s.cn)("text-xs",p?"text-system-green":"text-error-red"),children:e.status?.toUpperCase()||"UNKNOWN"})}),(0,t.jsx)(k,{label:"OWNER",children:(0,t.jsx)("span",{className:"text-xs text-foreground break-all",children:e.ownerAddress||"—"})}),(0,t.jsx)(k,{label:"VERSION",value:e.version||"—"}),e.author&&(0,t.jsx)(k,{label:"AUTHOR",value:e.author}),(0,t.jsx)(k,{label:"LICENSE",value:e.license||"—"}),e.registrationTx&&(0,t.jsx)(k,{label:"REG TX",children:(0,t.jsx)("a",{href:`${l}/tx/${e.registrationTx}`,target:"_blank",rel:"noopener noreferrer",className:"text-info-blue hover:underline break-all text-xs",children:e.registrationTx})}),x&&(0,t.jsx)(k,{label:"REGISTERED",value:x})]})]}),(e.mcpEndpoint||e.a2aEndpoint)&&(0,t.jsxs)("div",{className:"border border-border p-5 relative",children:[(0,t.jsx)(b,{}),(0,t.jsx)("span",{className:"font-mono text-[10px] uppercase tracking-widest text-muted-foreground/60 block mb-3",children:"Protocol Endpoints"}),(0,t.jsxs)("div",{className:"space-y-2 font-mono",children:[e.mcpEndpoint&&(0,t.jsx)(k,{label:"MCP",children:(0,t.jsx)("a",{href:e.mcpEndpoint,target:"_blank",rel:"noopener noreferrer",className:"text-info-blue hover:underline break-all text-xs",children:e.mcpEndpoint})}),e.a2aEndpoint&&(0,t.jsx)(k,{label:"A2A",children:(0,t.jsx)("a",{href:e.a2aEndpoint,target:"_blank",rel:"noopener noreferrer",className:"text-info-blue hover:underline break-all text-xs",children:e.a2aEndpoint})})]})]}),(0,t.jsx)(C,{agent:e,isOwner:!!a&&e.ownerAddress?.toLowerCase()===a.toLowerCase()}),(0,t.jsx)(A,{agent:e})]})}function A({agent:e}){let n=i.CONTRACTS[e.network],[a,d]=(0,r.useState)([]),[l,c]=(0,r.useState)(null),[p,u]=(0,r.useState)(!0),x=(0,r.useRef)(!1);async function m(){try{let t=new o.ethers.JsonRpcProvider(n.rpc),r=new o.ethers.Contract(n.reputationRegistry,i.REPUTATION_REGISTRY_ABI,t),a=await r.getClients(e.agentId);if(0===a.length){c({count:0,avg:0}),u(!1);return}try{let[t,n,s]=await r.getSummary(e.agentId,a,"",""),o=Number(t),i=o>0?Number(n)/Math.pow(10,Number(s)):0;c({count:o,avg:i})}catch{c({count:0,avg:0})}let s=[];for(let t of a){let n=Number(await r.getLastIndex(e.agentId,t));for(let a=1;a<=n;a++)try{let[n,,o,i,d]=await r.readFeedback(e.agentId,t,a);d||s.push({clientAddress:t,index:a,value:Number(n),tag1:o,tag2:i,isRevoked:d})}catch{}}d(s)}catch(e){console.error("Failed to fetch feedback:",e)}finally{u(!1)}}return(0,r.useEffect)(()=>{if(!x.current){if(x.current=!0,!e.agentId||"pending"===e.agentId||!n)return void u(!1);m()}},[]),(0,t.jsxs)("div",{className:"flex flex-col gap-5",children:[(0,t.jsxs)("div",{className:"border border-border p-5 relative",children:[(0,t.jsx)(b,{}),(0,t.jsx)("span",{className:"font-mono text-[10px] uppercase tracking-widest text-muted-foreground/60 block mb-4",children:"Reputation"}),p?(0,t.jsx)("div",{className:"flex gap-4",children:[1,2,3].map(e=>(0,t.jsx)("div",{className:"flex-1 h-20 bg-muted-foreground/5 border border-border animate-pulse"},e))}):(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{className:"border border-border p-4 text-center",children:[(0,t.jsx)("span",{className:"font-mono text-2xl font-bold text-foreground block",children:l?`${l.avg.toFixed(1)}/5`:"—"}),(0,t.jsx)("span",{className:"font-mono text-[9px] uppercase tracking-widest text-muted-foreground/60",children:"Avg Score"})]}),(0,t.jsxs)("div",{className:"border border-border p-4 text-center",children:[(0,t.jsx)("span",{className:"font-mono text-2xl font-bold text-foreground block",children:l?.count??0}),(0,t.jsx)("span",{className:"font-mono text-[9px] uppercase tracking-widest text-muted-foreground/60",children:"Total Feedback"})]}),(0,t.jsxs)("div",{className:"border border-border p-4 text-center",children:[(0,t.jsx)("span",{className:"font-mono text-2xl font-bold text-foreground block",children:l?Math.round(20*l.avg):0}),(0,t.jsx)("span",{className:"font-mono text-[9px] uppercase tracking-widest text-muted-foreground/60",children:"Score /100"})]})]})]}),(0,t.jsx)("div",{className:"border border-border/60 px-4 py-3 text-center",children:(0,t.jsx)("span",{className:"font-mono text-[10px] uppercase tracking-widest text-muted-foreground/50",children:"Feedback can only be submitted after hiring and using this agent"})}),!p&&a.length>0&&(0,t.jsxs)("div",{className:"border border-border p-5 relative",children:[(0,t.jsx)(b,{}),(0,t.jsxs)("span",{className:"font-mono text-[10px] uppercase tracking-widest text-muted-foreground/60 block mb-4",children:["Feedback (",a.length,")"]}),(0,t.jsx)("div",{className:"space-y-3",children:a.map((e,r)=>(0,t.jsxs)("div",{className:"border border-border/60 p-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)("span",{className:"font-mono text-[9px] text-muted-foreground/40",children:[e.clientAddress.slice(0,6),"...",e.clientAddress.slice(-4)]}),e.tag1&&(0,t.jsx)("span",{className:"font-mono text-[9px] uppercase tracking-wider text-muted-foreground/50 border border-border/40 px-1.5 py-0.5",children:e.tag1})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[Array.from({length:5}).map((r,n)=>(0,t.jsx)("span",{className:(0,s.cn)("text-sm",n<e.value?"text-warning-amber":"text-border"),children:"★"},n)),(0,t.jsxs)("span",{className:"font-mono text-xs text-foreground ml-1",children:[e.value,"/5"]})]})]}),e.tag2&&(0,t.jsx)("p",{className:"font-mono text-[11px] text-muted-foreground leading-relaxed",children:e.tag2})]},`${e.clientAddress}-${e.index}-${r}`))})]}),!p&&0===a.length&&(0,t.jsxs)("div",{className:"border border-border p-5 relative text-center",children:[(0,t.jsx)(b,{}),(0,t.jsx)("span",{className:"font-mono text-xs uppercase tracking-widest text-muted-foreground/40",children:"No feedback yet"})]})]})}let I={WAV:"Web Availability",WV:"Wallet Verification",ETV:"On-Chain Transaction"};function S({score:e,label:r}){return(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("span",{className:"font-mono text-[10px] uppercase tracking-widest text-muted-foreground/60 w-32 shrink-0",children:r}),(0,t.jsx)("div",{className:"flex-1 h-2 bg-muted-foreground/10 relative overflow-hidden",children:(0,t.jsx)("div",{className:(0,s.cn)("h-full transition-all duration-500",e>=70?"bg-green-500":e>=40?"bg-yellow-500":"bg-red-500"),style:{width:`${e}%`}})}),(0,t.jsx)("span",{className:"font-mono text-xs text-foreground w-10 text-right",children:e})]})}function C({agent:e,isOwner:n}){let{signedFetch:a}=(0,c.useWallet)(),[o,i]=(0,r.useState)(null),[d,p]=(0,r.useState)(!0),[u,x]=(0,r.useState)(!1),[m,g]=(0,r.useState)(null);async function f(){x(!0),g(null);try{let t=await (0,l.apiVerifyAgent)(e.network,e.agentId,a);i(t)}catch(e){g(e instanceof Error?e.message:String(e))}finally{x(!1)}}return(0,r.useEffect)(()=>{e.agentId&&"pending"!==e.agentId?(0,l.apiGetVerification)(e.network,e.agentId).then(e=>{e&&e.riskTier&&i(e)}).catch(()=>{}).finally(()=>p(!1)):p(!1)},[e.network,e.agentId]),(0,t.jsxs)("div",{className:"border border-border p-5 relative",children:[(0,t.jsx)(b,{}),(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("span",{className:"font-mono text-[10px] uppercase tracking-widest text-muted-foreground/60",children:"ERC-8126 Verification"}),n&&(0,t.jsx)("button",{onClick:f,disabled:u||!e.agentId||"pending"===e.agentId,className:"font-mono text-[10px] uppercase tracking-widest border border-border px-3 py-1.5 hover:border-foreground/30 hover:text-foreground transition-colors text-muted-foreground disabled:opacity-30",children:u?"Verifying...":o?"Re-verify":"Verify Now"})]}),d?(0,t.jsx)("div",{className:"h-20 bg-muted-foreground/5 animate-pulse"}):o?(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{className:"border border-border p-4 text-center",children:[(0,t.jsx)("span",{className:"font-mono text-2xl font-bold text-foreground block",children:o.overallScore}),(0,t.jsx)("span",{className:"font-mono text-[9px] uppercase tracking-widest text-muted-foreground/60",children:"Score /100"})]}),(0,t.jsxs)("div",{className:"border border-border p-4 text-center",children:[(0,t.jsx)("span",{className:(0,s.cn)("font-mono text-sm font-bold block px-2 py-1 border",h[o.riskTier]||"border-border text-muted-foreground"),children:y(o.overallScore)}),(0,t.jsx)("span",{className:"font-mono text-[9px] uppercase tracking-widest text-muted-foreground/60 mt-1 block",children:"Status"})]}),(0,t.jsxs)("div",{className:"border border-border p-4 text-center",children:[(0,t.jsx)("span",{className:"font-mono text-sm text-foreground block",children:o.verifiedAt?new Date(o.verifiedAt).toLocaleDateString():"—"}),(0,t.jsx)("span",{className:"font-mono text-[9px] uppercase tracking-widest text-muted-foreground/60 mt-1 block",children:"Last Verified"})]})]}),o.proofs&&o.proofs.length>0&&(0,t.jsx)("div",{className:"space-y-3",children:o.proofs.map((e,r)=>(0,t.jsx)(S,{score:e.score,label:I[e.proofType]||e.proofType},r))}),o.txHash&&(0,t.jsxs)("div",{className:"font-mono text-[10px] text-muted-foreground/40",children:["On-chain tx: ",(0,t.jsx)("span",{className:"text-info-blue",children:o.txHash})]})]}):(0,t.jsx)("div",{className:"text-center py-4",children:(0,t.jsx)("span",{className:"font-mono text-xs uppercase tracking-widest text-muted-foreground/40",children:n?'Not yet verified — click "Verify Now" to run ERC-8126 checks':"Not yet verified"})}),m&&(0,t.jsx)("div",{className:"mt-3 border border-error-red/40 bg-error-red/5 px-4 py-2",children:(0,t.jsx)("span",{className:"font-mono text-xs text-error-red",children:m})})]})}e.s(["default",()=>g])}]);