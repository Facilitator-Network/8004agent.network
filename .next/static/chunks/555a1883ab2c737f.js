(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,88653,e=>{"use strict";e.i(47167);var t=e.i(43476),n=e.i(71645),r=e.i(31178),a=e.i(47414),s=e.i(74008),o=e.i(21476),i=e.i(72846),d=n,l=e.i(37806);function c(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}class u extends d.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent&&!1!==this.props.pop){let e=t.offsetParent,n=(0,i.isHTMLElement)(e)&&e.offsetWidth||0,r=(0,i.isHTMLElement)(e)&&e.offsetHeight||0,a=this.props.sizeRef.current;a.height=t.offsetHeight||0,a.width=t.offsetWidth||0,a.top=t.offsetTop,a.left=t.offsetLeft,a.right=n-a.width-a.left,a.bottom=r-a.height-a.top}return null}componentDidUpdate(){}render(){return this.props.children}}function p({children:e,isPresent:r,anchorX:a,anchorY:s,root:o,pop:i}){let p=(0,d.useId)(),m=(0,d.useRef)(null),x=(0,d.useRef)({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:g}=(0,d.useContext)(l.MotionConfigContext),f=function(...e){return n.useCallback(function(...e){return t=>{let n=!1,r=e.map(e=>{let r=c(e,t);return n||"function"!=typeof r||(n=!0),r});if(n)return()=>{for(let t=0;t<r.length;t++){let n=r[t];"function"==typeof n?n():c(e[t],null)}}}}(...e),e)}(m,e.props?.ref??e?.ref);return(0,d.useInsertionEffect)(()=>{let{width:e,height:t,top:n,left:d,right:l,bottom:c}=x.current;if(r||!1===i||!m.current||!e||!t)return;let u="left"===a?`left: ${d}`:`right: ${l}`,f="bottom"===s?`bottom: ${c}`:`top: ${n}`;m.current.dataset.motionPopId=p;let h=document.createElement("style");g&&(h.nonce=g);let b=o??document.head;return b.appendChild(h),h.sheet&&h.sheet.insertRule(`
          [data-motion-pop-id="${p}"] {
            position: absolute !important;
            width: ${e}px !important;
            height: ${t}px !important;
            ${u}px !important;
            ${f}px !important;
          }
        `),()=>{b.contains(h)&&b.removeChild(h)}},[r]),(0,t.jsx)(u,{isPresent:r,childRef:m,sizeRef:x,pop:i,children:!1===i?e:d.cloneElement(e,{ref:f})})}let m=({children:e,initial:r,isPresent:s,onExitComplete:i,custom:d,presenceAffectsLayout:l,mode:c,anchorX:u,anchorY:m,root:g})=>{let f=(0,a.useConstant)(x),h=(0,n.useId)(),b=!0,y=(0,n.useMemo)(()=>(b=!1,{id:h,initial:r,isPresent:s,custom:d,onExitComplete:e=>{for(let t of(f.set(e,!0),f.values()))if(!t)return;i&&i()},register:e=>(f.set(e,!1),()=>f.delete(e))}),[s,f,i]);return l&&b&&(y={...y}),(0,n.useMemo)(()=>{f.forEach((e,t)=>f.set(t,!1))},[s]),n.useEffect(()=>{s||f.size||!i||i()},[s]),e=(0,t.jsx)(p,{pop:"popLayout"===c,isPresent:s,anchorX:u,anchorY:m,root:g,children:e}),(0,t.jsx)(o.PresenceContext.Provider,{value:y,children:e})};function x(){return new Map}var g=e.i(64978);let f=e=>e.key||"";function h(e){let t=[];return n.Children.forEach(e,e=>{(0,n.isValidElement)(e)&&t.push(e)}),t}let b=({children:e,custom:o,initial:i=!0,onExitComplete:d,presenceAffectsLayout:l=!0,mode:c="sync",propagate:u=!1,anchorX:p="left",anchorY:x="top",root:b})=>{let[y,v]=(0,g.usePresence)(u),j=(0,n.useMemo)(()=>h(e),[e]),N=u&&!y?[]:j.map(f),k=(0,n.useRef)(!0),w=(0,n.useRef)(j),A=(0,a.useConstant)(()=>new Map),I=(0,n.useRef)(new Set),[C,S]=(0,n.useState)(j),[E,T]=(0,n.useState)(j);(0,s.useIsomorphicLayoutEffect)(()=>{k.current=!1,w.current=j;for(let e=0;e<E.length;e++){let t=f(E[e]);N.includes(t)?(A.delete(t),I.current.delete(t)):!0!==A.get(t)&&A.set(t,!1)}},[E,N.length,N.join("-")]);let R=[];if(j!==C){let e=[...j];for(let t=0;t<E.length;t++){let n=E[t],r=f(n);N.includes(r)||(e.splice(t,0,n),R.push(n))}return"wait"===c&&R.length&&(e=R),T(h(e)),S(j),null}let{forceRender:$}=(0,n.useContext)(r.LayoutGroupContext);return(0,t.jsx)(t.Fragment,{children:E.map(e=>{let n=f(e),r=(!u||!!y)&&(j===E||N.includes(n));return(0,t.jsx)(m,{isPresent:r,initial:(!k.current||!!i)&&void 0,custom:o,presenceAffectsLayout:l,mode:c,root:b,onExitComplete:r?void 0:()=>{if(I.current.has(n)||(I.current.add(n),!A.has(n)))return;A.set(n,!0);let e=!0;A.forEach(t=>{t||(e=!1)}),e&&($?.(),T(w.current),u&&v?.(),d&&d())},anchorX:p,anchorY:x,children:e},n)})})};e.s(["AnimatePresence",()=>b],88653)},4319,54858,e=>{"use strict";let t="https://agent-cli-backend.onrender.com";async function n(e,n){let r=await fetch(`${t}${e}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}),a=await r.json().catch(()=>({}));if(!r.ok)throw Error(a.error||r.statusText||`HTTP ${r.status}`);return a}async function r(e){let n=await fetch(`${t}${e}`),r=await n.json().catch(()=>({}));if(!n.ok)throw Error(r.error||n.statusText||`HTTP ${n.status}`);return r}async function a(e,t){let n=new URLSearchParams;return e&&n.set("name",e),t&&n.set("url",t),r(`/api/agents/check?${n.toString()}`)}async function s(e){return n("/api/circle/create-wallet",{agentId:e})}async function o(e){return n("/api/agents",e)}async function i(){return r("/api/agents")}async function d(e){let t=e?`?status=${e}`:"";return r(`/api/arena/events${t}`)}async function l(e){return r(`/api/arena/events/${e}`)}async function c(e){return n("/api/arena/events",e)}async function u(e,t){return n(`/api/arena/events/${e}/register`,t)}async function p(e,t){return n(`/api/arena/events/${e}/status`,t)}async function m(e,t){return n(`/api/arena/events/${e}/vote`,t)}async function x(e,t){return n(`/api/arena/events/${e}/judge`,t)}async function g(e,t){return n(`/api/arena/events/${e}/distribute`,t)}async function f(e){return r(`/api/arena/admin-check?address=${e}`)}async function h(){return r("/api/arena/leaderboard")}e.s(["API_BASE",0,t,"APPLICATION_DOMAINS",0,{Technology:["Technology","Software Engineering","DevOps","Data Science","Blockchain","DeFi","Cybersecurity","Cloud Computing"],"Finance & Business":["Finance & Business","Finance","Banking"],Healthcare:["Healthcare","Telemedicine","Healthcare Informatics"],Education:["Education","E-Learning"]},"CONTRACTS",0,{sepolia:{name:"Ethereum Sepolia",rpc:"https://ethereum-sepolia-rpc.publicnode.com",chainId:0xaa36a7,chainIdHex:"0xaa36a7",blockExplorer:"https://sepolia.etherscan.io",identityRegistry:"0x8004A818BFB912233c491871b3d84c89A494BD9e",reputationRegistry:"0x8004B663056A597Dffe9eCcC1965A193B7388713",facinetNetwork:"ethereum-sepolia"},baseSepolia:{name:"Base Sepolia",rpc:"https://sepolia.base.org",chainId:84532,chainIdHex:"0x14a34",blockExplorer:"https://sepolia.basescan.org",identityRegistry:"0x8004A818BFB912233c491871b3d84c89A494BD9e",reputationRegistry:"0x8004B663056A597Dffe9eCcC1965A193B7388713",facinetNetwork:"base-sepolia"},fuji:{name:"Avalanche Fuji",rpc:"https://api.avax-test.network/ext/bc/C/rpc",chainId:43113,chainIdHex:"0xa869",blockExplorer:"https://testnet.snowtrace.io",identityRegistry:"0x8004A818BFB912233c491871b3d84c89A494BD9e",reputationRegistry:"0x8004B663056A597Dffe9eCcC1965A193B7388713",facinetNetwork:"avalanche-fuji"},arbitrumSepolia:{name:"Arbitrum Sepolia",rpc:"https://sepolia-rollup.arbitrum.io/rpc",chainId:421614,chainIdHex:"0x66eee",blockExplorer:"https://sepolia.arbiscan.io",identityRegistry:"0x8004A818BFB912233c491871b3d84c89A494BD9e",reputationRegistry:"0x8004B663056A597Dffe9eCcC1965A193B7388713",facinetNetwork:"arbitrum-sepolia"},monadTestnet:{name:"Monad Testnet",rpc:"https://testnet-rpc.monad.xyz",chainId:10143,chainIdHex:"0x279f",blockExplorer:"https://testnet.monadexplorer.com",identityRegistry:"0x8004A818BFB912233c491871b3d84c89A494BD9e",reputationRegistry:"0x8004B663056A597Dffe9eCcC1965A193B7388713",facinetNetwork:"monad-testnet"}},"DEFAULT_FORM_DATA",0,{name:"",url:"",imageUrl:"",description:"",version:"1.0.0",author:"",license:"MIT",mcpEndpoint:"",a2aEndpoint:"",skills:[],customSkills:"",domains:[],customDomains:"",metadataStorage:"on-chain",trustModels:[],x402Payment:!0,activationStatus:"active",hirePrice:"0"},"IDENTITY_REGISTRY_ABI",0,[{inputs:[{name:"agentURI",type:"string"}],name:"register",outputs:[{name:"agentId",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"from",type:"address"},{name:"to",type:"address"},{name:"tokenId",type:"uint256"}],name:"transferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"tokenId",type:"uint256"},{name:"uri",type:"string"}],name:"setAgentURI",outputs:[],stateMutability:"nonpayable",type:"function"},{anonymous:!1,inputs:[{indexed:!0,name:"agentId",type:"uint256"},{indexed:!1,name:"agentURI",type:"string"},{indexed:!0,name:"owner",type:"address"}],name:"Registered",type:"event"}],"OASF_SKILLS",0,{"Natural Language Processing":["Natural Language Processing","Summarization","Question Answering","Sentiment Analysis","Translation","Named Entity Recognition","Storytelling"],"Images & Computer Vision":["Computer Vision","Image Generation","Image Classification","Object Detection"],"Multi Modal":["Speech Recognition","Text-to-Speech","Text to Image","Image to Text"],"Analytical Skills":["Code Generation","Code Optimization","Math Problem Solving"],"Data Engineering":["Data Analysis","Database Query","API Integration"]},"REPUTATION_REGISTRY_ABI",0,[{inputs:[{name:"agentId",type:"uint256"},{name:"value",type:"int128"},{name:"valueDecimals",type:"uint8"},{name:"tag1",type:"string"},{name:"tag2",type:"string"},{name:"endpoint",type:"string"},{name:"feedbackURI",type:"string"},{name:"feedbackHash",type:"bytes32"}],name:"giveFeedback",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"agentId",type:"uint256"}],name:"getClients",outputs:[{name:"",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[{name:"agentId",type:"uint256"},{name:"clientAddress",type:"address"}],name:"getLastIndex",outputs:[{name:"",type:"uint64"}],stateMutability:"view",type:"function"},{inputs:[{name:"agentId",type:"uint256"},{name:"clientAddress",type:"address"},{name:"feedbackIndex",type:"uint64"}],name:"readFeedback",outputs:[{name:"value",type:"int128"},{name:"valueDecimals",type:"uint8"},{name:"tag1",type:"string"},{name:"tag2",type:"string"},{name:"isRevoked",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{name:"agentId",type:"uint256"},{name:"clientAddresses",type:"address[]"},{name:"tag1",type:"string"},{name:"tag2",type:"string"}],name:"getSummary",outputs:[{name:"count",type:"uint64"},{name:"summaryValue",type:"int128"},{name:"summaryValueDecimals",type:"uint8"}],stateMutability:"view",type:"function"},{anonymous:!1,inputs:[{indexed:!0,name:"agentId",type:"uint256"},{indexed:!0,name:"clientAddress",type:"address"},{indexed:!1,name:"feedbackIndex",type:"uint64"},{indexed:!1,name:"value",type:"int128"},{indexed:!1,name:"valueDecimals",type:"uint8"},{indexed:!0,name:"indexedTag1",type:"string"},{indexed:!1,name:"tag1",type:"string"},{indexed:!1,name:"tag2",type:"string"},{indexed:!1,name:"endpoint",type:"string"},{indexed:!1,name:"feedbackURI",type:"string"},{indexed:!1,name:"feedbackHash",type:"bytes32"}],name:"NewFeedback",type:"event"}],"TRUST_MODELS",0,[{name:"Reputation-Based",value:"reputation"},{name:"Crypto-Economic (Staking)",value:"crypto-economic"},{name:"TEE Attestation",value:"tee-attestation"}],"USDC_ABI",0,[{inputs:[{name:"to",type:"address"},{name:"amount",type:"uint256"}],name:"transfer",outputs:[{name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"account",type:"address"}],name:"balanceOf",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Transfer",type:"event"}],"USDC_ADDRESS",0,"0x5425890298aed601595a70AB815c96711a31Bc65","USDC_DECIMALS",0,6],4319),e.s(["apiCheckAdmin",()=>f,"apiCheckAgent",()=>a,"apiCreateCircleWallet",()=>s,"apiCreateEvent",()=>c,"apiDistributePrizes",()=>g,"apiGetEvent",()=>l,"apiGetLeaderboard",()=>h,"apiJudgeEvent",()=>x,"apiListAgents",()=>i,"apiListEvents",()=>d,"apiRegisterForEvent",()=>u,"apiStoreAgent",()=>o,"apiUpdateEventStatus",()=>p,"apiVoteEvent",()=>m],54858)},61628,e=>{"use strict";var t=e.i(43476),n=e.i(71645),r=e.i(46932),a=e.i(88653),s=e.i(47163),o=e.i(54238),i=e.i(4319),d=e.i(54858),l=e.i(43363),c=e.i(37799);let u=[{key:"all",label:"ALL"},...Object.entries(i.CONTRACTS).map(([e,t])=>({key:e,label:t.name}))];function p(){let[e,o]=(0,n.useState)([]),[l,c]=(0,n.useState)(!0),[p,x]=(0,n.useState)(null),[f,b]=(0,n.useState)("all"),[y,v]=(0,n.useState)(null),[j,N]=(0,n.useState)(1);(0,n.useEffect)(()=>{(0,d.apiListAgents)().then(e=>o(e.agents||[])).catch(e=>x(e.message)).finally(()=>c(!1))},[]);let k="all"===f?e:e.filter(e=>e.network===f),w=Math.max(1,Math.ceil(k.length/18)),A=k.slice((j-1)*18,18*j),I=(0,n.useCallback)(()=>v(null),[]);return(0,t.jsx)("div",{className:"h-full w-full relative flex flex-col overflow-y-auto no-scrollbar",children:(0,t.jsx)("div",{className:"flex-1 flex flex-col items-center pt-24 pb-16 px-4 md:px-8",children:(0,t.jsxs)("div",{className:"w-full max-w-5xl",children:[(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("h1",{className:"font-mono text-3xl md:text-4xl font-bold tracking-tight uppercase text-foreground",children:"AGENTS"}),(0,t.jsx)("p",{className:"font-mono text-[10px] uppercase tracking-widest text-muted-foreground/60 mt-2",children:"Deployed on 8004agent.network"})]}),!y&&(0,t.jsx)("div",{className:"flex flex-wrap gap-2 mb-6",children:u.map(e=>(0,t.jsx)("button",{onClick:()=>{b(e.key),v(null),N(1)},className:(0,s.cn)("font-mono text-[10px] uppercase tracking-wider px-3 py-1.5 border transition-colors",f===e.key?"border-foreground bg-foreground text-background":"border-border text-muted-foreground hover:border-foreground/30 hover:text-foreground"),children:e.label},e.key))}),!l&&!p&&!y&&(0,t.jsxs)("div",{className:"mb-4 flex items-center gap-3",children:[(0,t.jsxs)("span",{className:"font-mono text-[10px] uppercase tracking-widest text-muted-foreground/60",children:[k.length," agent",1!==k.length?"s":"","all"!==f?` on ${i.CONTRACTS[f]?.name||f}`:""]}),w>1&&(0,t.jsxs)("span",{className:"font-mono text-[10px] uppercase tracking-widest text-muted-foreground/40",children:["Page ",j,"/",w]})]}),(0,t.jsx)(a.AnimatePresence,{mode:"wait",children:l?(0,t.jsx)(r.motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Array.from({length:6}).map((e,n)=>(0,t.jsx)(m,{},n))},"loading"):p?(0,t.jsx)(r.motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"border border-error-red/40 bg-error-red/5 px-4 py-3",children:(0,t.jsx)("span",{className:"font-mono text-xs uppercase tracking-wider text-error-red",children:p})},"error"):y?(0,t.jsx)(r.motion.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},exit:{opacity:0,y:-12},transition:{duration:.2},children:(0,t.jsx)(h,{agent:y,onBack:I})},"detail"):0===k.length?(0,t.jsx)(r.motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"border border-border p-8 text-center",children:(0,t.jsxs)("span",{className:"font-mono text-xs uppercase tracking-widest text-muted-foreground/60",children:["No agents found","all"!==f?` on ${i.CONTRACTS[f]?.name||f}`:""]})},"empty"):(0,t.jsxs)(r.motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"flex flex-col gap-6",children:[(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:A.map((e,n)=>(0,t.jsx)(g,{agent:e,onClick:()=>v(e)},`${e.network}-${e.agentId}-${n}`))}),w>1&&(0,t.jsxs)("div",{className:"flex items-center justify-center gap-2 pt-2",children:[(0,t.jsx)("button",{onClick:()=>N(e=>Math.max(1,e-1)),disabled:1===j,className:"font-mono text-[10px] uppercase tracking-widest px-3 py-1.5 border border-border text-muted-foreground hover:text-foreground hover:border-foreground/30 transition-colors disabled:opacity-30 disabled:pointer-events-none",children:"← Prev"}),Array.from({length:w},(e,t)=>t+1).map(e=>(0,t.jsx)("button",{onClick:()=>N(e),className:(0,s.cn)("font-mono text-[10px] uppercase tracking-widest w-8 h-8 border transition-colors",e===j?"border-foreground bg-foreground text-background":"border-border text-muted-foreground hover:border-foreground/30 hover:text-foreground"),children:e},e)),(0,t.jsx)("button",{onClick:()=>N(e=>Math.min(w,e+1)),disabled:j===w,className:"font-mono text-[10px] uppercase tracking-widest px-3 py-1.5 border border-border text-muted-foreground hover:text-foreground hover:border-foreground/30 transition-colors disabled:opacity-30 disabled:pointer-events-none",children:"Next →"})]})]},`grid-${j}`)})]})})})}function m(){return(0,t.jsxs)("div",{className:"border border-border p-5 relative animate-pulse",children:[(0,t.jsx)(x,{opacity:10}),(0,t.jsx)("div",{className:"h-4 w-2/3 bg-muted-foreground/10 rounded mb-3"}),(0,t.jsx)("div",{className:"h-3 w-1/3 bg-muted-foreground/10 rounded mb-4"}),(0,t.jsx)("div",{className:"h-3 w-full bg-muted-foreground/10 rounded mb-2"}),(0,t.jsx)("div",{className:"h-3 w-4/5 bg-muted-foreground/10 rounded mb-4"}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("div",{className:"h-5 w-16 bg-muted-foreground/10 rounded"}),(0,t.jsx)("div",{className:"h-5 w-16 bg-muted-foreground/10 rounded"})]})]})}function x({opacity:e=20}){let n=`border-foreground/${e}`;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:`absolute top-2 left-2 w-3 h-3 border-t border-l ${n}`}),(0,t.jsx)("div",{className:`absolute top-2 right-2 w-3 h-3 border-t border-r ${n}`}),(0,t.jsx)("div",{className:`absolute bottom-2 left-2 w-3 h-3 border-b border-l ${n}`}),(0,t.jsx)("div",{className:`absolute bottom-2 right-2 w-3 h-3 border-b border-r ${n}`})]})}function g({agent:e,onClick:n}){let r=i.CONTRACTS[e.network]?.name||e.network,a="active"===e.status,o=Array.isArray(e.skills)?e.skills:[],d=parseFloat(e.hirePrice||"0"),l=e.registeredAt?new Date(e.registeredAt).toLocaleDateString():"";return(0,t.jsxs)("button",{type:"button",onClick:n,className:"border border-border p-5 relative text-left cursor-pointer hover:border-foreground/30 transition-colors group w-full",children:[(0,t.jsx)(x,{}),(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-1.5",children:[(0,t.jsx)("span",{className:(0,s.cn)("h-2 w-2 rounded-full shrink-0",a?"bg-system-green":"bg-error-red")}),(0,t.jsx)("span",{className:"font-mono text-sm font-bold uppercase tracking-wider text-foreground truncate",children:e.name}),e.agentId&&"pending"!==e.agentId&&(0,t.jsxs)("span",{className:"font-mono text-[10px] text-muted-foreground/60 shrink-0",children:["#",e.agentId]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,t.jsx)("span",{className:"font-mono text-[9px] uppercase tracking-wider text-muted-foreground/50 border border-border px-1.5 py-0.5",children:r}),(0,t.jsx)("span",{className:(0,s.cn)("font-mono text-[9px] uppercase tracking-wider",d>0?"text-system-green":"text-muted-foreground/40"),children:d>0?`$${d.toFixed(2)} USDC`:"FREE"})]}),e.description&&(0,t.jsx)("p",{className:"font-mono text-[11px] text-muted-foreground leading-relaxed line-clamp-2 mb-3",children:e.description}),o.length>0&&(0,t.jsxs)("div",{className:"flex flex-wrap gap-1.5 mb-3",children:[o.slice(0,3).map(e=>(0,t.jsx)("span",{className:"font-mono text-[9px] uppercase tracking-wider text-muted-foreground/60 border border-border/60 px-1.5 py-0.5",children:e},e)),o.length>3&&(0,t.jsxs)("span",{className:"font-mono text-[9px] text-muted-foreground/40",children:["+",o.length-3]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[e.ownerAddress&&(0,t.jsxs)("span",{className:"font-mono text-[9px] text-muted-foreground/40 truncate",children:[e.ownerAddress.slice(0,6),"...",e.ownerAddress.slice(-4)]}),l&&(0,t.jsx)("span",{className:"font-mono text-[9px] text-muted-foreground/40 shrink-0",children:l})]})]})}function f({label:e,value:n,children:r}){return(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("span",{className:"text-[10px] uppercase tracking-widest text-muted-foreground/60 w-24 shrink-0 pt-0.5",children:e}),r||(0,t.jsx)("span",{className:"text-xs text-foreground break-all",children:n})]})}function h({agent:e,onBack:n}){let r=i.CONTRACTS[e.network],a=r?.name||e.network,o=r?.blockExplorer||"",d="active"===e.status,l=e.registeredAt?new Date(e.registeredAt).toLocaleString():"";return(0,t.jsxs)("div",{className:"flex flex-col gap-5",children:[(0,t.jsx)("button",{onClick:n,className:"font-mono text-xs uppercase tracking-widest text-muted-foreground hover:text-foreground transition-colors self-start",children:"← Back to agents"}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("span",{className:(0,s.cn)("h-3 w-3 rounded-full",d?"bg-system-green":"bg-error-red")}),(0,t.jsx)("h2",{className:"font-mono text-2xl md:text-3xl font-bold tracking-tight uppercase text-foreground",children:e.name}),e.agentId&&"pending"!==e.agentId&&(0,t.jsxs)("span",{className:"font-mono text-sm text-muted-foreground/60",children:["#",e.agentId]})]}),(0,t.jsxs)("div",{className:"border border-border p-5 relative",children:[(0,t.jsx)(x,{}),(0,t.jsxs)("div",{className:"space-y-2 text-sm font-mono",children:[(0,t.jsx)(f,{label:"NAME",value:e.name}),(0,t.jsx)(f,{label:"URL",children:(0,t.jsx)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"text-info-blue hover:underline break-all text-xs",children:e.url})}),(0,t.jsx)(f,{label:"DESCRIPTION",value:e.description}),(0,t.jsx)(f,{label:"AGENT ID",value:e.agentId||"Pending"}),(0,t.jsx)(f,{label:"NETWORK",value:a}),(0,t.jsx)(f,{label:"STATUS",children:(0,t.jsx)("span",{className:(0,s.cn)("text-xs",d?"text-system-green":"text-error-red"),children:e.status?.toUpperCase()||"UNKNOWN"})}),(0,t.jsx)(f,{label:"OWNER",children:(0,t.jsx)("span",{className:"text-xs text-foreground break-all",children:e.ownerAddress||"—"})}),(0,t.jsx)(f,{label:"VERSION",value:e.version||"—"}),e.author&&(0,t.jsx)(f,{label:"AUTHOR",value:e.author}),(0,t.jsx)(f,{label:"LICENSE",value:e.license||"—"}),e.registrationTx&&(0,t.jsx)(f,{label:"REG TX",children:(0,t.jsx)("a",{href:`${o}/tx/${e.registrationTx}`,target:"_blank",rel:"noopener noreferrer",className:"text-info-blue hover:underline break-all text-xs",children:e.registrationTx})}),l&&(0,t.jsx)(f,{label:"REGISTERED",value:l})]})]}),(e.mcpEndpoint||e.a2aEndpoint)&&(0,t.jsxs)("div",{className:"border border-border p-5 relative",children:[(0,t.jsx)(x,{}),(0,t.jsx)("span",{className:"font-mono text-[10px] uppercase tracking-widest text-muted-foreground/60 block mb-3",children:"Protocol Endpoints"}),(0,t.jsxs)("div",{className:"space-y-2 font-mono",children:[e.mcpEndpoint&&(0,t.jsx)(f,{label:"MCP",children:(0,t.jsx)("a",{href:e.mcpEndpoint,target:"_blank",rel:"noopener noreferrer",className:"text-info-blue hover:underline break-all text-xs",children:e.mcpEndpoint})}),e.a2aEndpoint&&(0,t.jsx)(f,{label:"A2A",children:(0,t.jsx)("a",{href:e.a2aEndpoint,target:"_blank",rel:"noopener noreferrer",className:"text-info-blue hover:underline break-all text-xs",children:e.a2aEndpoint})})]})]}),(0,t.jsx)(b,{agent:e})]})}function b({agent:e}){let{walletAddress:r,signer:a}=(0,c.useWallet)(),d=i.CONTRACTS[e.network],[u,p]=(0,n.useState)([]),[m,g]=(0,n.useState)(null),[f,h]=(0,n.useState)(!0),[b,y]=(0,n.useState)(!1),[v,j]=(0,n.useState)(null),[N,k]=(0,n.useState)(5),[w,A]=(0,n.useState)(""),I=(0,n.useRef)(!1);async function C(){try{let t=new o.ethers.JsonRpcProvider(d.rpc),n=new o.ethers.Contract(d.reputationRegistry,i.REPUTATION_REGISTRY_ABI,t),r=await n.getClients(e.agentId);if(0===r.length){g({count:0,avg:0}),h(!1);return}try{let[t,a,s]=await n.getSummary(e.agentId,r,"",""),o=Number(t),i=o>0?Number(a)/Math.pow(10,Number(s)):0;g({count:o,avg:i})}catch{g({count:0,avg:0})}let a=[];for(let t of r){let r=Number(await n.getLastIndex(e.agentId,t));for(let s=1;s<=r;s++)try{let[r,,o,i,d]=await n.readFeedback(e.agentId,t,s);d||a.push({clientAddress:t,index:s,value:Number(r),tag1:o,tag2:i,isRevoked:d})}catch{}}p(a)}catch(e){console.error("Failed to fetch feedback:",e)}finally{h(!1)}}async function S(){if(r&&a&&e.agentId&&"pending"!==e.agentId){y(!0),j(null);try{let t=`I give feedback score ${N}/5 to agent #${e.agentId} (${e.name}) on ${d.name} via 8004agent.network`,n=await a.signMessage(t),s={network:d.facinetNetwork,chainId:d.chainId},c=await (0,l.selectFacilitator)(s),u=o.ethers.keccak256(o.ethers.toUtf8Bytes(n));await (0,l.facinetExecuteContract)(s,{contractAddress:d.reputationRegistry,functionName:"giveFeedback",functionArgs:[e.agentId,N,0,"rating",w||"",e.url||"",`sig:${r}`,u],abi:i.REPUTATION_REGISTRY_ABI},c),j("Feedback submitted on-chain!"),A(""),k(5),I.current=!1,h(!0),C()}catch(t){let e=t instanceof Error?t.message:String(t);j(`Failed: ${e}`)}finally{y(!1)}}}return(0,n.useEffect)(()=>{if(!I.current){if(I.current=!0,!e.agentId||"pending"===e.agentId||!d)return void h(!1);C()}},[]),(0,t.jsxs)("div",{className:"flex flex-col gap-5",children:[(0,t.jsxs)("div",{className:"border border-border p-5 relative",children:[(0,t.jsx)(x,{}),(0,t.jsx)("span",{className:"font-mono text-[10px] uppercase tracking-widest text-muted-foreground/60 block mb-4",children:"Reputation"}),f?(0,t.jsx)("div",{className:"flex gap-4",children:[1,2,3].map(e=>(0,t.jsx)("div",{className:"flex-1 h-20 bg-muted-foreground/5 border border-border animate-pulse"},e))}):(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{className:"border border-border p-4 text-center",children:[(0,t.jsx)("span",{className:"font-mono text-2xl font-bold text-foreground block",children:m?`${m.avg.toFixed(1)}/5`:"—"}),(0,t.jsx)("span",{className:"font-mono text-[9px] uppercase tracking-widest text-muted-foreground/60",children:"Avg Score"})]}),(0,t.jsxs)("div",{className:"border border-border p-4 text-center",children:[(0,t.jsx)("span",{className:"font-mono text-2xl font-bold text-foreground block",children:m?.count??0}),(0,t.jsx)("span",{className:"font-mono text-[9px] uppercase tracking-widest text-muted-foreground/60",children:"Total Feedback"})]}),(0,t.jsxs)("div",{className:"border border-border p-4 text-center",children:[(0,t.jsx)("span",{className:"font-mono text-2xl font-bold text-foreground block",children:m?Math.round(20*m.avg):0}),(0,t.jsx)("span",{className:"font-mono text-[9px] uppercase tracking-widest text-muted-foreground/60",children:"Score /100"})]})]})]}),(0,t.jsxs)("div",{className:"border border-border p-5 relative",children:[(0,t.jsx)(x,{}),(0,t.jsx)("span",{className:"font-mono text-[10px] uppercase tracking-widest text-muted-foreground/60 block mb-4",children:"Give Feedback"}),r?e.ownerAddress&&r.toLowerCase()===e.ownerAddress.toLowerCase()?(0,t.jsx)("div",{className:"border border-border px-4 py-3",children:(0,t.jsx)("span",{className:"font-mono text-xs uppercase tracking-wider text-muted-foreground/60",children:"You cannot review your own agent"})}):(0,t.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-mono text-[10px] uppercase tracking-widest text-muted-foreground/60 block mb-2",children:"Score"}),(0,t.jsx)("div",{className:"flex gap-2",children:[1,2,3,4,5].map(e=>(0,t.jsx)("button",{onClick:()=>k(e),className:(0,s.cn)("w-10 h-10 font-mono text-sm font-bold border transition-colors",e===N?"border-foreground bg-foreground text-background":"border-border text-muted-foreground hover:border-foreground/30 hover:text-foreground"),children:e},e))})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-mono text-[10px] uppercase tracking-widest text-muted-foreground/60 block mb-2",children:"Comment (optional)"}),(0,t.jsx)("textarea",{value:w,onChange:e=>A(e.target.value),placeholder:"Your feedback...",rows:3,className:"w-full bg-transparent border border-border px-4 py-2.5 font-mono text-sm text-foreground placeholder:text-muted-foreground/40 focus:outline-none focus:border-foreground/40 transition-colors resize-none no-scrollbar"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("button",{onClick:S,disabled:b||!e.agentId||"pending"===e.agentId,className:"font-mono text-xs uppercase tracking-widest bg-foreground text-background px-6 py-2.5 hover:opacity-90 transition-opacity disabled:opacity-30",children:b?"Submitting...":"Submit Feedback"}),(0,t.jsx)("span",{className:"font-mono text-[9px] text-muted-foreground/40 uppercase tracking-wider",children:"Gas covered by Facinet"})]}),v&&(0,t.jsx)("span",{className:(0,s.cn)("font-mono text-xs uppercase tracking-wider",v.startsWith("Failed")?"text-error-red":"text-system-green"),children:v})]}):(0,t.jsx)("div",{className:"border border-warning-amber/40 bg-warning-amber/5 px-4 py-3",children:(0,t.jsx)("span",{className:"font-mono text-xs uppercase tracking-wider text-warning-amber",children:"Connect wallet from navbar to give feedback"})})]}),!f&&u.length>0&&(0,t.jsxs)("div",{className:"border border-border p-5 relative",children:[(0,t.jsx)(x,{}),(0,t.jsxs)("span",{className:"font-mono text-[10px] uppercase tracking-widest text-muted-foreground/60 block mb-4",children:["Feedback (",u.length,")"]}),(0,t.jsx)("div",{className:"space-y-3",children:u.map((e,n)=>(0,t.jsxs)("div",{className:"border border-border/60 p-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)("span",{className:"font-mono text-[9px] text-muted-foreground/40",children:[e.clientAddress.slice(0,6),"...",e.clientAddress.slice(-4)]}),e.tag1&&(0,t.jsx)("span",{className:"font-mono text-[9px] uppercase tracking-wider text-muted-foreground/50 border border-border/40 px-1.5 py-0.5",children:e.tag1})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[Array.from({length:5}).map((n,r)=>(0,t.jsx)("span",{className:(0,s.cn)("text-sm",r<e.value?"text-warning-amber":"text-border"),children:"★"},r)),(0,t.jsxs)("span",{className:"font-mono text-xs text-foreground ml-1",children:[e.value,"/5"]})]})]}),e.tag2&&(0,t.jsx)("p",{className:"font-mono text-[11px] text-muted-foreground leading-relaxed",children:e.tag2})]},`${e.clientAddress}-${e.index}-${n}`))})]}),!f&&0===u.length&&(0,t.jsxs)("div",{className:"border border-border p-5 relative text-center",children:[(0,t.jsx)(x,{}),(0,t.jsx)("span",{className:"font-mono text-xs uppercase tracking-widest text-muted-foreground/40",children:"No feedback yet — be the first to review this agent"})]})]})}e.s(["default",()=>p])}]);